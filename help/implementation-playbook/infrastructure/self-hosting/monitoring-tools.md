---
title: 自主承載Adobe Commerce監測工具
description: 瞭解要考慮的自我托管監控工具的思想和概念以及最佳做法。
landing-page-description: 瞭解一些監控工具概念和您自行主持Adobe Commerce時需要考慮的事項。
short-description: 瞭解自己托管Adobe Commerce的策略和監控工具概念。
kt: 11420
doc-type: tutorial
audience: all
last-substantial-update: 2023-04-13T00:00:00Z
exl-id: 728e9439-63d0-4481-b014-7ba2ce97b9d0
source-git-commit: 95ffff39d82cc9027fa633dffedf15193040802d
workflow-type: tm+mt
source-wordcount: '1716'
ht-degree: 0%

---

# 自主承載Adobe Commerce監測遙測和工具

使用監控工具，您就有機會檢測變化，而不必花錢讓某人一直監視一切。 使用大多數工具，您可以在滿足閾值時添加警報和通知，如硬碟空間不足。 某些工具提供了應跟蹤和計算的輸出，如負載test結果。 無論該工具是什麼，每個工具都有其目的，而且在始終如一地使用時，它們都可以幫助您管理應用程式。 每種工具都有免費選項，但請記住，為服務付費通常可確保更快的可靠支援，並且值得投資。 New Relic是一個工具的例子，它提供免費套餐和付費版本，從而釋放出更多的電力和功能。 還有其它的，如DataDog或Dynatrace。 為您尋找一個好的選項並始終如一地使用它。

## 基礎架構監控

「基礎設施」一詞在這種背景下使用相當寬鬆。 對於本主題，這意味著任何用於使站點運行的伺服器、進程或設備。 例如：

* 硬碟
* CPU使用率
* RAM使用
* 雷迪斯
* 每個伺服器的平均負載
* 網路流量

研究生成有效警報的閾值。 不要為硬碟容量等重要內容分配一個。 設定幾個，以在情況惡化時通知不同的組。 例如，以下是一組當硬碟已滿時的規則。

* 70%Slack到DevOps渠道的通知
* 80%通知Slack室DevOps通道和DevOps隊友的電子郵件分發清單
* 90%通知SlackDevOps渠道和生產支援Slack渠道、電子郵件DevOps分發組和工程經理
* 95%通知SlackDevOps和生產支援Slack渠道、所有工程師的電子郵件分發清單和工程部Director
* 98%通知任何P1Slack渠道和DevOps和生產支援Slack渠道、工程師的電子郵件分發清單、工程部的Director和技術部的副總裁

通知團隊的方法有很多，因此請確保您選擇可靠且不會有太多警報。 當警報很重要時，必須保留警報，否則您將面臨被淹沒的風險，並開始忽略警報。

大多數工具(如New Relic、DataDog和Dynatrace)通常都有好的模板可供遵循。 花點時間尋找對您的應用程式最有意義的好點子。 在雲基礎架構上使用Adobe Commerce，在配置項目時會發出警報和觸發器。 這使Adobe生產支援團隊能夠應用其工具進行正常運行時間和高可用性監控。

儀表板可快速訪問站點的頻繁或重要方面。 儀表板項可以包括頁面視圖、每台主機的CPU使用率、所有伺服器的清單、頁面載入時間、事務持續時間，甚至過去幾天的合成監視test結果。 應構建這些儀表板，以便在出現問題時進行快速檢測，或為不同的用戶體驗設定不同的儀表板。 希望您能夠設計多個儀表板，並能夠即時查看應用程式監控。 這非常令人滿意，尤其是當項目所有者或經理詢問網站的運行情況時，您可以在幾秒鐘內找到答案，而不是幾小時。

## 日誌聚合和旋轉

在處理請求或MySQL日誌的應用程式伺服器上，當執行過長時，會找到日誌檔案。 日誌的難點在於它們彼此分離並找到所有日誌，分析每個日誌中的資訊可能很麻煩。 多年前，這個問題通過一種叫做 _日誌聚合_。 這將從所有日誌位置將日誌檔案推送到集中位置。 移動後，一個軟體就可以讀取它們，並提供搜索、篩選和查看資訊的方法。 這可能是一個棘手的過程。 有許多選項，但是如果幸運的話，您的監控工具可以讀取和聚合日誌檔案，如New Relic。 通過找到一個好工具，您可以在未來為您節省無法估量的時間。 除非您只有一個伺服器，它可以做一切使您的站點運行和運行，否則進行日誌聚合是必不可少的。 當試圖確定您是否受到DDoS攻擊或遇到合法通信高峰時，或者當研究某個請求失敗的原因時，這一點尤其有用。

日誌的另一個關鍵點是確保輪轉發生。 從歷史上看 `run-away logs` 可能會意外地填滿硬碟並導致站點關閉。 當日誌檔案達到某一大小（如1 GB）時，可能會出現日誌旋轉的版本。 存在伺服器級工具，如 `logrotate` 可以自動移除。 例如，它可以在日誌檔案大於1GB時刪除過大的日誌檔案，或刪除90天以前的日誌檔案。 您定義日誌策略，因此瞭解資源限制非常重要。

## 惡意軟體掃描

許多網站托管專門用於Adobe Commerce的公司會擁有一個包含已知漏洞和惡意軟體的庫。 他們應自動或應要求提供掃描。 如果這些方法有效，則它們會反動，並且只在檢測到新的惡意軟體時才起作用。 使用一個主動工具來查看已知惡意軟體的代碼和資料庫可能是個好主意。 有一些選項，例如 [影像報告](https://www.magereport.com){target="_blank"}, [Sansec](https://sansec.io){target="_blank"}, or [Magento Malware Scanner](https://github.com/gwillem/magento-malware-scanner){target="_blank"}。 它們可以從外部進行遠程掃描，也可以在伺服器上設定後主動安裝並更新/掃描/監視。 這可能是一個很好的選項，因為如果您選擇提供的解決方案，如Sansec ，則會不斷更新其庫，因為它們已安裝並監視數千個站點。 當檢測到新的惡意軟體時，他們監視資訊的每個項目都會收到警報。

需要考慮幾個免費版本，但對於惡意軟體，您確實應考慮付費解決方案。 這可能是站點感染幾分鐘與幾個月之間的區別。 在您的站點上進行利用漏洞攻擊會帶來極大的麻煩，這是您應考慮為服務付費的領域。

## Adobe站點範圍分析工具

站點範圍分析工具是一種主動的自助服務工具和中央儲存庫，包括詳細的系統見解和建議，以確保Adobe Commerce安裝的安全性和可操作性。 它提供全天候即時效能監控、報告和建議，以確定潛在問題並更好地瞭解站點運行狀況、安全和應用程式配置。 它有助於縮短解析時間，並提高站點穩定性和效能。

站點範圍分析工具的Recommendations頁面列出了基於最佳實踐的建議，以解決您站點上檢測到的問題。 建議按優先順序PO到P4排序，其中PO至關重要，P4較低。 調查結果包括描述、建議、站點影響、根本原因、方案/先決條件、預期結果和使用的工具。

瞭解提高站點效能的最佳做法。 跟蹤並實施按優先順序列出的建議。

有關如何在項目中安裝此程式的詳細資訊，請訪問 [站點範圍分析工具安裝指南](https://experienceleague.adobe.com/docs/commerce-operations/tools/site-wide-analysis-tool/installation.html){target="_blank"}。

## SSL監視

SSL證書是項目更多被遺忘的項目之一。 一年只要注意一次，很容易忘記。 安全證書過期可能導致現代瀏覽器警告或拒絕在您的站點上顯示頁面。 如果客戶遇到此類問題，可能會開始發送電子郵件或致電支援人員，在問題解決之前，您可能無法運行。 每一分鐘都很重要，因此識別過期時間會提前，並且確保更新是保持站點正常運行的首要任務。 實現SSL監控的方法有很多。 請考慮為您的站點使用合成監控工具，使用免費或低成本的工具，如Pingdom、Keychest或Sucuri，甚至訂閱提供SSL證書過期警報的服務。 這些簡單的工具可確保您的站點證書有效，並降低客戶停機的風險。

## 自動測試

執行自動test(如功能test或設備test)通常有助於檢測新引入的代碼中的問題。 這些test可能不能一應俱全，因為Adobe Commerce和單位test的覆蓋率通常不到50%。 這並不意味著你應該避免寫和測試。 這些工具是為了添加另一層安全性，即所有提交的內容不會對開箱即用和您的開發團隊建立的任何自定義test產生負面影響。 通過在每次部署中運行這些test，可以及早發現任何重大問題，並避免讓問題進入生產環境。

載入test可能很難使其正確。 其複雜性主要來自前端的使用和實施方式。 如果您的站點有無頭前端，則可能需要載入testGraphQL和REST API。 如何完成負載測試取決於您和DevOps團隊。 瞭解每個盡快執行的載入test都能深入瞭解項目的狀態。 它還為未來test提供基準，以查看負載test結果是否有任何劇烈變化。 如果是，並且它們是負的，則這是一個很好的機會，可以查看最新的代碼更改並查找要改進的效能影響部分。

Adobe Commerce提供了良好的指導，幫助瞭解如何執行設備test，請參閱 [PHP單元測試](https://developer.adobe.com/commerce/testing/guide/unit/){target="_blank"} 的 _應用程式測試指南_ 在Adobe Developer文檔網站。

有關功能測試的詳細資訊，請訪問 [功能測試框架簡介](https://developer.adobe.com/commerce/testing/functional-testing-framework/){target="_blank"}。


{{$include /help/_includes/hosting-related-links.md}}
