---
title: 目錄管理最佳實務
description: 瞭解設定購物車限制和產品屬性，以及列出分頁、選項、促銷活動和變數的建議。
role: Developer
feature: Best Practices, Catalog Management
source-git-commit: 3e0187b7eeb6475ea9c20bc1da11c496b57853d1
workflow-type: tm+mt
source-wordcount: '1876'
ht-degree: 0%

---


# 目錄管理最佳實務

此處說明的目錄管理最佳實務涵蓋一系列問題，包括（但不限於）：

- 購物車限制
- 類別限制
- 產品屬性
- 產品清單分頁
- 產品選項
- 產品變數
- 促銷活動

## 購物車限制

為獲得最佳效能，請使用下列准則來管理Adobe Commerce和Magento Open Source的購物車限制：

- 若為版本2.3.x - 2.4.2，購物車中最多可容納100種產品。
- 對於2.4.3版和更新版本，銷售規則功能的增強將購物車最高增加到750個。

若為版本2.3.x至2.4.2，根據購物車專案限制的預期效能為：

- 最多 **100** 購物車中的產品 — 產品運作正常，符合回應時間的效能目標。
- 最多 **300** 購物車中的產品 — 產品有效，但回應時間會增加到目標以上。
- 以上 **500** 購物車中的產品 — 無法保證購物車和結帳流程正常運作

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 減少購物車專案數量

使用下列策略管理購物車專案數量

- 使用「 」將訂單分割為數筆較小的訂單，且列數較少。 [!UICONTROL Add Item by SKU] 功能。
- 僅新增載入專案清單所需的自訂邏輯和購物車自訂。

### 對效能的潛在影響

購物車中產品數量超過建議的最大數量可能會透過以下方式影響網站效能：

- 增加資料擷取作業、驗證購物車專案、檢查是否套用價格規則，以及稅捐與總計計算的回應時間。
- 增加Minicart轉譯的回應時間，包括轉譯購物車檢視、結帳流程及執行。
- 增加所有存在迷你藝術品的網站頁面的載入時間。

## 類別限制

為獲得最佳效能，請勿為Adobe Commerce網站設定超過建議的最大類別數量。

- 若是Adobe Commerce 2.4.2版或更新版本，最多可設定6000個類別
- 若為Adobe Commerce 2.3.x版和2.4.0至2.4.1-p1，請設定最多3000個類別

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 減少產品數量

使用下列策略來減少類別數量：

- 透過屬性和自訂選項管理獨特的產品功能
- 移除非作用中類別
- 最佳化導覽中的目錄深度

### 對效能的潛在影響

擁有超過建議的最大類別數可能會透過下列方式影響網站效能：

- 非快取型目錄頁面的回應時間明顯增加
- 從管理員管理類別時的長時間執行和逾時
- 增加對應資料庫表格的大小
- 較大的索引表格會增加完成索引作業所需的時間。 `[category/product relation index\]`
- 增加處理時間，以完成類別樹狀結構建置、功能表擷取和類別規則管理作業

## 產品屬性

- 為獲得最佳效能，請勿設定超過建議的最大產品屬性數或產品屬性選項數。

- **產品屬性**—
   - 若為Adobe Commerce 2.3.x版和2.4.0至2.4.1-p1版，請勿設定超過500個屬性
   - 若是Adobe Commerce 2.4.2版或更新版本，請設定最多1500個產品屬性
- **產品屬性選項** — 為每個屬性設定最多100個屬性選項
- **產品屬性集** — 最多設定1000個屬性集

>[!NOTE]
>
>產品屬性會指定全域套用至所有產品的功能。 產品屬性選項是自訂，用於指定適用於特定產品的功能。

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 減少屬性數量

為獲得最佳效能，從管理員管理產品並擷取店面的產品資料：

- 針對不同的產品使用不同的產品範本（屬性集）。
- 利用自訂選項和複雜產品進行變數管理
- 將可搜尋屬性的數量減到最少。
- 移除未使用的產品屬性。
- 在外部產品管理系統(PMS)中儲存和管理非商務相關屬性。

### 減少屬性選項的數量

為獲得最佳效能，從管理員管理產品並擷取店面的產品資料：

- 使用不同的變異機制來建立產品：複雜的產品、作為產品變異來源的自訂選項。
- 使用目標屬性和選項建置特定的產品範本，以避免一般化的產品範本和選項容器。
- 維護實際屬性選項的清單。
- 透過外部產品管理系統(PMS)管理產品資訊。

### 減少屬性集數目

使用MySQL移除未使用的產品屬性集。

#### 檢閱屬性集組態

1. [連線到站台資料庫](https://devdocs.magento.com/cloud/project/services-mysql.html#connect-to-the-database).

1. 使用MySQL尋找屬性集數目

   ```sql
   SELECT COUNT(*) AS 'attribute_set' FROM *${TABLE_PREFIX}*eav_attribute_set;
   ```

1. 移除任何未使用的屬性集。

### 對效能的潛在影響

設定多個 **產品屬性** 增加每個產品的產品範本大小（EAV結構），以及必須擷取的資料量。 這項增加會以下列方式影響作業：

- 與EAV資料擷取相關的SQL查詢流量增加，以及處理的資料量增加，導致DB輸送量減少
- Adobe Commerce索引和全文檢索搜尋索引的大小大幅增加
- 為超大產品範本建立FLAT索引且無法使用時，達到嚴格的MySQL限制

產品資料和索引大小的增加可能會透過下列方式影響網站效能：

- 針對與目錄瀏覽、搜尋（快速和進階）和分層導覽相關的大多數店面情境，增加回應時間。
- 管理員中的產品管理作業速度太慢，可能會造成逾時。
- 可以封鎖「產品整批動作」功能。
- 由於執行時間長，無法每天執行中型及大型目錄的索引重新建置時間。

設定多個 **屬性選項** 可能會以下列方式影響網站效能：

- 產品詳細資料(PDP)和包含複雜產品的類別頁面上的長請求和呈現時間。
- 管理產品儲存作業回應時間會增加到最佳效能目標以上。
- 增加「產品編輯」表單轉譯時間。
- 結帳緩慢。

## 產品選項

為獲得最佳效能，每個產品最多可設定100個產品選項。

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 減少選項數量

為獲得最佳網站效能，請使用以下策略來減少產品選項的數量：

- 設定複雜的產品和自訂選項，作為產品變異的來源。
- 使用屬性集來建置具有目標屬性和選項的特定產品範本，而非建立套用至所有產品的全域產品範本和選項容器。
- 透過外部產品管理系統(PMS)管理產品資訊。

### 對效能的潛在影響

設定許多產品選項，會增加所有讀取和寫入作業中，每個產品擷取的資料量，進而導致：

- 增加SQL查詢流量和負載 `JOIN` 作業會增加資料庫輸送量。
- 增加Adobe Commerce索引和全文檢索搜尋索引的大小。

以上列出的增加可能會以下列方式影響網站效能：

- 對於與屬性中包含許多選項之產品相關的大多數店面案例，有更長的回應時間。
- 在「管理員」中完成「產品」管理作業所需的時間大幅增加，這可能會導致逾時，尤其是與屬性清單和樹狀結構擷取（包括促銷規則管理）相關的案例。
- 可以封鎖完成非同步大量作業的大量動作，例如匯入和匯出，以及指定自訂價格給共用目錄中的多個產品。

## 產品清單分頁

為獲得最佳效能，每頁最多可顯示48項產品。

您可以設定Adobe Commerce，讓購物者可以在單一頁面上檢視所有類別產品。 如果類別產品的數量大幅超過48種產品，請更新店面分頁控制的類別目錄設定。

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 更新產品清單設定

如果您在任何類別中有超過48種產品，請更新店面目錄設定以停用選項 **允許每頁所有產品**.

停用此選項後，Adobe Commerce會使用列出店面分頁控制項的產品清單，來管理顯示在店面元件中的產品數量。 如需指示，請參閱 [設定分頁控制項](https://experienceleague.adobe.com/docs/commerce-admin/catalog/catalog/navigation/navigation-product-listings.html#configure-the-pagination-controls).

## 產品SKU限制

為了最大化效能，建議的有效產品庫存單位(SKU)最大值為2.42億。 此有效產品SKU最大值的計算方式為：

```text
Effective SKU = N[SKUs] x N[Stores] x N[Customer groups]
```

其中：

- N代表該類別的專案數
- 客戶群組包含共用目錄，因為它會建立額外的客戶群組。

有效SKU的數量超過上限，會減緩產品資料擷取的速度，並增加完成管理員面板操作或索引的時間。

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 減少產品數量

使用下列策略來減少產品數量(SKU)：

- 最小化乘數 — 
   - 合併網站可減少乘數。 如果您有50,000個SKU、10個網站和10個客戶群組，SKU的有效數量為500萬。 移除五個客戶群組，將有效SKU減少至250萬。
   - 使用自訂定價的替代產品功能來取代共用目錄與客戶群組乘數。
   - 客戶群組和共用目錄兩者都會當做商店中有效SKU數量的乘數。
- 重新建構目錄 — 
   - 減少指派給類別的產品數量。
   - 減少網站、客戶群組、共用目錄、產品數量或可設定產品選項的數量，以減少SKU數量
- 使用自訂選項而非建立個別產品，提供更多產品變數。
- 由於每個商店或客戶群組的價格指定方式不同，因此考慮到「有效SKU」可能包含多種可能的價格排列。
- 停用或移除未使用的系統元件，例如模組。 另請參閱  [解除安裝模組](../../../installation/tutorials/uninstall-modules.md).
- 在外部平台管理系統(PMS)中管理產品。

## 產品變數

為獲得最佳效能，請為每個產品設定最多50個變數。

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 減少變數數量

為獲得最佳網站效能，請使用以下策略來減少產品變異數：

- 透過分佈不同產品的變化數量來重新建構目錄。
- 移除沒有庫存的可設定屬性選項。
- 透過自訂選項、類別、相關、分組和套裝產品等替代功能管理變體。

### 對效能的潛在影響

如果超過建議的產品變數數量，可能會透過下列方式影響網站效能：

- 產品詳細資料和包含複雜產品的類別頁面上的要求與呈現時間過長。
- 增加在管理員中完成儲存作業的回應時間。
- 增加呈現產品編輯表單的時間。
- 結帳緩慢。

## 促銷活動

為獲得最佳效能，請遵循下列最佳實務，為購物車中的商品設定銷售和促銷活動：

- **銷售規則（購物車價格規則）** — 為所有網站設定不超過1000個購物車價格規則
   - 管理和移除未使用的規則。
   - 新增嚴格的規則條件（如屬性或類別篩選）以獲得最有效的比對。
- **優惠券**—
   - 確認資料庫中的優惠券總數少於250,000。
   - 移除未使用和過期的抵用券。
   - 僅產生符合行銷活動需求所需的抵用券數目。

### 受影響的產品和版本

[所有支援的版本](../../../release/versions.md) 之：

- 雲端基礎結構上的Adobe Commerce
- Adobe Commerce內部部署

### 對效能的潛在影響

如果購物車價格規則或優惠券超過建議的最大數量，網站效能可能會受到下列影響：

- 將產品新增到購物車時增加回應時間。
- 增載入入及轉譯迷你藝術的時間。
- 增加轉譯購物車頁面的時間。
- 增加呈現的時間 **總計** 在「結帳」頁面上封鎖。
- 套用優惠券可能需要超過2秒的時間。
