---
title: Adobe Commerce2.4.0發行說明
description: 瞭解Adobe Commerce版中的新功能、增強功能、錯誤修復和已知問題。
exl-id: 8dc18855-b040-4bc3-8c99-dd7e1407b1fa
source-git-commit: 95ffff39d82cc9027fa633dffedf15193040802d
workflow-type: tm+mt
source-wordcount: '20454'
ht-degree: 0%

---

# Adobe Commerce2.4.0發行說明

Adobe Commerce2.4.0推出對PHP 7.4 、 7.6.xElasticsearch和MySQL 8.0的支援。大量安全更改包括預設情況下在管理員中啟用雙因素身份驗證。 B2B增強功能包括新訂單批准工作流。

**在此版本中， Authorite.Net 、 eWay 、 CyberSource和Worldpay支付方法整合已從核心代碼中刪除。 商戶應遷移到Commerce Marketplace上提供的正式分機**。

>[!NOTE]
>
>**Braintree付款整合**:在2.4.0之前，建議商戶安裝並配置Commerce Marketplace的正式Braintree支付整合擴展，以取代核心整合。 在此版本(2.4.0)中，擴展現在包含在版本中。 商家必須執行其他步驟以確保Braintree在部署中正2.4.0工作。 請參閱 [Braintree](https://docs.magento.com/user-guide/payment/braintree.html) 的子例2.4.0。

此版本包括2.3.5-p1中包括的對核心質量的所有改進、對核心代碼的100多個新修復以及30項安全增強。 它包括由我們的社區成員解決226個GitHub問題。 這些社區貢獻包括對核心規則進行輕微清理，以及在Inventory management和GraphQL進行重大改進。

>[!NOTE]
>
>次要版本帶來了大量代碼增強功能。 在升級到2.4.0之前，請確認您的環境滿足 [技術堆棧要求](../../../installation/system-requirements.md)。

{{bics}}

>[!NOTE]
>
>安全版本的包名通常附加有 — p1。 但是，我們無法避免使用2.3.5來偏離這些命名約定，這反過來又對後續的安全包名稱產生了暫時的連鎖反應。 具體來說，全功2.3.5版本2.3.5-p1。 在GA為2.3.5-p2時，我們將2.4.0發的安全版本。 我們希望在未來版本中回到通常的命名約定。

## 應用 `AC-3022.patch` 繼續提供DHL作為航運公司

DHL已引入架構版本6.2，並將於2022年9月棄用架構版本6.0。 Adobe Commerce2.4.4和支援DHL整合的早期版本僅支援6.0版。部署這些版本的商家應適用 `AC-3022.patch` 盡早便繼續提供敦豪作為航運公司。 查看 [應用修補程式以繼續將DHL作為運輸承運商提供](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) 有關下載和安裝修補程式的資訊，請參閱知識庫文章。

## 安全修補程式可用

商家現在可以安裝時間敏感型安全修復程式，而無需應用完整的季度版(例如2.3.5-p2)提供的數百個功能修復和增強功能。 修補程式2.3.5.2(Composer軟體包2.3.5-p2)是一個安全修補程式，它針對我們上一季度版本2.3.5-p1中已發現的漏洞提供了修復。 此安全修補程式中包含應用於2.3.5版的所有熱修復程式。 (A) *熱修復* 提供對已發佈版本的修復，以解決特定問題或錯誤。)

有關安全修補程式的一般資訊，請參見 [介紹新的安全修補程式版本](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287).有關下載和應用安全修補程式(包括修補程式2.3.5-p2)的說明，請參見 [快速啟動本地安裝](../../../installation/composer.md)。 安全修補程式僅包括安全錯誤修復，而不包括完整修補程式中包含的附加安全增強。

## 其他發佈資訊

雖然這些功能的代碼與季度版本捆綁在一起，但其中幾個項目(例如，B2B、頁面生成器、Inventory management和Progressive Web Application(PWA)Studio)也是獨立發佈的。 這些項目的錯誤修復程式都記錄在每個項目文檔中提供的獨立、特定於項目的發行資訊中。

## 亮點

在此版本中查找以下亮點：

### 大量安全增強

此版本包括30多個安全修復和平台安全改進。

#### 超過30項安全增強功能，可幫助關閉遠程代碼執行(RCE)和跨站點指令碼(XSS)漏洞

迄今未發生與這些問題相關的已確認攻擊。 但是，某些漏洞可能被利用來訪問客戶資訊或接管管理員會話。 大多數這些問題都要求攻擊者首先獲得對管理員的訪問權限。 因此，我們提醒您採取一切必要步驟保護您的管理員，包括但不限於以下工作：IP允許， [雙因素認證](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)，使用VPN，使用唯一位置而不是 `/admin`以及良好的密碼衛生。 請參閱 [可用於Magento的安全更新](https://helpx.adobe.com/security/products/magento/apsb20-47.html) 來討論這些固定問題。

#### 其他安全增強功能

* **對管理帳戶、magento.com用戶帳戶和雲SSH訪問實現2FA**

   * **保護您的管理員帳戶**。 管理員現在需要雙重身份驗證(2FA)。 管理員用戶必須先配置其2FA，然後才能通過UI或Web API登錄到管理員。 2FA預設啟用。 強烈建議不要禁用2FA模組。  此額外的身份驗證步驟使惡意用戶更難在未經授權的情況下登錄到管理員。 請參閱 [雙因素身份驗證(2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)。 <!-- MC-22631-->

   * **保護您的帳戶**。 雙因素身份驗證(2FA)提供了添加的可選安全層，可更好地保護您的magento.com帳戶免受未經授權用戶的侵害，這些用戶可能希望以您不希望的方式使用您的帳戶。 請參閱 [保護您的帳戶](https://docs.magento.com/user-guide/magento/magento-account-secure.html)。

   * **保護雲SSH訪問安全**。 Adobe雲基礎架構提供多重身份驗證(MFA)強制，以管理對雲環境的SSH訪問的身份驗證要求。 預設情況下，在項目上未啟用2FA的多重身份驗證。  Adobe強烈建議啟用此功能。 請與支援部門聯繫以獲得幫助。 請參閱 [為SSH訪問啟用多重身份驗證](https://devdocs.magento.com/cloud/project/project-enable-mfa-enforcement.html)。

* **現在預設情況下啟用模板篩選器嚴格模式**。 在舊模式下使用模板篩選器的元件（包括CMS頁和塊）可能容易受遠程代碼執行(RCE)的攻擊。 預設情況下，啟用嚴格模式可確保不會故意啟用RCE攻擊。 <!-- MC-22982-->

* **UI資料提供程式的資料呈現現在預設禁用**。 這樣，惡意用戶就不會執行任意JavaScript。 <!-- MC-17356-->

* **新建 `\Magento\Framework\Escaper` 類**。 此類是為 `.phtml` 負責生成HTML的模板和PHP類。 此類包含與多個上下文相關的HTML清理方法。 的 `$escaper` 局部變數在內部可用 `.phtml` 應使用模板，而不是棄用 `$block->escape{method}`。 使用 `$escaper` 而 `$block` 作為 `$block->escape{method}` 已棄用。

* **支援security.txt檔案**。 此檔案是伺服器上的行業標準檔案，可幫助安全研究人員向站點管理員報告潛在的安全問題。

* **增強內容安全策略(CSP)支援**。 `SecureHtmlRenderer` 已添加到框架中，可在 `.phtml` 白名單內的模板 `style` 和 `script` 標籤。 預設的CSP配置不允許內嵌指令碼和樣式，XML檔案可覆蓋這些指令碼和樣式。 <!-- MC-34433-->

{{cve-notice}}

### 平台升級

以下平台升級有助於增強網站的安全性和效能。 PHP和PHPUnit、Elasticsearch、MySQL和其他依賴項的支援版本列於 [技術堆棧要求](../../../installation/system-requirements.md)。

* **引入PHP 7.4支援，不建議使用PHP 7.1和7.2**。 2.4.0引入對七點四菲律賓比索的支援。

* **支援PHPUnit 9.x和PHPUnit 6.5的棄用**。 PHP 7.4要求使用最新的PHPUnit測試框架，即PHPUnit 9.x。Commerce Marketplace擴展test供應商必須確認所有新擴展版本都與PHP 7.4相容，並且所有設備和整合版本都配置為使用PHPUnit 9運行。

* **Elasticsearch7.6.x支援**。 Elasticsearch7.6.x現在是Adobe Commerce和Adobe Commerce的預設目錄搜索引擎。 如果不安裝7.6.xElasticsearch，則無法安裝或升級到2.4.0版。Elasticsearch2.x版代碼已刪除。 Elasticsearch5.x和6.x版已棄用，不再受支援。 請參閱 [搜索引擎先決條件](../../../installation/prerequisites/search-engine/overview.md)。

* **MySQL 8.0支援**。 版本2.4.x支援MySQL 8.x。(2.4.0已使用MySQL 8.0.20測試。) 鼓勵商家將部署遷移到MySQL 8.x，以利用其改進的效能、安全性和可靠性。 儘管MySQL 5.7仍支援Magento2.4.x，但MySQL 5.6不再受支援。 不能使用MySQL 5.6資料庫承載2.4.x。 請參閱 [MySQL](../../../installation/prerequisites/database/mysql.md)。

* **MariaDB 10.4支援**。 對MySQL 8.0的支援為商戶提供了將MariaDB 10.4與Adobe Commerce部署的機會。 儘管商家仍可以使用帶2.4.0的MariaDB 10.2，但我們建議升級至MariaDB 10.4，以提高效能和可靠性。 不再支援MariaDB 10.0和10.1（因為此版本中取消了對MySQL 5.6的支援）。
* **刪除MySQL目錄搜索引擎**。 MySQL搜索引擎已從2.4.0中刪除，並替換為預設的Elasticsearch。 Elasticsearch提供卓越的搜索功能和目錄效能優化。  所有商家必須具有安裝和部署2.4.0的Elasticsearch。請參閱 [驗證Elasticsearch是否已安裝](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html)。

* **將Zend Framework上的依賴項遷移到 [拉米納斯項目](https://getlaminas.org/about/foundation)** 反映Zend Framework向Linux Foundation的Laminas項目的過渡。 已棄用Zend Framework。 查看 [Zend框架向Laminas工程的遷移](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) DevBlog帖子。

* **控制器的分解** 允許擴展開發人員直接實現ActionInterface，而不使用「層超類型」類。 查看 [控制器的分解](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883) DevBlog帖子。 _Vinai Kopp在拉式請求中啟動的增強 [16268](https://github.com/magento/magento2/pull/16268) 由盧卡什·巴伊薩羅維奇在請求中定稿 [26778](https://github.com/magento/magento2/pull/26778)_。 [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **取消重大欺詐保護規則的核心整合**。 不再支援此核心功能。 商戶應遷移至 [重大欺詐和按儲存容量使用計費保護擴展](https://marketplace.magento.com/signifyd-module-connect.html) 在Commerce Marketplace上。

* 的 **核心Braintree模組已從代碼庫中刪除**。 「Braintree付款」模組現在提供了相同的功能集。 請參閱 [Braintree付款](https://marketplace.magento.com/paypal-module-braintree.html)。

* 不再支援Internet Explorer 11.x瀏覽器。

### 基礎架構改進

本版本包含對核心質量的增強，這些增強提高了框架的質量，並且包括以下模組：客戶帳戶、目錄、CMS、導入、購物車和結帳以及B2B。

* **取消第三方支付方法的核心一體化**。 在此版本中，Authorize.Net支付方法整合已從核心代碼中刪除。 商戶應遷移至Commerce Marketplace上可用的官方分機。 查看 [付款整合的折舊](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445) 部落格。 <!-- MC-29029-->

* **支援部分字搜索Elasticsearch（新預設搜索引擎）**。 Elasticsearch現在支援在使用快速搜索時在產品名稱和SKU的搜索詞中使用部分字。 此功能受MySQL搜索引擎支援，該搜索引擎已棄用，並在此版本中被Elasticsearch替換。

* **PayPal JavaScript SDK升級**。 我們已將PayPal Express結帳整合遷移到最新的PayPal JavaScript SDK中，該SDK可自動收集並將所需的風險參數傳遞到PayPal。 PayPal Express結帳支付方法的行為保持不變。 但是，將此SDK升級到最新版本後，商戶可以訪問最新功能和安全增強功能。 <!-- MC-30962-->

* **棄用和刪除Web設定嚮導**。 必須使用命令行來安裝或升級2.4.0。請參閱 [安裝Magento](../../../installation/advanced.md)。

* **作曲家更新插件**。 Composer插件通過解決必須對根項目所做的更改來優化升級過程 `composer.json` 檔案，然後更新到新版本。 此插件可防止覆蓋自定義項。 請參閱 [使用作曲家根插件升級](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html)。

* **賣家輔助購物**。 此功能允許商家代表其客戶查看店面。 客戶選擇允許店面訪問其帳戶。 此社區開發的特徵包括由 [馬傑凡](https://magefan.com/)。 請參閱 [賣家輔助購物](https://docs.magento.com/user-guide/configuration/customers/login-as-customer.html)。 功能包括：

   * 可以按網站配置ACL，以控制哪些管理員可以登錄到客戶帳戶
   * 與多個網站和客戶帳戶範圍的相容性
   * 代表客戶下達的訂單將登錄到商店和管理員
   * 所有會話在管理員註銷後都被銷毀，管理員無法訪問客戶密碼。

### 效能改進

* **客戶資料段失效邏輯的改進**。 此版本引入了一種新的方法，使所有客戶部分資料失效，避免在自定義時本地儲存出現已知問題 `sections.xml` 無效活動。  (以前，在您有自定義內容時，私有內容（本地儲存）未正確填充 *etc/frontend/sections.xml* 操作無效。) 請參閱 [專用內容](https://developer.adobe.com/commerce/php/development/cache/page/private-content/)。

* **對Redis效能進行多次優化**。 這些增強功能將對每個請求執行的對Redis的查詢數量減到最小。 這些優化包括：

   * 減少Redis和Magento之間的網路資料傳輸量

   * 通過提高適配器自動確定需要載入的內容的能力，減少Redis佔用CPU週期

   * 減少Redis寫操作的競賽條件
   請參閱 [將Redis用於頁面和預設快取](../../../configuration/cache/redis-pg-cache.md) 和 [配置快取](../../../configuration/cache/caching-overview.md)。

* **改進了將SQL查詢結果快取到清單表**。 這些增強包括：

   * 將SQL查詢快取到 `inventory_stock_sales_channel` 表（1個查詢而不是16個）

   * 將查詢結果快取到 `inventory_stock` 表（1個查詢而不是16個）

* **快速訂購購物車附加效能提高25-30%**。

* 商家現在可以使用 [緩衝載入](https://en.wikipedia.org/wiki/Lazy_loading) 載入影像。

### Adobe Stock整合2.0版

**能夠從媒體集許可儲存影像預覽**。 商家現在可以在媒體集中找到任何Adobe Stock預覽影像，這減少了許可庫存預覽影像所需的步驟數。

### 新建媒體集

此前媒體集的替代產品為媒體資產提供了可搜索的新介面。 管理員現在可以搜索、篩選和排序影像，速度比此功能早期版本中的速度快30倍。 商家可以使用此工具來評估店面影像的使用情況。 擴展開發人員應知道，為媒體集開發的擴展在新的媒體集中不會按預期工作。

### 頁面生成器

頁面生成器現在支援PHP 7.4。

### Inventory management

Inventory management對此版本的增強包括對店內皮卡和捆綁產品支援的支援。 請參閱 [Inventory management發佈說明](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html) 更詳細地討論Inventory management的錯誤修復。

### GraphQL

GraphQL的增強包括：

* `pickupLocations` 查詢支援庫存在庫裝貨取貨功能
* `categories` query返回與指定篩選器匹配的類別清單。 此查詢與 `categoryList` 查詢，因為它支援分頁。
* `reorderItems` 變異允許登錄用戶將先前訂單中的所有產品添加到其購物車中。

查看 [GraphQL開發人員指南](https://devdocs.magento.com/guides/v2.4/graphql/) 以獲取有關此功能及其他功能增強的詳細資訊。 請參閱 [發行說明](https://devdocs.magento.com/guides/v2.4/graphql/release-notes.html) 詳細討論GraphQL的錯誤修復。

### PWA Studio

請參閱 [相容性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) 的子菜單。 有關增強和錯誤修復的資訊，請參見 [PWA Studio版本](https://github.com/magento/pwa-studio/releases)。

### B2B

**B2B的訂單審批工作流功能**。 「訂單審批」允許採購組織的經理為其採購員配置審批規則。 請參閱 [審批規則](https://docs.magento.com/user-guide/customers/account-dashboard-approval-rules.html)。 功能包括：

* 每個公司帳戶的唯一審批規則的自助配置
* 可基於訂單金額、行項目數或具有可配置閾值的發運成本的規則標準
* 功能所有方面的可自定義權限
* 需要審批的採購訂單的快速店面視圖
* 對每個採購訂單執行的活動的完整歷史記錄日誌
* 在審批流程的所有步驟中向相關方發送電子郵件通知。

此版本還包括多個錯誤修復。 請參閱 [B2B發行說明](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html)。

### 功能測試框架(MFTF)

MFTF v3.0.0包括以下新功能，包括對PHP 7.4和PHPUnit 9的支援：

* MFTF幫助程式，它可以在test框架之外建立自定義操作
* test實體的架構更新
* test模組中的子資料夾
* 嵌套斷言語法
* 靜態檢查檢查和報告對不建議使用的test實體的引用

此版本還刪除了添加到將test升級到MFTF主要版本要求的過時操作和升級指令碼。

### 供應商開發的擴展增強功能

此版本包括由第三方供應商開發的擴展。 它對這些擴展引入了質量和UX改進，並擴展了MFTF覆蓋。

Commerce Marketplace擴展供應商在發佈2.4.0版擴展的新版本時應確認其擴展與PHP 7.4相容。

#### 數位

此版本包括以下增強功能：

* 任何輸入類型（例如，下拉、多選）捕獲的客戶屬性值現在正確同步為資料欄位。
* 現在，即使所有活動報價不包含任何項目，也會發送購物車真知灼見資料。 這允許商家在清空購物車時退出程式聯繫人。
* 商家現在可以按單個資料欄位同步網站名稱、商店名稱和商店視圖名稱。
* Wishlist 、 Review和Order同步現在只查找一次事務性資料同步限制。
* Client類的日誌輸出已得到改進，現在在API包裝器中所有方法之間保持一致。
* 可配置產品現在的庫存數字是其子產品的總和。
* 新插件檢測由第三方代碼（管理員外部）執行的庫存更新。
* [資料映射](https://docs.magento.com/user-guide/configuration/dotdigital/data-mapping.html) 和 [事務電子郵件](https://docs.magento.com/user-guide/configuration/dotdigital/transactional-emails.html) 配置資訊已更新。

#### Amazon

此版本包括：

* 對CSP允許清單的更新
* 能夠為多物料訂單執行多個授權
* 支援日文地址

#### Braintree付款

此捆綁的擴展取代了我們的核心Braintree整合，該整合已在本版本中刪除。 請參閱 [Braintree付款](https://marketplace.magento.com/paypal-module-braintree.html)。

#### 克拉爾納

本版本包括新的現場資訊傳遞選項，以幫助購物者瞭解可用的信貸和融資選項。 它還包括以下方面的改進：

* 退款
* API效率
* 餅乾和單元test
* 折扣
* 配置設定現在包含「現場消息」部分，用於控制Klarna促銷消息的店面顯示。 請參閱 [設定Klarna](https://docs.magento.com/user-guide/payment/klarna-setup.html)。

#### 頂點

此版本的Vertex包括以下新功能和增強功能：

* 對管理員配置用戶體驗的改進
* 用XML架構檔案和修補程式替換安裝和升級指令碼
* 刪除棄用代碼(`ApiClient` 和 `ClientInterface`)

#### 約特波

「Yotpo評級和審閱」與頁面生成器整合。

## 已修復問題

我們解決了核心代碼中的數2.4.0問題。

### 安裝、升級、部署

<!-- MC-23940-->

* 現在，您可以成功刪除網站以及網站的特定於作用域的配置設定。 `app/etc/config.php` 如預期。 以前，當您嘗試刪除網站時，操作失敗，應用程式顯示以下錯誤： `The website with code xxx that was requested wasn't found. Verify the website and try again`。 此外，應用程式在店面上顯示以下錯誤： `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`。 [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* 在中禁用的配置設定 `index.php` 不再可從管理員編輯。

<!-- MC-32405-->

* Adobe Commerce安裝現在成功完成，並且當在中預定義儲存配置時，將按照預期建立儲存 `config.php`。

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` 已重新計算，以減少 `SHOW TABLE STATUS` 查詢。 (此更改將恢復此函式在2.3.3中顯示的行為。)

<!-- MC-23890-->

* 只要您嘗試通過運行來升級資料庫，資料指令碼將不再重新運行 `bin/magento setup:upgrade`。 以前，升級指令碼不必要地重新運行，這影響了效能。 [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* 當您與Redis的連接中斷時，應用程式現在顯示以下行為。 以前，應用程式未重新載入當前頁面並顯示以下錯誤： `An error has happened during application run. See exception log for details`。

   * 管理員和店面會話過期
   * 管理員和店面用戶必須重新登錄
   * 會話資料已保存到 `var/session/`
   * 未記錄錯誤或異常。

<!-- ENGCOM-6686-->

* 的 `bin/magento setup:di:compile` 命令不再因匿名類而失敗。 _修復由Yevhen Sentiabov在拉請求中提交 [26533](https://github.com/magento/magento2/pull/26533)_。 [GitHub-26532](https://github.com/magento/magento2/issues/26532)。 [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* 已解決在使用替代的LESS編譯器時，Magento的Luma主題中的LESS編譯問題，而不是預設情況下與應用程式附帶的編譯器。 _修復由Pieter Hoste在拉請求中提交 [24003](https://github.com/magento/magento2/pull/24003)_。 [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* 您不再需要可寫 `env.php` 檔案。 相反，應用程式將 `no-cache` 維護模式下所有前端請求的標頭(`Cache-Control`)。 以前，在 `env.php` 為只讀，並且應用程式嘗試在切換到維護模式時禁用FPC。 _Marco Pcke在拉k̦取請求中提交的修復 [25790](https://github.com/magento/magento2/pull/25790)_。 [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify`  在 `ddev` 設定。 _Daniel Ruf在請求中提交的修復 [26763](https://github.com/magento/magento2/pull/26763)_。 [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* 已更新合成器依賴項以實施Redis密鑰到期，這提高了Redis效能。 _在拉入請求中由toxix提交修復 [25488](https://github.com/magento/magento2/pull/25488)_。 [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### 管理GWS

<!-- MC-33031-->

* 具有有限角色作用域的管理員現在可以修改替代文字，並且應用程式會保存這些值。 如果不允許管理員修改Alt文本，則Alt文本框將呈灰色顯示。

### Adobe Stock整合

<!-- ENGCOM-6507-->

* 已將CSS樣式添加到Adobe Stock影像顯示中，以支援加亮所選影像。  _修復由Serhiy Zhovnir在拉取請求中提交 [25864](https://github.com/magento/magento2/pull/25864)_。 [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* 通過Adobe Stock預覽影像的導航不再通過使用箭頭鍵移動輸入欄位游標來觸發。  _修復由Adarsh Manickam在拉取請求中提交 [27138](https://github.com/magento/magento2/pull/27138)_。 [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* 應用程式現在會快取消息，以查找當客戶嘗試將過濾器應用於Adobe Stock映像時發生的錯誤。 _Shankar Konar在請求中提交的修復 [26502](https://github.com/magento/magento2/pull/26502)_。 [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* 當您按一下滑鼠後將游標移到窗口的左垂直捲動條時，應用程式不再保存Adobe Stock影像的預覽 **保存預覽** 但不確認保存操作。 _修復由Serhiy Zhovnir在拉取請求中提交 [27399](https://github.com/magento/magento2/pull/27399)_。 [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### 分析

<!-- MC-32086-->

* 在更改商店的URL後，商店的分析報告現在可以按預期方式提供。 以前，當您嘗試在URL更改後訪問報告時，應用程式顯示404錯誤。

<!-- MC-32085-->

* 當啟用AR訂閱時，分析報告的資料同步現在按預期啟用。

### 後端

<!-- MC-25036-->

* 電子郵件模板(**管理** > **營銷** > **通信** > **電子郵件模板**)現在可以在啟用JavaScript微型化時從管理中預覽。 以前，當您嘗試預覽電子郵件模板時，「電子郵件預覽」彈出窗口為空。 [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* 管理員現在可以在建立具有有限權限的管理員帳戶後按預期方式登錄到管理員。 以前無法訪問管理員。 相反，具有這些權限的用戶被重定向到店面，出現404錯誤。 _修復由Eden Duong在拉取請求中提交 [25909](https://github.com/magento/magento2/pull/25909)_。 [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* 在複製產品時，應用程式不再複製SEO資料，如URL鍵、元標題、元關鍵字和元描述。  _Dasharth patel在拉請求中提交的修復 [26659](https://github.com/magento/magento2/pull/26659)_。 [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* 當您在建立影像時從頁面中刪除影像時，應用程式不再引發錯誤 **管理**  > **內容** > **頁面**  >  **添加新頁**。 以前，應用程式在開發人員控制台中拋出此錯誤： `500 (Internal Server Error)`。 _修復由Eden Duong在拉取請求中提交 [25924](https://github.com/magento/magento2/pull/25924)_。 [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### 捆綁產品

<!-- MC-25251-->

* 的效能 `catalog_product_price` 改進了捆綁產品的重新索引操作。

<!-- MC-29633-->

* 當捆綁產品的 **稅種** 和 **動態價格** 為預設儲存視圖禁用設定。 以前，當管理員未選中 **使用預設值** 選項 **稅種**，應用程式啟用了該選項，允許管理員輸入其他值並保存產品。

<!-- MC-30257-->

* 現在，在產品頁面上可以正確計算捆綁產品價格。

<!-- MC-29745-->

* 您現在可以將任意數量的捆綁產品添加到購物車中，而不會出錯。 以前，當您將捆綁產品添加到購物車中，然後定位至購物車時，應用程式將顯示以下錯誤： `Please correct the quantity for some products`。

### 快取

<!-- ENGCOM-7114-->

* 的 `cache.xsd` 架構 `Magento\Framework\Cache` 已重新構造，以便沒有 `instance` 通過管理快取管理禁用模組時，屬性不再引起異常。 以前，當您使用 `cache.xml` 沒有 `instance` 參數，當您嘗試禁用應用程式時，應用程式引發異常。  _修復由Andrii Beziazychnyi在拉式請求中提交 [27307](https://github.com/magento/magento2/pull/27307)_。 [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` 如果在部署中配置了資料庫快取引擎，則不再失敗。 _修復由Andrii Beziazychnyi在拉式請求中提交 [25722](https://github.com/magento/magento2/pull/25722)_。 [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### 購物車和結帳

<!-- MC-23870-->

* 在簽出時，應用程式不再引發錯誤 **與後端同步** 配置設定已啟用。 [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* 現在，發運方法的單選按鈕將按照簽出工作流中的預期啟用。

<!-- MC-30258-->

* 現在，當「條款和條件」與「 **手動應用** 設定已啟用。 以前，「審閱」頁未通過驗證，應用程式顯示404錯誤。

<!-- MC-32330-->

* 在購物車上更新價格時，應用產品現在會顯示旋轉表徵圖。

<!-- MC-33230-->

* 當迷你購物車中的產品在結帳前出現庫存不足時，應用程式現在會顯示一條資訊性消息。 一旦您刪除了庫存不足的物料，應用產品將顯示 **繼續簽出** 按鈕 以前，應用程式未顯示此按鈕。

<!-- MC-31391-->

* 當您通過按一下添加產品來嘗試添加產品時，應用程式現在會顯示一條資訊性錯誤消息 **按SKU訂購** 當要上載的檔案損壞時。 以前，應用程式顯示一個空白頁。

<!-- MC-32962-->

* 此時，應用產品將購物車價格規則僅應用於與規則標準匹配的捆綁產品子產品。 以前，應用產品將購物車價格規則應用於屬於捆綁產品的所有子產品。

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  已替換為`StorefrontMinicartSection` 在MFTFtest。   _修復由Andrii Kalinich提交的請求 [27955](https://github.com/magento/magento2/pull/27955)_。 [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* 已刪除發運地址窗體上對國家/地區選擇器元件的硬編碼引用。  _Mateusz Krzeszowiak在拉請求中提交的修復 [25541](https://github.com/magento/magento2/pull/25541)_。 [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* 當在Internet Explorer中查看店面時，游標懸停在該表徵圖上時，應用程式不再在購物車中加下刪除表徵圖的下划線。  _在拉式請求中由divyajothi5321提交的修復 [26173](https://github.com/magento/magento2/pull/26173)_。 [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* 在為開單地址和發運地址選擇了單個地址後，更改開單地址不再更改客戶的發運地址。 _修復由Yurii Tvardyi在拉請求中提交 [26279](https://github.com/magento/magento2/pull/26279)_。 [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* 現在，將按照預期呈現迷你購物車的促銷區域。 _修復由Matti Vapa在拉請求中提交 [25375](https://github.com/magento/magento2/pull/25375)_。 [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### 購物車價格規則

<!-- MC-23986-->

* 現在，基於付款方法的購物車價格規則將在結帳工作流期間應用。 [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* 已更正Datepicker頁元素的行為 **管理** > **營銷** > **促銷** > **目錄價格規則**。 _修復由Hitesh在拉入請求中提交 [26290](https://github.com/magento/magento2/pull/26290)_。 [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  已替換為 `StorefrontMinicartSection` 在MFTFtest。   _修復由Andrii Kalinich提交的請求 [27955](https://github.com/magento/magento2/pull/27955)_。 [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* 已禁用建立新購物車價格規則工作流中未使用的優惠券網格。 _修復由Eden Duong在拉取請求中提交 [24471](https://github.com/magento/magento2/pull/24471)_。 [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* 在為開單地址和發運地址選擇了單個地址後，更改開單地址不再更改客戶的發運地址。 _修復由Yurii Tvardyi在拉請求中提交 [26279](https://github.com/magento/magento2/pull/26279)_。 [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### 目錄

<!-- MC-23633-->

* 此應用程式現在禁用受限管理員更改產品數量屬性的功能，並按預期禁用高級庫存。 以前，只影響quantity屬性的直觀顯示，並且應用程式在保存產品後更改了資料庫中的quantity值。

<!-- MC-25235-->

* 當您更改計畫更新中包含的分層產品的名稱時，應用程式不再引發錯誤。 以前，當您嘗試使用新名稱保存產品時，應用程式顯示以下錯誤： `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* 現在，可以按照預期從管理員保存自定義屬性值。

<!-- MC-29775-->

* 「最近查看的產品」功能現在顯示在多商店部署中僅與當前商店視圖關聯的產品 **商店** > **配置** > **目錄** > **最近查看/比較的產品** > **顯示當前** 設定為 **商店視圖**。 以前，應用程式顯示的是所有網站中最近查看的產品，無論產品分配給哪個網站。

<!-- MC-29896-->

* 應用程式現在在迷你車中顯示產品影像，而不會失真。 以前，應用程式將影像拉伸到迷你車中，以填充影像容器的整個寬度和高度。

<!-- MC-29866-->

* 的 `getBasePrice` 函式現在將返回一個浮點值，如預期。

<!-- MC-30229-->

* 產品比較功能現在可以按預期工作。 現在，它只在當前用戶的比較清單中顯示產品。

<!-- MC-30234-->

* 現在，您可以為主題指定預設水印。 以前，在分配水印後，應用程式拋出了一個致命錯誤。

<!-- MC-30540-->

* 現在，您可以從管理員成功編輯包含許多變型（大約5,000個）的可配置產品。 以前，當您嘗試編輯具有許多子產品的可配置產品時，應用程式會顯示以下錯誤： `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* 對上的屬性集排序 **管理** > **目錄** > **產品** 按預期的字母順序排列。

<!-- MC-30794-->

* 「最近查看的產品」功能現在可以在多商店部署中按預期工作。

<!-- MC-31837-->

* 對目錄具有限制權限的管理員現在可以建立可下載的產品。 以前，管理員無法建立可下載的產品，並且應用程式引發錯誤。

<!-- MC-31838-->

* 的 **網站中的產品** 現在，預設情況下，新產品頁面的複選框將為多站點部署中的受限管理員啟用。 以前，未預選非預設網站的複選框，如果管理員未選中該複選框，則應用程式將顯示一條錯誤消息。

<!-- MC-32772-->

* `addToCart` 事件現在按預期在資料層中跟蹤。 以前，更改產品的可配置選項後，按一下 **添加到購物車**&#x200B;的子菜單。 `addToCart` 事件未添加到資料層。

<!-- MC-29449-->

* 迷你購物車和管理購物車(**管理** > **客戶** > **管理購物車**)現在在應用目錄價格規則時顯示正確的產品價格。 以前，店面購物車顯示的是正確的產品價格，而迷你購物車和管理員購物車顯示的是原始產品價格。

<!-- MC-30777-->

* 「管理產品網格」網站列上的篩選現在可以按預期工作。 以前，篩選結果未顯示正確的產品數，而是始終將產品總數顯示為1。

<!-- MC-31432-->

* 價格條件使用 `catalog_product_entity_decimal` 按價格篩選。 但是，此表不包含可配置、捆綁動態和分組產品的記錄，因為這些產品沒有固定價格。 用於按價格篩選的正確表是 `catalog_product_index_price`。

<!-- ENGCOM-7104-->

* 管理目錄和產品清單現在在MSRP、成本和特殊價格列中顯示貨幣符號。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27261](https://github.com/magento/magento2/pull/27261)_。 [GitHub-21910](https://github.com/magento/magento2/issues/21910)。 [GitHub-20906](https://github.com/magento/magento2/issues/20906)。 [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* 「添加客戶組價格」彈出窗口(**管理** > **目錄**  > **產品** > **新產品** > **高級定價**)現在按預期關閉。 _Ashna-Jahan在拉請求中提交的修復 [25759](https://github.com/magento/magento2/pull/25759)_。 [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* 為新產品說明和標題提供的示例說明不再包含雙引號。  _修復由納森·摩根提交的請求 [25655](https://github.com/magento/magento2/pull/25655)_。 [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* 當您嘗試使用無效價格篩選「類別」頁上的產品時，應用程式不再引發錯誤。 以前，應用程式將此錯誤記錄在系統日誌中。 _Ihor Sviziev在拉請求中提交的修復 [25912](https://github.com/magento/magento2/pull/25912)_。 [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* 您現在可以瀏覽多頁類別搜索結果。 以前，當您嘗試使用「上一步」按鈕返回到結果的第一頁時，應用程式會建立重複的搜索結果頁。 _Douglas Radburn在拉式請求中提交的修復 [25337](https://github.com/magento/magento2/pull/25337)_。 [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* 已將返回類型更正為 `string|null` 為 `getSourceModel` 中 `Eav\Attribute.php` 類。 _修復由Mychailo在拉入請求中提交 [25333](https://github.com/magento/magento2/pull/25333)_。 [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* 保存新（重複）產品不再導致產品映像重複數百次。 _修復由Jeroen提交的拉式請求 [25875](https://github.com/magento/magento2/pull/25875)_。 [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* 當您刪除具有自定義選項類型的產品時，應用程式不再引發JavaScript錯誤 `file` 建立管理員的訂單時。  _修復由adrian-martinez-interactiv4在拉請求中提交 [24843](https://github.com/magento/magento2/pull/24843)_。 [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* 使用 `product_page_image_large` 在佈局中，會按預期顯示佔位符影像。 以前，應用程式引發了以下錯誤： `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26974](https://github.com/magento/magento2/pull/26974)_。 [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* 您可以使用 `POST /V1/:sku/links` 終結點，用於在產品具有現有連結時將產品連結與空的產品陣列設定。 以前，應用程式引發錯誤。 _修復由Sathish Subramanian在拉式請求中提交 [26979](https://github.com/magento/magento2/pull/26979)_。 [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* 現在，您可以使用「產品」(Products)網格中的「操作」(Actions)下拉菜單來指定在從「管理」(Admin)更新多個產品的屬性時產品是否具有重量。  _修復由Bartomiej Szubert在拉入請求中提交 [26075](https://github.com/magento/magento2/pull/26075)_。 [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* 驗證邏輯已添加到 **網格允許值上的每頁產品數** 和 **網格預設值上的每頁產品** 「儲存配置」頁的欄位。 以前，儲存管理員可以在這些欄位中輸入不可用的值。  _Fix由Lukasz Bajsarowicz在拉式請求中提交 [27093](https://github.com/magento/magento2/pull/27093)_。 [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### 目錄規則

<!-- ENGCOM-6550-->

* 已更正Datepicker頁元素的行為 **管理** > **營銷** > **促銷** > **目錄價格規則**。 _修復由Hitesh在拉入請求中提交 [26290](https://github.com/magento/magento2/pull/26290)_。 [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-5122-->

* 目錄價格規則現在可以按照「產品詳細資訊」頁面的預期使用自定義選項。 _帕維爾·貝斯特里茨基應請求提交Fix [22917](https://github.com/magento/magento2/pull/22917)_。 [GitHub-22856](https://github.com/magento/magento2/issues/22856)

### 目錄小部件

<!-- MC-29167-->

* 的 `CatalogWidget` 產品清單現在與錨點類別一致，而錨點類別中的產品現在已匹配並顯示。 以前，當您選擇父類別作為錨點，但該類別不包含已分配的產品時，產品在小部件中不可見。

<!-- MC-30260-->

* 此時，應用程式將按預期顯示選定父類別的所有子級。 以前，如果您選擇的父類別是錨點，但不包含已分配的產品，則應用程式不會顯示所有嵌套的產品。

<!-- MC-31171-->

* 最近查看的產品小部件現在在 **商店** > **配置** > **目錄** > **目錄** > **最近查看/比較** > **將小部件產品與後端儲存同步** 設定為 **是**。

### CMS內容

<!-- MC-29619-->

* 您現在可以保存並複製所有CMS頁。 以前，當您嘗試複製某些頁面時，應用程式引發此異常： `Unique constraint violation found`。

<!-- MC-30963-->

* 現在，應用程式允許您建立名稱相同的CMS塊（如果這些塊被分配給不同的儲存視圖）。

<!-- MC-30103-->

* 現在，從庫影像縮略圖中進行選擇將按照預期進行快取。 以前，這些影像會被即時調整大小。

<!-- MC-32275-->

* 保存已分配給多個儲存的CMS頁時，應用程式不再引發錯誤。 以前，在您建立或編輯CMS頁時，應用程式保存了該頁，但也拋出了以下錯誤： `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`。

<!-- MC-32452-->

* 現在，新的CMS頁面將按預期添加到網站的儲存頁面層次結構中。

<!-- ENGCOM-7033-->

* CMS頁面自定義佈局更新邏輯已得到改進。 應用程式現在應用特定佈局更改 `cms_page_view_selectable_home_somechanges.xml`。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27131](https://github.com/magento/magento2/pull/27131)_。 [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### 清理

<!-- ENGCOM-6573-->

* 已從模組XML中刪除額外的結束標籤。 _Tejash Kumbhare在提取請求中提交的修復 [26339](https://github.com/magento/magento2/pull/26339)_。 [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* 校正的 **我的帳單地址和發貨地址相同** 複選框。  _在拉式請求中由divyajothi5321提交的修復 [26169](https://github.com/magento/magento2/pull/26169)_。 [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* 已刪除簽出工作流「發運地址」部分的欄位標籤和星號之間不必要的空格。  _Daniel Ruf在請求中提交的修復 [26285](https://github.com/magento/magento2/pull/26285)_。 [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* 已更正簽出工作流的「發運方法」部分中單選按鈕的未對齊。  _修復由Hitesh在拉入請求中提交 [25966](https://github.com/magento/magento2/pull/25966)_。 [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* 更正了移動視圖中不一致的菜單間距。 _修復由Hitesh在拉入請求中提交 [26238](https://github.com/magento/magento2/pull/26238)_。 [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* 已更正移動視圖中的「Edit and Remove（編輯和刪除）」表徵圖的未對齊。  _Vasilii Burlacu在請求中提交的修復 [27493](https://github.com/magento/magento2/pull/27493)_。 [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* 更正了「添加新稅率/郵遞區號」頁(**管理**  >  **儲存**  >  **稅** >  **稅區和稅率**)。 _修復由Sathish Subramanian在拉式請求中提交 [26932](https://github.com/magento/magento2/pull/26932)_。 [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* 現在，從安裝嚮導到管理員的連結將按預期工作。 _修復由Oleh Usik提交的拉入請求 [26100](https://github.com/magento/magento2/pull/26100)_。 [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* 已在管理中快取管理網格的狀態列上禁用排序。 _修復由Sathish Subramanian在拉式請求中提交 [26215](https://github.com/magento/magento2/pull/26215)_。 [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* 已校正頁面元素在 **管理** >  **商店**  >  **屬性**  > **評級** >  **添加新評級** 對話框。 _修復由Sathish Subramanian在拉式請求中提交 [27014](https://github.com/magento/magento2/pull/27014)_。 [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* 已更正「添加設計更改」頁上日曆表徵圖的未對齊。 _由Eduard Chitoraga在請求中提交的修復 [26063](https://github.com/magento/magento2/pull/26063)_。 [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* 已刪除首頁懸停菜單上的子菜單顯示中不必要的空間。 _修復由Hitesh在拉入請求中提交 [25973](https://github.com/magento/magento2/pull/25973)_。 [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* 更正了店面產品詳細資訊頁面上的價格標籤未對齊。 _在拉式請求中由divyajothi5321提交的修復 [26237](https://github.com/magento/magento2/pull/26237)_。 [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* 校正了非庫存文本相對於  **添加到購物車** 按鈕。  _在拉式請求中由divyajothi5321提交的修復 [26183](https://github.com/magento/magento2/pull/26183)_。 [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* 上顯示的整合成功消息  **管理**  > **系統** > **擴展** > **整合** 現在正確顯示。 _在拉式請求中由divyajothi5321提交的修復 [26011](https://github.com/magento/magento2/pull/26011)_。 [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### 可配置產品

<!-- MC-23546-->

* 現在，可配置產品的子產品可以通過API成功禁用。

<!-- MC-30391-->

* 購物車價格規則 **條件設定為類別（僅限父項）** 現在一直按預期工作。

<!-- MC-30989-->

* 現在，您可以從「交叉銷售」標籤將可配置產品添加到購物車中。 選擇產品並按一下 **添加到購物車** 在此頁籤中，您現在將轉到「產品詳細資訊」頁，在該頁中可以選擇特定的產品選項。 以前，應用程式將您重定向到「404錯誤」頁。

<!-- MC-32411-->

* 當連結這些產品的API調用失敗時，應用程式不再將簡單產品連結到可配置產品。

<!-- ENGCOM-6483-->

* 已更正可配置產品的「當前變體」清單中SKU的呈現。 _修復由KaushikChavda在拉取請求中提交 [26007](https://github.com/magento/magento2/pull/26007)_。 [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* 現在可以保存 `system.xml` 通過輸入值  **管理** > **系統** > **配置** 在沒有關聯標籤的欄位中。 _修復由Andrii Chorniy提交的請求 [25985](https://github.com/magento/magento2/pull/25985)_。 [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* 的效能 `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable` 已優化。  _Fix由Stanislav Ilnytskyi在拉取請求中提交 [26071](https://github.com/magento/magento2/pull/26071)_。 [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* 改進了用於更新可配置產品映像的邏輯。 以前，與可配置產品關聯的簡單產品僅顯示與可配置產品關聯的預設影像，而應用程式有時顯示產品的錯誤主影像。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [26560](https://github.com/magento/magento2/pull/26560)_。 [GitHub-26473](https://github.com/magento/magento2/issues/26473)。 [GitHub-26856](https://github.com/magento/magento2/issues/26856)。 [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* 在您選擇可配置產品的折扣選項時，應用產品現在會按預期顯示產品的特殊價格。 以前， `class="normal-price"` 未更改為 `class="special-price"` 值。 _修復由拉維·錢德拉在拉入請求中提交 [26170](https://github.com/magento/magento2/pull/26170)_。 [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookie

<!-- MC-24182-->

* 的 `setRedirectCookie` 和 `clearRedirectCookie` 功能現在按預期工作。 以前，這些函式將cookie發送到瀏覽器，但缺少所有cookie參數。 [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- MC-30789-->

* 當客戶未接受Google標籤管理器cookie而導航到新商店時，不再觸發Google標籤管理器標籤。

<!-- ENGCOM-6891-->

* 元資料已添加到 `setRedirectCookie` 和 `clearRedirectCookie` 的子菜單。  _修復由Alexander Lukyanov在拉請求中提交 [24612](https://github.com/magento/magento2/pull/24612)_。 [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### 自定義客戶屬性

<!-- MC-30739-->

* 應用程式現在將按照簽出工作流地址部分的預期顯示自定義客戶地址屬性值。 以前，應用程式會顯示自定義客戶地址屬性代碼而不是值，並觸發JavaScript錯誤。

<!-- MC-32301-->

* 當您在中包含空的客戶屬性欄位時，應用程式不再引發錯誤 **Forms將用於** 欄位。 以前，應用程式引發了以下錯誤： `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`。

<!-- MC-33361-->

* 現在，應用程式將保存自定義客戶地址屬性，並按照預期在註冊表單中實施這些屬性。 以前，當您從購物車建立帳戶時建立新的自定義客戶地址屬性時，應用程式不會保存屬性資訊。

### 客戶

<!-- MC-29102-->

* 註冊新帳戶後，以來賓身份訂閱新聞稿的客戶將不再取消訂閱。

<!-- MC-29841-->

* 應用程式現在使用 `PHPSession` 更改密碼。

<!-- MC-30650-->

* 現在，您可以使用上的「關聯到網站」下拉菜單成功建立客戶並將其與特定網站關聯 **客戶** > **所有客戶** > **添加新客戶**。 以前，當您嘗試將新客戶與多站點部署中的非預設網站相關聯時，應用程式會顯示以下錯誤： `The store view is not in the associated website`。

<!-- MC-29946-->

* 現在，當交易因信用卡無效而最初被拒絕但隨後成功完成時，應用產品將保存客戶在結帳期間在預設開單和發運欄位中輸入的資訊。 以前，雖然應用產品在客戶輸入有效付款資訊時建立了訂單，但它沒有更新結帳工作流「我的帳戶」部分中的預設開單地址或發運地址。

<!-- MC-32325-->

* 當您在多站點部署中從管理員建立新客戶時，此應用程式現在將遵循客戶組設定。

<!-- MC-31481-->

* 應用程式現在使用 **客戶和地址（單個檔案）** 選項 `cron` 已啟用，且客戶網格索引器設定為 **按計畫更新**。 之後 `cron` 執行時，導入的客戶資訊在管理員中可按預期獲得。 以前，應用程式導入了客戶資料，但沒有使用新導入的客戶記錄更新客戶網格。

<!-- MC-31117-->

* 現在，在需要出生日期時，您可以從店面建立新客戶。 以前，在需要此欄位時，即使輸入了有效的DOB值，您也無法建立新客戶。 [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* 現在，從管理員建立客戶時將按照預期執行預設客戶組設定。

<!-- MC-31435-->

* 的 `PHPSessionId` 現在，在客戶註銷並重新登錄後，將按預期更改。

<!-- MC-32152-->

* 客戶購物車的「管理」視圖現在顯示從多網站部署中的多個網站添加到購物車的所有產品。 以前，當客戶從非預設網站將產品添加到其購物車時，即使在管理員中 **共用客戶帳戶** 設定為 **全球**。

<!-- ENGCOM-7036-->

* 驗證現在按預期工作 **出生日期** 編輯管理員中的客戶時的欄位。 以前，應用程式未在用戶區域設定中考慮因素，對於某些出生日期，顯示以下錯誤： `The Date of Birth should not be greater than today`。   _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27149](https://github.com/magento/magento2/pull/27149)_。 [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* 從管理員處下訂單時不再需要電子郵件欄位。  _在拉式請求中修復由solwininfotech提交 [24479](https://github.com/magento/magento2/pull/24479)_。 [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* 現在，在從管理員查看購物車時，應用程式只顯示客戶在其購物車中放置的產品。 以前，從管理員查看時，客戶的購物車會顯示目錄中的所有產品。 _修復由拉文德在拉請求中提交 [26489](https://github.com/magento/magento2/pull/26489)_。 [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* 「我的帳戶」儀表板現在在移動視圖中正確顯示電子郵件地址值。 _修復由Eden Duong在拉取請求中提交 [25942](https://github.com/magento/magento2/pull/25942)_。 [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* 按一下 **建立帳戶** 的子菜單。 _修復由princeCB在拉請求中提交 [26642](https://github.com/magento/magento2/pull/26642)_。 [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### 客戶細分

<!-- MC-29471-->

* 當您以分配給客戶段的用戶身份登錄時，當該段包含過去訂單的條件時，應用產品不再從客戶段中刪除客戶帳戶。 以前，你必須點擊 **刷新段資料** 在應用程式在「匹配的客戶」清單中顯示您的帳戶之前登錄後。

<!-- MC-30466-->

* 當分部條件包括訂單總數時，客戶分部現在按預期工作。

<!-- MC-32409-->

* 客戶段規則現在按預期在將客戶帳戶設定為全局共用時應用。

<!-- MC-33081-->

* 我們改進了編輯和保存包含大量客戶（超過300萬）的客戶段的效能。 以前，當您建立或編輯包含許多客戶的客戶段時，應用程式拋出500個錯誤。

### 目錄

<!-- MC-33168-->

* 現在，「預設狀態」下拉菜單由資料填充，這些資料基於在您為以下站點配置值時分配給選定網站的允許國家/地區 **預設納稅目標計算** 的子菜單。 以前，此下拉清單列出了分配給預設網站的國家/地區。

### 可下載

<!-- MC-32306-->

* 您現在可以使用導入檔案按SKU和說明批量更新可下載的產品。 以前發生驗證錯誤，導入失敗。

### 動態塊（以前的標題）

<!-- MC-23852 31632-->

* 動態塊現在可以按預期方式與客戶段配合使用。 當應觸發該塊的條件未滿足時，應用程式不再顯示動態塊。 以前，當購物車為空時，應用程式會為作為來賓登錄的用戶顯示一個動態塊。

<!-- MC-32652-->

* 現在，基於客戶細分和儲存視圖在店面上呈現動態塊。

### 電視

<!-- MC-29999-->

* 應用程式現在考慮特定於儲存的設定，這些設定確定在多站點部署中是否需要簽出工作流的電話號碼欄位。 以前，在簽出工作流中一個儲存需要此欄位而另一個儲存沒有填寫此欄位的部署中，在簽出不需要此欄位的儲存時未填寫此欄位的客戶遇到以下錯誤： `Please check the shipping address information. "telephone" is required. Enter and try again`。

<!-- ENGCOM-6489-->

* EAV排序依據 `attribute option_id` 現在按預期工作。 _修復由Tan Sezer在拉入請求中提交 [24360](https://github.com/magento/magento2/pull/24360)_。 [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* 現在，通過REST添加新屬性並將其分配給管理員中的屬性集後，您可以建立新產品。 以前，應用程式引發500錯誤。  _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27191](https://github.com/magento/magento2/pull/27191)_。 [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### 電子郵件

<!-- MC-32842-->

* 在客戶請求退貨時發送給客戶的授權電子郵件現在按預期包含RMA狀態。 以前，此電子郵件顯示的是空字串，而不是預期的返回狀態。

<!-- MC-32864-->

* 當客戶報告在全局共用客戶帳戶的多站點部署中忘記的密碼時，不再將客戶重定向到遠離當前網站。 以前，客戶被重定向到建立帳戶的網站。

<!-- MC-31544-->

* 發送給客戶的訂單確認電子郵件現在按預期包括已訂購物料的清單。 以前，當您通過載入和保存預設模板在管理員中建立電子郵件模板時，從此模板生成的電子郵件不包括已排序項的清單。 [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### 框架

* 對Zend Framework的依賴項已遷移到 [拉米納斯項目](https://getlaminas.org/about/foundation) 反映Zend Framework向Linux Foundation的Laminas項目的過渡。 已棄用Zend Framework。 _Ihor Sviziev在拉請求中提交的修復 [26436](https://github.com/magento/magento2/pull/26436)_。 [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* 特殊價格範圍設定（從/到日期）現在可以使用荷蘭語區域設定為管理員帳戶正常工作。

<!-- MC-29388-->

* `php bin/magento cron:run` 不再多次處理更改日誌表中的項。 以前，當更改日誌表中有100000多個新版本時，可以多次調用相同的操作 `entity id`。

* 的 `php bin/magento setup:cron:run` 命令現在已被刪除。 此外，在升級時刪除crontabs中對此檔案的引用。

* 的 `update/cron.php` 檔案已在2.4.0中刪除，如果此檔案在您的安裝中存在，則可以安全地刪除它。 此外，在升級時刪除crontabs中對此檔案的引用。

<!-- MC-30544-->

* 「更新屬性」(Update Attribute)操作現在可以正確更新產品的時間戳 `updated_at column` 從 `catalog_product_entity` 從「管理員編輯產品」(Admin edit product)頁面更新產品時。

<!-- MC-30834-->

* 設定 `'persistent' => '1'` 在 `env.php` 運行時不再引發錯誤 `setup:upgrade`。

<!-- MC-32243-->

* 的 **窗體鍵無效。 請刷新頁面** 登錄頁上的文本字串現在按預期轉換。

<!-- MC-33278-->

* 我們改進了 `Magento\Framework\App\DeploymentConfig\Reader::load` 的子菜單。 以前，當向Magento請求時，會重複調用此函式，這導致 `config.php` 和 `env.php config` 每次調用方法時載入的檔案。

<!-- MC-31728-->

* 應用程式不再下載 `blank.html` 當管理員從管理員建立訂單時按一下產品時，

<!-- MC-31729-->

* 在頁面上不存在（未聲明）元件的引用說明中，添加到預設佈局的不可快取塊不再影響頁面快取。 將非可快取塊添加到預設佈局處理程式會使所有頁面不可快取。 這源於佈局生成流程：在版式生成期間，應用程式將收集特定頁面的所有可用佈局句柄，並將來自這些句柄的指令合併到頁面的最終佈局結構中。 預設佈局句柄用作每個頁面的基本句柄。 因此，為預設處理程式聲明的佈局更新會出現在每個頁面上。 [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* MySQL鎖管理器現在是主鎖管理器。 因此， MySQL的最低要求版本為5.7.9。

<!-- ENGCOM-6431-->

* `queue_consumer.xml` 現在允許在 `handler` 類。 以前，當處理程式在其路徑中包含數字時，XSD驗證失敗。 _修復由Eden Duong在拉取請求中提交 [25952](https://github.com/magento/magento2/pull/25952)_。 [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* 錯誤 `@var` 引用 `doc` 類成員變數的塊 `$queueIterator` 在課堂中 `\Magento\Framework\MessageQueue\Topology\Config` 已更正。 _修復由Artem Voloznov在拉請求中提交 [24976](https://github.com/magento/magento2/pull/24976)_。 [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* JavaScript頁載入偵聽程式現在在文檔不再時觸發 `loading` 而不是等到它標籤為 `complete` 等待文檔標籤為 `complete` 可能會導致JavaScript內容呈現嚴重延遲。 _修復由John Hughes提交的拉入請求 [23313](https://github.com/magento/magento2/pull/23313) 並請求 [50](https://github.com/magento/partners-magento2ee/pull/50)_。 [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* 當您嘗試將產品添加到您的願望清單中，數量為0或負數時，應用產品現在會顯示以下資訊性消息： `Please enter a valid number in this field`。 以前，應用程式顯示以下錯誤： `We can't update your Wish List right now`。 _修復由Pawe Tylek在拉入請求中提交 [25641](https://github.com/magento/magento2/pull/25641)_。 [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* 應用程式不再支援DTO類從 `Magento\Framework\Api\AbstractExtensibleObject` 類。 缺少PHP注釋 `@api`  已添加到 `AbstractExtensibleModel`，以及丟失 `@deprecated`  注釋已添加到 `AbstractExtensibleObject`。  _修復由Alexander Taranovsky提交的請求 [22011](https://github.com/magento/magento2/pull/22011)_。 [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* 現在，您可以在更改與產品相關的日期後按預期保存產品(例如， `news_from_date`。 `news_to_date`。 `special_price_from_date`。 `special_price_to_date`)。 以前，應用程式引發了類似以下錯誤：  `Invalid input datetime format of value '22/5/2019`。

### 常規修復

<!-- MC-21347-->

* 客戶模組不再依賴「審閱」模組。 以前，由於此依賴關係，您無法禁用「審閱」模組。

<!-- MC-25250-->

* 現在，當頁面的預設屬性集包含帶有選擇標籤的下拉屬性時，產品編輯頁會成功載入。

<!-- MC-25260-->

* 從管理員的「訂單」標籤可訪問的圖形訂單圖表現在可以準確反映訂單數量。

<!-- MC-29273-->

* 當這兩個URL不同時，商店的管理URL不再重定向到店面URL。

<!-- MC-29658-->

* 在將效能工具包配置檔案與多個網站配合使用時，子類別的URL重寫生成現在正常工作。

<!-- MC-30224-->

* 現在，您可以刪除空的用戶模型，而不刪除分配該模型的管理員角色。

<!-- MC-30636-->

* TinyMCE4編輯器現在支援所有HTML標籤。

<!-- MC-31128-->

* 按一下 **離線退款** 「建立貸項通知單」工作流中的「」按鈕，現在按預期生成貸項通知單。 以前，JavaScript錯誤禁用了此按鈕，並且應用程式未建立貸項通知單。

<!-- MC-31832-->

* 商家現在可以建立類型的產品屬性 `Decimal`。 以前，由於早期的錯誤修復，應用程式未顯示產品屬性類型 `Price`。 [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* 當您嘗試開啟店面上的「類別」頁面時，應用程式不再返回500錯誤 **佈局=產品 — 全寬** 已從「類別」頁的「設計」頁籤中設定。

<!-- MC-32697-->

* 已更正中的錯誤 `AbstractSimpleObjectBuilder.php`。

<!-- MC-33427-->

* MAP（最低廣告價格）現在可以按預期適用於集團產品。

<!-- MC-29998-->

* 當您在多儲存部署中更改CMS頁上的語言時，應用程式現在會將您重定向到相應儲存視圖的首頁。 以前，當您更改某些CMS頁面上的語言時，應用程式會顯示404頁。

<!-- MC-30162-->

* 訂單查詢(`SalesOrderIndexGridAsyncInsertCron`)，以減少返回的資料集的大小和查詢的頻率。

<!-- MC-32371-->

* 現在，您可以成功建立CMS頁並將其分配給CMS層次結構中的網站根類別。

<!-- MC-32783-->

* 現在，啟用類別權限時(例如，在 **未登錄** 已授予客戶組這些權限)。

<!-- MC-32815-->

* 現在，產品規則應用於庫存不足的產品。 以前，即使將規則配置為顯示庫存不足的產品，應用程式也不會在相關產品清單中顯示庫存不足的產品。

<!-- MC-33222-->

* 按一下 **跟蹤發運** 命令的按鈕，將導致跟蹤資訊按預期顯示在彈出窗口中。 以前，此連結將管理員帶到「登錄」頁。

<!-- MC-31305-->

* 現在，應用程式將顯示一條資訊性錯誤消息，並在客戶嘗試完成包含多選客戶屬性的註冊表單時出現錯誤時繼續按預期方式顯示註冊表單。 以前，應用程式顯示500錯誤。

<!-- MC-32224-->

* 應用程式現在顯示 **貸項通知單** 按鈕。 以前，在您建立部分退款後，應用產品未顯示此按鈕，並且您無法為訂單的其餘部分建立貸項通知單。

<!-- MC-31878-->

* 現在，通過REST批量訂單更新會按預期修改訂單狀態。 以前，應用程式引發了以下錯誤： `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* 屬性篩選器現在按預期顯示在「類別」頁的「購物選項」塊中。

<!-- MC-25138-->

* 現在，在安裝B2B的部署中，您可以將「類別」頁上的產品限制從24更改為36。 以前，當此產品限制增加到36時，應用程式發生致命錯誤。

<!-- ENGCOM-7175-->

* 現在，在Internet Explorer中顯示「管理客戶編輯」頁的「地址」頁籤下，將按預期顯示客戶開單地址和發運地址。 _Vasilii Burlacu在請求中提交的修復 [27383](https://github.com/magento/magento2/pull/27383)_。 [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* 刪除一個書籤視圖時，所有書籤視圖都保持可編輯狀態。 以前，在刪除具有多個書籤視圖的帳戶的第一個視圖後，所有書籤視圖都變為不可編輯。 _修復由Bartomiej Szubert在拉入請求中提交 [26263](https://github.com/magento/magento2/pull/26263)_。 [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* 分層導航不再中斷HTML5對樣本模組的驗證。 以前，對於未在中定義的屬性，發生HTML驗證錯誤 [W3C標籤驗證服務](https://validator.w3.org/)，但這些屬性已更改為資料屬性。 _修復由Nirav Patel在拉請求中提交 [26055](https://github.com/magento/magento2/pull/26055)_。 [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* 未使用 `require.JS` 別名(`critical-css-loader``) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`。 _修復由Tu Nguyen在拉入請求中提交 [26987](https://github.com/magento/magento2/pull/26987)_。 [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* 應用程式現在實現PHP7.x [可丟棄的介面](https://www.php.net/manual/en/class.throwable.php) 允許捕獲可能洩露密碼等敏感資訊的所有錯誤。 _修復被誤合者在拉入請求中提交 [25250](https://github.com/magento/magento2/pull/25250)_。 [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* 在建立新資料夾彈出窗口時輸入新資料夾的名稱時，按ESC鍵，現在將按預期關閉彈出窗口而不建立資料夾。  _Shankar Konar在請求中提交的修復 [25349](https://github.com/magento/magento2/pull/25349)_。 [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* 已更正錯誤嵌套的HTML結構。 以前，此結構導致相關、追加銷售或交叉銷售產品清單的佈局損壞。 _修復由Pieter Hoste在拉請求中提交 [27926](https://github.com/magento/magento2/pull/27926)_。 [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* 已刪除重複的呼叫 `addToolbarBlock`導致了兩種類似的情況 `ORDER BY`。  _Vasilii Burlacu在請求中提交的修復 [27263](https://github.com/magento/magento2/pull/27263)_。 [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* 商家現在可以設定管理員用戶帳戶的過期日期。 _修復由Laura Folco提交的拉入請求 [22837](https://github.com/magento/magento2/pull/22837)_。 [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* 我們已添加 `@api`  PHP注釋到 `AbstractExtensibleModel`，也請參見Wiki頁。 `@deprecated` PHP注釋到 `AbstractExtensibleObject`, `@see` 至 `AbstractExtensibleModel`。  _修復由Alexander Taranovsky提交的請求 [22011](https://github.com/magento/magento2/pull/22011)_。 [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### 禮品卡

<!-- MC-31041-->

* GET `V1/orders/:orderId` 呼叫會按預期返回禮品卡代碼。

### 禮品包裝

<!-- MC-29893-->

* 現在，在產品級別上啟用禮品包裝後，可以將其添加到購物車中。 以前，您可以將禮品包裝添加到店面的產品中，但此申請不會在訂單摘要中包括禮品包裝。

<!-- MC-30543-->

* 當您將過期禮品卡的到期日期更改為將來日期時，過期禮品卡將按預期變為活動狀態。 此前，禮品卡仍然過期。

<!-- MC-32551-->

* 「管理員建立順序」頁現在在 **允許訂單級別上的禮品郵件** 啟用設定和模板小化。 以前，當您嘗試在啟用這些設定時開啟此頁時，應用程式拋出了以下錯誤： `Warning: require(content.phtml): failed to open stream: No such file or directory`。

<!-- MC-31427-->

* 現在，應用產品會根據您訂購禮品包裝的產品數量正確計算禮品包裝的成本。 以前，申請只包括訂單中的一種產品的禮品包裝成本。

### Google標籤經理

<!-- MC-29878-->

* 商家現在可以推遲向Google Analytics發送資料，直到滿足指定條件。

<!-- MC-30673-->

* 失蹤 `Magento_GoogleTagManager::checkout/set_checkout_option.phtml` 模板已還原。

### GraphQL

<!-- ENGCOM-7074-->

* 應用程式現在返回GraphQL消息 `The cart isn't active` 而不是 `Current user does not have an active cart` 在某些情況下，當購物車處於非活動狀態並建立新購物車ID時。 _Vadim Malesh在拉請求中提交的修復 [27187](https://github.com/magento/magento2/pull/27187)_。 [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* 已刪除在使用GraphQL將產品添加到購物車時導致錯誤的代碼，因為以前添加的產品已出貨。 _修復由AleksLi在拉入請求中提交 [27015](https://github.com/magento/magento2/pull/27015)_。 [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* 更正了GraphQL的問題，在該問題中，應用程式在產品查詢中使用片段時未返回所有所需資訊。 _修復由Riccardo Tempesta在拉入請求中提交 [26218](https://github.com/magento/magento2/pull/26218)_。 [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* GraphQL突變 `setShippingMethodsOnCart` 不再檢索  `available_shipping_methods` 屬性。 _Vadim Malesh在拉請求中提交的修復 [27004](https://github.com/magento/magento2/pull/27004)_。 [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### 分組產品

<!-- ENGCOM-6115-->

* 現在，當屬於同一組的另一簡單產品出貨時，您可以將屬於某個組產品的簡單產品添加到購物車中。  _Fix由Gihovani Filipp Pereira Detrio在拉m̩請求中提交 [24955](https://github.com/magento/magento2/pull/24955)_。 [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* 現在，應用程式會按照預期向客戶發送有關已退回的組產品的電子郵件。  _修復由Alexander Taranovsky提交的請求 [26246](https://github.com/magento/magento2/pull/26246)_。 [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* 現在，當某個已分組產品的其他子產品庫存不足時，您可以將已分組產品的子產品添加到您的購物車中。 以前，當一個子產品庫存不足時，您無法將任何其他子產品添加到購物車中。

### 影像

<!-- MC-29523-->

* 影像現在保存在 `pub/media/catalog/category` 保存類別映像時的預期值。 以前，應用程式將這些映像保存在 `pub/media/catalog/tmp/category`。

<!-- MC-30320-->

* 水印影像不再遮掩它們所覆蓋的產品影像。 以前，當水印影像比其應用的產品影像大時，產品影像不可見。

<!-- MC-32273-->

* 現在，您可以成功將映像保存到管理員的類別中。 以前，保存影像後，URL的一部分丟失，無法重新開啟影像。

<!-- MC-31727-->

* 此時將顯示應用程式 `.png` 上傳後預期的影像。

<!-- MC-29483-->

* 使用頁面生成器上載到CMS塊的影像現在將按照預期顯示在預覽中，當從基URL與儲存URL不同的管理員上載時。

<!-- ENGCOM-7063-->

* 現在，使用REST添加或更新影像會按預期建立影像縮略圖。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27170](https://github.com/magento/magento2/pull/27170)_。 [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* 由生成的影像的自定義屬性 `Block\Product\ImageFactory` 現在正確呈現。 以前，由於HTML輸出轉義不正確，您無法將自己的自定義屬性添加到屬性標籤。 _修復由拉入請求中的alexander-aleman提交 [26959](https://github.com/magento/magento2/pull/26959)_。 [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* 當從iPhone看店面時，畫面不再模糊。  _修復由Dmitriy在拉取請求中提交 [24743](https://github.com/magento/magento2/pull/24743)_。 [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* 店面上的影像現在可以響應。 以前，影像高度失真。  _修復由Sean van Zuidam提交的請求 [27041](https://github.com/magento/magento2/pull/27041)_。 [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* 現在，當 `Magento_blank` 的子菜單。 _Vasilii Burlacu在請求中提交的修復 [27497](https://github.com/magento/magento2/pull/27497)_。 [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### 導入/導出

<!-- MC-25206-->

* 當導入的資料包含 `swatch_image` 儲存視圖鍵的值為 `no_selection`。 以前，應用程式引發了以下錯誤： `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`。 [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* 應用程式現在會在您使用 `hide_from_product_page` 在具有多個儲存視圖的部署中導入產品時設定。

<!-- MC-29677-->

* 現在，可自定義選項將按預期導入 `row_id` 不等於產品 `entity_id`。 以前，應用程式在 `row_id` 不等於產品 `entity_id`造成部分產品不進口。

<!-- MC-29916-->

* 現在，與可配置產品關聯的影像在導入期間可以正確上載，並可以按照預期從產品編輯頁面查看。

<!-- MC-30304-->

* 已導出 `.csv` 檔案現在反映包含庫存或庫存不足產品的篩選器設定。 以前，無論您選擇哪種庫存設定，應用程式都會導出所有產品。

<!-- MC-30323-->

* 現在，您可以使用導入工作流的「客戶」和「地址」單個檔案選項成功導入或更新客戶。 以前，當您選擇此選項時，應用程式未導入客戶資料並顯示以下錯誤： `Invalid data for insert`。

<!-- MC-30357-->

* 現在，在導入和更新產品狀態後，庫存索引器將按預期觸發。 以前，股票索引器未對更改的產品庫存資料編製索引。

<!-- MC-30528-->

* 現在，應用程式成功導入可配置產品的子產品的所有自定義選項 `store_view_code` 。 無論您是選擇單獨導入還是共同導入可配置產品，都可以使用此功能。 以前，當導入檔案包含多個項和 `store_view_code` 已指定。

<!-- MC-30672-->

* 應用程式現在在產品導入期間提供一條消息，該消息標識導入的產品 `.csv` 檔案具有重複的鍵。 商家可以使用此資訊來解決衝突。 以前，應用程式顯示以下錯誤： `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* 當您嘗試從中刪除目錄時，應用程式現在會顯示更多資訊性錯誤消息，並且不顯示下載連結 **系統** > **導出** 清單框。 以前，當您嘗試從此清單中刪除目錄時，應用程式繼續顯示無法下載的檔案的下載連結，並顯示一條無資訊的錯誤消息。

<!-- MC-29959-->

* 的 `.csv` 導入過程中使用的檔案現在包含可下載產品的正確連結，並且現在格式正確，可支援導入和更新可下載產品。

<!-- MC-30189-->

* 應用程式現在已成功導出 `.csv` 在為替換設定導入行為時，選擇以前導出的檔案 `.csv` 檔案，然後按一下 **檢查資料**。 以前，應用程式顯示以下錯誤： `Data validation failed. Please fix the following errors and upload the file again` 和 `Following Error(s) has been occurred during importing process`。

<!-- MC-30141-->

* 現在，在導入和更新產品狀態後，庫存索引器將按預期觸發。 以前，股票索引器未對更改的產品庫存資料編製索引。

<!-- MC-31198-->

* `.csv` 在產品導入過程中生成的檔案現在包含可下載產品的組標題（如預期）。 以前，不必要的驗證 `group_title` 導入期間，無法顯示可下載產品的組標題。

<!-- MC-32153-->

* 當 `cron` 啟用，並使用 **(客戶和地址（單個檔案）)** 選項，應用程式將按照預期將資料填充到管理客戶網格。 客戶網格在手動重新索引完成後顯示客戶， `customer_grid indexer`。 以前，應用程式沒有使用新導入的客戶地址更新客戶網格。

<!-- MC-32154-->

* 現在，應用程式將按照自動重新編製索引後的預期顯示客戶清單。 以前，儘管手動運行 `bin/magento index:reindex` 在自動重新索引後，客戶網格沒有顯示客戶資訊。

<!-- MC-30148-->

* 應用程式現在會從 `<Magento_home>/var` 在產品導入完成後預期。

<!-- MC-31879-->

* 當產品導入者 `.csv` 的子菜單。

<!-- ENGCOM-6141-->

* 當導入的可配置屬性的值中包含等號(=)時，導入不再失敗。 _修復由dhoang89在拉請求中提交 [25194](https://github.com/magento/magento2/pull/25194)_。 [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* 所有導出的網格資料(Adobe Commerce和自定義資料)現在都有選項標籤，而不是所有類型列的選項值 `Select` 或 `Multiselect`。 以前，導出此資料時，導出的電子錶格包含ID為的列，而不是網格中顯示的值。 _修復由Maksym Novik在拉請求中提交 [26523](https://github.com/magento/magento2/pull/26523)_。 [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* 現在，應用程式將在您通過導入產品更新產品後，按照預期在店面上顯示捆綁產品 `.csv` 的子菜單。 _帕維爾·貝斯特里茨基應請求提交Fix [25664](https://github.com/magento/magento2/pull/25664)_。 [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### 索引

<!-- MC-25236 30779-->

* 我們已經改善了 `indexer_update_all_views`。 現在索引速度更快，不再處理非活動規則，並且快取中只清除已更改產品的條目。

<!-- MC-29917-->

* 店面上的產品價格現在可以準確反映計畫目錄價格規則更新的應用。 以前，在您手動重新編製索引(`php bin/magento indexer:reindex catalogrule_rule`)。

<!-- MC-30588-->

* 現在，在添加不可搜索的屬性(即 `is_searchable`。 `is_filterable`。 `is_visible_in_advanced_search` 屬性被禁用)。

<!-- ENGCOM-6533-->

* 應用程式現在顯示一條消息，用於標識索引器以及在重新索引操作失敗時索引操作花費的時間。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26207](https://github.com/magento/magento2/pull/26207)_。 [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* 保存在  `onthefly` 索引器和平面表現在根據網站分配啟用。 以前，如果您從某個產品中刪除了所有網站分配，然後將其保存，則所有平面表都包括該產品，儘管指定了網站分配。  _修復由Abel Truong在拉式請求中提交 [27365](https://github.com/magento/magento2/pull/27365)_。 [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### 基礎設施

* 不再支援Internet Explorer 11.x瀏覽器。

<!-- MC-32223-->

* 與 **出生日期** 「客戶註冊」表單的欄位不再觸發JavaScript錯誤。

<!-- ENGCOM-7000-->

* 已添加要覆蓋的整合test `$storeId` 類別儲存庫 `get()` 的雙曲餘切值。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [27048](https://github.com/magento/magento2/pull/27048)_。 [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* 啟用 **阻止所有Cookie** 在Safari中進行設定不再導致JavaScript錯誤，應用程式將顯示 `cookies disabled` 消息（如預期）。 以前，應用程式顯示多個 `SecurityError (DOM Exception 18): The operation is insecure` 控制台中的錯誤。 _Rl Verdugo Lorenzo在拉a̼入請求中提交的修復 [25324](https://github.com/magento/magento2/pull/25324)_。 [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* 運行整合test時，應用程式不再引發此錯誤： `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`。 以前， `AutoloaderRegistry::getAutoloader` 導致整合test隨機失敗。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26480](https://github.com/magento/magento2/pull/26480)_。 [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* 的 `date` 標籤 `/module-sales/view/frontend/templates/order/order_date.phtml`  已更正為 `span`。 以前，應用程式在 `exception.log` 檔案 **查看訂單** 在店面 **我的帳戶** > **我的命令** 的子菜單。 _修復由Andrii Chorniy提交的請求 [25895](https://github.com/magento/magento2/pull/25895)_。 [GitHub-13269](https://github.com/magento/magento2/issues/13269)。 [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* 對JavaScript混合模組進行了重構，以改進高級捆綁模組混合模組的載入和應用。 以前，應用程式未載入或應用高級捆綁模組的混合。  _Mateusz Krzeszowiak在拉請求中提交的修復 [25587](https://github.com/magento/magento2/pull/25587)_。 [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* 的 `grunt clean` 命令現在可以按照預期清除生成的代碼和元資料資料夾。 _修復由Andrii Beziazychnyi在拉式請求中提交 [25765](https://github.com/magento/magento2/pull/25765)_。 [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* `getVersion` 結果(R)`ProductMetadata::getVersion`)現在已快取，這將提高 `ProductMetadata::getVersion` 的雙曲餘切值。  _Fix由Lukasz Lewandowski提交請求 [26001](https://github.com/magento/magento2/pull/26001)_。 [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* 缺少的setter `additional_information` 已添加到 `OrderPaymentInterface`，可解決其架構聲明與接受屬性之間的不一致。 _修復由Antonino Bonumore在拉入請求中提交 [26748](https://github.com/magento/magento2/pull/26748)_。 [GitHub-26745](https://github.com/magento/magento2/issues/26745)。 [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### 分層導航

<!-- MC-31763-->

* 應用程式現在呈現 **是/否** 「類別」頁上的屬性 **在分層導航中使用：可篩選（帶結果）** 啟用了儲存屬性。

<!-- ENGCOM-6807-->

* 冗餘 `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` 已棄用  `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`。 _修復由Adarsh Manickam在拉取請求中提交 [26714](https://github.com/magento/magento2/pull/26714)_。 [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### 記錄

<!-- MC-29636-->

* 訂單狀態更改現在按預期記錄在 **系統** > **操作日誌** > **報告**。

<!-- MC-29637-->

* 應用程式現在按預期在「管理操作」日誌中記錄銷售發運操作。

<!-- MC-29892-->

* CMS頁面保存操作現在已記錄在管理操作日誌中。 以前只記錄了視圖操作。

<!-- MC-30618-->

* CMS頁上的保存操作現在按預期記錄在管理操作日誌中，當 **選擇要記錄的所有操作** 在「管理操作日誌記錄」頁籤(**管理** > **商店** > **配置** > **高級**)。

<!-- ENGCOM-7274-->

* CMS頁面修改現在按預期記錄在操作日誌中。 MFTF現在涵蓋此功能。  _Fix由Lukasz Bajsarowicz在拉式請求中提交 [27597](https://github.com/magento/magento2/pull/27597)_。 [GitHub-171](https://github.com/magento/magento2/issues/171)

### 媒體集

<!-- ENGCOM-6993-->

* 按一下 **輸入** 在「媒體集」中命名新資料夾後，現在將保存您所做的所有更改。 以前，按一下 **輸入** 而不是使用滑鼠來選擇 **確定** 導致所有更改丟失。  _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27029](https://github.com/magento/magento2/pull/27029)_。 [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* 現在，您可以在媒體集下建立與主資料夾同名的子資料夾。 以前，無法保存同名的子資料夾。 _Vadim Malesh在拉請求中提交的修復 [27976](https://github.com/magento/magento2/pull/27976)_。 [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### 介質儲存

<!-- MC-32593-->

* `var/resource_config.json` 不再在請求映像時重新生成 `get.php`。 以前，每次調用時都重寫此檔案 `get.php`。

### New Relic

<!-- ENGCOM-6461-->

* Adobe Commerce `cron`作業名稱現在按預期包括在NewRelic APM Monitoring - Transactions中的事務跟蹤中。 這包括 `cron` 從命令行執行的作業以及標準調度程式執行的作業。  _Fix由Lukasz Bajsarowicz在拉式請求中提交 [25957](https://github.com/magento/magento2/pull/25957)_。 [GitHub-22047](https://github.com/magento/magento2/issues/22047)

### 新聞稿

<!-- MC-31768-->

* 客戶現在可以按預期訂閱新聞稿。 以前，當客戶嘗試確認其訂閱時，應用程式顯示以下錯誤： `This is an invalid subscription confirmation code`。

<!-- ENGCOM-6525-->

* 現在，任何受支援的瀏覽器都會以相同的方式呈現店前頁腳的新聞稿輸入欄位。  _在拉式請求中由divyajothi5321提交的修復 [26182](https://github.com/magento/magento2/pull/26182)_。 [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* 現在，有關新聞稿訂閱的店面消息將按預期在HTML中呈現。 _修復由Oleh Usik提交的拉入請求 [26455](https://github.com/magento/magento2/pull/26455)_。 [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### 訂單

<!-- MC-33456-->

* 當網站顯示設定指定應排除稅時，訂單匯總小計不再顯示排除的稅。 以前，當多個網站配置了不同的顯示設定時，在伺服器變數中定義的設定將用於儲存，儘管儲存級別配置不同。

### 付款方法

<!-- MC -->

* 第三方支付方式Authorite.Net、eWay、CyberSource、Braintree和Worldpay已被排除在核心代碼中。 商戶應遷移至Commerce Marketplace上提供的正式分機。

<!-- MC -->

* 不再支援Migiyd欺詐保護的核心實施。 商戶應遷移至 [重大欺詐和按儲存容量使用計費保護擴展](https://marketplace.magento.com/signifyd-module-connect.html) 在Commerce Marketplace。

<!-- MC-32546-->

* 現在，您可以成功完成訂單並返回商戶首頁 **網站支付專業托管解決方案** 已配置。 以前，當您按一下 **返回到商家**，應用程式引發此錯誤： `Invalid Form Key. Please refresh the page`。

<!-- ENGCOM-6606-->

* 切換計費地址不再導致JavaScript函式文本在店面結帳工作流的付款部分中呈現。 _修復由Chris Pook在拉入請求中提交 [26378](https://github.com/magento/magento2/pull/26378)_。 [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* 貸項通知單現在在 **調整退款** 「貸項通知單概覽」欄位。  _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27343](https://github.com/magento/magento2/pull/27343)_。 [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* 您現在可以從 `quote_payment column additional_information` 的下界。 以前，您無法在保存報價後刪除此資訊，因為 `unsAdditionalInformation` 方法 `\Magento\Payment\Model\Info` 未正確初始化資料。  _Marco Oliveira在拉入請求中提交的修復 [26084](https://github.com/magento/magento2/pull/26084)_。 [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* 付款指示現在從從中發出訂單的商店視圖中導出。 以前，付款說明是從預設儲存視圖中使用的，因為 `BeforeOrderPaymentSaveObserver` 方法從預設儲存視圖中提取付款說明。 _修復由Karyna Tsymal在拉取請求中提交 [26399](https://github.com/magento/magento2/pull/26399)_。 [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* 應用產品現在將收集顯示在管理員以及發票和發運發票中的付款資訊，這些資訊來自在具有多個商店的部署中下達訂單的商店。 以前，應用程式從預設儲存派生付款資訊。  _修復由Bartomiej Szubert在拉入請求中提交 [26765](https://github.com/magento/magento2/pull/26765)_。 [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### 貝帕爾

<!-- MC-30498-->

* 應用程式現在在每次客戶按一下時顯示一條資訊性錯誤消息 **使用PayPal支付** 在簽出工作流中輸入無效的發運地址後。 以前，只有當客戶第一次按一下按鈕時，應用程式才會顯示錯誤消息，而不是隨後按一下。

<!-- MC-30639-->

* 應用程式不再將訂單的狀態更改為 `Processing` 當使用PayPal的付款失敗時，在結帳工作流的「付款複查」部分中。

<!-- MC-30864-->

* 現在，您可以使用「付款流連結」付款方法成功完成訂單。 以前，Oracle Payflow Link付款方法始終拒絕付款，因為訂單狀態仍位於 `Pending` 付款狀態，即使付款方法日誌中的訂單狀態為 `Approved`。

<!-- MC-32494-->

* 使用PayPal Payflow Pro下達的訂單現在設定為 `Suspected Fraud` 觸發欺詐篩選器時的狀態。

<!-- MC-33110-->

* 現在，您可以將PayPal Express結帳與任何受支援的信用卡一起使用。 以前，當您在使用PayPal Express Checkout完成訂單時按一下信用卡按鈕時，應用程式掛起，您無法輸入任何信用卡資訊。

<!-- MC-33117-->

* PayPal Payflow Pro中的訂單現在設定為 `Suspected Fraud` 觸發欺詐篩選器時的狀態。 以前，在應用產品端進行付款審批之前，未驗證PayPal上的付款交易記錄狀態。

<!-- MC-33294-->

* Payflow Pro現在在啟用網站限制時按預期工作。

<!-- MC-31196-->

* 此時，應用產品將成功處理與PayPal Express Checkout一起下達的訂單，訂單的發運地址指定了客戶已人工輸入到文本欄位中的國家/地區，而不是從「發運」頁的下拉菜單中選擇。 以前，應用程式在訂單複查頁上顯示以下錯誤： `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`。 [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* PayPal Pro支付方式現在在Chrome 80瀏覽器中如預期那樣有效。 此付款方法以前調用了需要訪問客戶會話的回調終結點 — 新的預設Chrome SameSite Cookie功能不允許訪問。 [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* 現在，您可以成功使用PayPal Express在啟用永久結帳購物車和 **註銷時清除持久性** 設定設定為 **不**。 以前，應用程式將您重定向到「登錄」頁。

<!-- ENGCOM-6383-->

* Paypal Express和Web Payments Pro的付款現在轉移到 `Processing` 開始處理後的狀態。 以前，Paypal Web Payments Pro付款仍保留在 `Pending` 付款狀態，即使付款資訊處於 `Processing` 狀態。 _Azambon在拉式請求中提交的修復 [25876](https://github.com/magento/magento2/pull/25876)_。 [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### 效能

<!-- MC-31499-->

* 改進了客戶資料段失效邏輯。 此版本引入了一種新的方法，使所有客戶部分資料失效，避免在自定義時本地儲存出現已知問題 `sections.xml` 無效活動。 (以前，在您有自定義內容時，私有內容（本地儲存）未正確填充 *etc/frontend/sections.xml* 操作無效。) 請參閱 [專用內容](https://developer.adobe.com/commerce/php/development/cache/page/private-content/#invalidate-private-content)。

<!-- MC-31449-->

* 客戶帳戶的導入已重新計算，以提高導入速度。

<!-- MC-23383 ENGCOM-7006-->

* 商家現在可以使用 [緩衝載入](https://en.wikipedia.org/wiki/Lazy_loading) 載入影像。 _修復由Timon de Groot在拉入請求中提交 [27033](https://github.com/magento/magento2/pull/27033)_。 [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* 儀表板圖表已遷移到 `chart.js` 的下界。  _修復由Bartomiej Szubert在拉入請求中提交 [26923](https://github.com/magento/magento2/pull/26923)。 [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* 通過重構屬性選項陣列的方式，在包含許多產品屬性（規模為3,000 - 23000個選項）的大型目錄上運行的操作的效能得到了改善。 _修復由Behnam Shayani在拉請求中提交 [25452](https://github.com/magento/magento2/pull/25452)_。 [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### 定價

<!-- ENGCOM-6647-->

* 現在，即使您已多次編輯產品，應用程式也會保存並顯示分層產品的正確價格。 以前，應用程式未保存對產品價格所做的最後編輯。 _修復由拉維·錢德拉在拉入請求中提交 [26162](https://github.com/magento/magento2/pull/26162)_。 [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* 固定和折扣保存百分比現在都正確應用於訂單的最終價格。 以前，應用產品在產品詳細資訊頁面上顯示了不正確的層價格（固定和折扣）保存百分比。 _修復由Sathish Subramanian在拉式請求中提交 [26584](https://github.com/magento/magento2/pull/26584)_。 [GitHub-26583](https://github.com/magento/magento2/issues/26583)

### 產品警報

<!-- MC-30255-->

* 向客戶發送的有關可配置產品重新庫存的庫存預警電子郵件現在包含正確的產品價格。 以前，此電子郵件包含的產品價格為0。

<!-- MC-32873-->

* 當用戶的會話過期時，產品庫存警報取消訂閱現在有效。 以前，當您按一下 **按一下這裡停止此產品的警報** 連結，應用程式顯示404錯誤。

<!-- MC-31979-->

* 現在，產品警報的取消訂閱操作將按預期方式工作。 以前，當客戶按一下 **按一下這裡停止此產品的警報** 連結，應用程式顯示404錯誤。

### 產品視頻

<!-- MC-23743-->

* 您現在可以使用REST更新YouTube視頻(PUT `rest/V1/products/{SKU}`)。 以前，應用程式顯示視頻的縮覽圖，但是當您按一下 **播放** 按鈕 [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### 報告

<!-- ENGCOM-6635-->

* 產品清單現在按SKU訂購可配置產品，按變體對可配置產品進行分組。 以前，報告按產品分組 `product_id`。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [25858](https://github.com/magento/magento2/pull/25858)_。 [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* 的 **管理** > **報告** > **刷新統計資訊** 表格 **更新時間=空** 狀態為 **從不** 的 **已更新** 列而不是 **未定義**。 _修復由Eden Duong在拉取請求中提交 [25932](https://github.com/magento/magento2/pull/25932)_。 [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* 「Low Stock」報告不再包括禁用的產品。 _Mohamed-Asar在拉請求中提交的修復 [26862](https://github.com/magento/magento2/pull/26862)_。 [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* 應用程式現在會為 **年初至今開始**  欄位 **管理**  >  **商店**  >  **配置**  >  **常規**  >  **報告**。 _Priya-V-Panchal在拉式請求中提交的修復 [27088](https://github.com/magento/magento2/pull/27088)_。 [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### 退貨授權(RMA)

<!-- MC-24906-->

* 在您從庫面成功建立訂單和RMA時，應用產品不再顯示錯誤。 以前，應用產品按預期建立了RMA，但也顯示了以下錯誤：  `We can't create a return right now. Please try again later`。

<!-- MC-30181-->

* 現在，在店面訂單中包含的跟蹤連結將按預期工作。 以前，當客戶按一下訂單退貨頁上的發運跟蹤連結時，應用程式顯示以下錯誤： `PHP Fatal error: Uncaught Error: Call to a member function getTitle() on null in /app/z7kvt3uys6daq/var/view_preprocessed/pub/static/vendor/magento/module-shipping/view/frontend/templates/tracking/details.phtml:1`。

<!-- MC-30237-->

* 在從管理員建立訂單返回後，「返回」頁籤現在會按預期顯示。

<!-- MC-34150-->

* 已從RMA電子郵件模板中刪除了不必要的字串(`app/code/Magento/Rma/view/frontend/email/new.html`)。

### 評論

<!-- MC-29578-->

* 應用程式現在禁用 **提交審閱** 按鈕。 以前，應用程式在第一次按一下後未禁用此按鈕，並在用戶按一下時建立了多個查看 **提交審閱** 按鈕。

<!-- MC-31293-->

* 的 **管理** > **報告** > **評論** > **按產品** 過濾器清單現在按預期顯示結果。 以前，當您嘗試篩選此清單時，應用程式未顯示任何結果。

<!-- ENGCOM-6938-->

* 「待定審閱」(Pending Reviews)菜單項現在按預期激活。 **管理** >  **營銷** > **用戶內容** > **待定審閱**。  _修復由拉文德在拉請求中提交 [26230](https://github.com/magento/magento2/pull/26230)_。 [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### 獎勵

<!-- MC-31459-->

* 現在，當訂單返回到在多商店環境中運行的商店時，該應用程式將按照預期退款獎勵積分，在多商店環境中為每個商店設定不同的獎勵積分率。 此前，對於使用獎勵積分購買的退貨訂單，申請未按預期退款點數。

### 銷售

<!-- MC-29426-->

* 已完成的訂單現在出現在付款系統和Adobe Commerce。 以前，訂單出現在支付系統中，但不出現在Adobe Commerce。 [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* 此應用產品現在將遵守客戶的預設發運地址。 以前，應用產品未根據設定和 **與開單地址相同** 未自動啟用設定。

<!-- MC-30299-->

* 此時，應用產品將正確計算包含折扣的訂單的退款。 以前，應用產品錯誤地計算了發運稅和發運折扣，而退款總額與已付總額不匹配。

<!-- MC-33165-->

* 當新客戶在多站點部署中建立訂單時，應用程式現在會分配正確的組ID。 以前，應用程式應用了預設客戶組的設定。

<!-- MC-31786-->

* 具有限制權限（包括查看貸項通知單、發票和發運的權限）的管理員現在可以按照預期從「訂單」頁查看發票和發運。 以前，當受限制的管理員嘗試查看訂單時，應用程式顯示以下錯誤： `Something went wrong with processing the default view and we have restored the filter to its original state`。

<!-- MC-24023-->

* 當客戶向其購物車中添加超過現有產品庫存一半但不超過總庫存的產品數量時，應用產品不再顯示錯誤。 以前，在這些情況下，應用程式顯示以下錯誤： `The requested qty is not available`。 [吉圖布–24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* 現在，當庫存數量為1時，您可以從管理員將產品成功添加到購物車中。 以前，應用程式未將產品添加到購物車中並顯示以下消息： `The requested qty is not available`。 _修復由Serhii Petrychenko在拉入請求中提交 [26650](https://github.com/magento/magento2/pull/26650)。_ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* 當儲存管理員嘗試重新訂購其自定義選項的名稱超過最大字元數的產品時，應用程式現在會顯示一條資訊性錯誤消息。 以前，在這些情況下，應用程式會顯示「報告」頁，而不顯示消息。 _Mudit Shukla在拉入請求中提交的修復 [26348](https://github.com/magento/magento2/pull/26348)_。 [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* 銷售訂單地址資訊編輯表單的佈局已重新構造為與管理員表單庫約定相匹配。 _Alexey Rakitin在拉入請求中提交的修復 [25699](https://github.com/magento/magento2/pull/25699)_。 [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* 在 **目錄** > **類別** 頁面現在按預期工作。  _Denis Kopylov在拉取請求中提交的修復 [22990](https://github.com/magento/magento2/pull/22990)_。 [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* 的 `getCustomer` 方法現在返回在中定義的客戶對象 `phpdoc` 框。 以前，此方法返回 `NULL`, `phpdoc` 塊未突出顯示此方法可以返回 `NULL`。 _修復由Fanis Strezos在拉入請求中提交 [26423](https://github.com/magento/magento2/pull/26423)_。 [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* 現在，當商家禁用了  **管理** > **儲存**  >  **配置**  >  **銷售**  >  **重新排序**  >  **允許訂單**。  _修復由Eden Duong在拉取請求中提交 [26051](https://github.com/magento/magento2/pull/26051)_。 [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* `getPrice()` 現在，在Admin中為訂單設定自定義價格時，方法將返回float或null，而不是字串。  _修復由Andrii Chorniy提交的請求 [26313](https://github.com/magento/magento2/pull/26313)_。 [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* 的 **州代碼和標題** 列 **管理** > **商店**  >設定>  **訂單狀態** 現在顯示狀態，而不是預期的狀態。  _修復由Oleh Usik提交的拉入請求 [26569](https://github.com/magento/magento2/pull/26569)_。 [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* PDF發票現在在GB區域設定中建立時捕獲正確的採購日期。 _修復由Eden Duong在拉取請求中提交 [26701](https://github.com/magento/magento2/pull/26701)_。 [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### 銷售規則

<!-- MC-30155-->

* `quote_item.applied_rule_ids` 在禁用購物車價格規則後，現在按預期更新。 [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* 當您嘗試建立或編輯購物車價格規則時，應用產品現在會按預期顯示類別樹。 以前，在建立或編輯規則時在「條件」部分中選擇類別會導致JavaScript錯誤。

<!-- ENGCOM-6824-->

* 在首次將可配置產品添加到購物車時，應用產品現在使用購物車價格規則正確計算購物車層固定折扣。 _修復由拉克蘭·特納在拉式請求中提交 [26623](https://github.com/magento/magento2/pull/26623)_。 [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### 搜索 {#search-heading}

* Elasticsearch7.6.x現在是Adobe Commerce和Adobe Commerce的預設目錄搜索引擎。 如果不安裝7.6.xElasticsearch，則無法安裝或升級到2.4.0版。Elasticsearch2.x版代碼已刪除。 Elasticsearch5.x和6.x版已棄用，不再受支援。 請參閱 [搜索引擎先決條件](../../../installation/prerequisites/search-engine/overview.md)。

<!-- MC-23753-->

* 應用程式現在呈現 **&lt;** 和 **>** 在儲存目錄搜索字串中正確顯示符號。

<!-- MC-25010-->

* 產品現在在運行後按預期顯示在類別中 `cron:run` 在部署中實現Elasticsearch。

<!-- MC-25254-->

* 應用程式不再需要完全搜索重新索引，以便新產品屬性在店面上可搜索。

<!-- MC-29545-->

* Elasticsearch現在在按按產品名稱的字母順序對包含捆綁產品的產品清單進行排序時，會按預期工作。

<!-- MC-29951-->

* 在篩選類別中的可配置產品時，篩選結果不再包括庫存不足選項。

<!-- MC-30131-->

* 現在，使用Elasticsearch從產品清單頁面選擇所有產品時，將按照預期顯示搜索結果中的所有產品。 以前，應用程式未顯示搜索結果。

<!-- MC-30201-->

* Elasticsearch現在可以在更改每頁查看的搜索結果數時正確顯示類別頁的結果。 以前，當您更改搜索結果頁面上應顯示多少個搜索結果時，應用程式將顯示一個空白頁面，並出現以下錯誤： `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* 現在，價格分類對於庫存不足的可配置產品正常工作。

<!-- MC-25176-->

* 當客戶在多網站部署中使用店面快速搜索時，應用程式不再引發異常。

<!-- ENGCOM-6842-->

* 當商戶通過按一下頁腳上的「搜索詞」選項開啟搜索詞頁時，應用程式不再顯示警告 **營銷** > **SEO &amp; Search** > **搜索詞**。  _在拉入請求中由vishal-webkul提交的修復 [25246](https://github.com/magento/magento2/pull/25246)_。 [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* 在移動視圖中運行Safari時，當您按一下搜索輸入框時，應用程式不再調整視圖大小。  _修復由Pawe Tylek在拉入請求中提交 [27603](https://github.com/magento/magento2/pull/27603)。 [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Elasticsearch版本現在由Admin中的X.x表示法而不是X.0+表示法來標識(**商店** >設定> **配置** > **目錄** > **目錄** > **目錄搜索**)。 _修復由Andreas·馬烏茨提交，請求請求 [25838](https://github.com/magento/magento2/pull/25838)_。 [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### 裝運

<!-- MC-32782-->

* 如果訂購的產品之一是虛擬產品，則您現在可以將訂單發運至多個地址。 以前，應用程式已成功為物理產品定購訂單，但虛擬產品訂單為空。

<!-- MC-29276-->

* 此時，應用產品將正確應用固定金額的全車折扣，以便將訂單發運至多個地址。 以前，當客戶使用「多地址簽出」簽出訂單時，會多次應用此類折扣。 [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* 在建立購物車價格規則的過程中，可用於選擇發運方法的下拉清單現在僅包含有效值。 以前，此下拉清單包含空值或額外值。

<!-- MC-30186-->

* 應用程式現在將發運標籤打印為 `.pdf` 在選擇 **打印發運標籤** 從「操作」(Action)下拉清單中，從「順序存檔」(order archive)清單的訂單中。 以前，應用程式顯示404錯誤。

<!-- MC-31396-->

* 現在，當購物車包含「免費發運價格」規則包含的類別產品以及規則中未包含的類別產品時，「免費發運價格」規則只影響相關產品。 以前，當購物車包括免費發運類別以及價格規則中未包括的其他類別的產品時，不會將免費發運應用於任何產品。

<!-- ENGCOM-6436-->

* 應用程式不再顯示空白頁，而不是在下拉/多選框中顯示所有運輸承運人。 以前， `toOptionArray` 函式 `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php` 已發生。 _Marc Rodriguez在請求中提交的修復 [25315](https://github.com/magento/magento2/pull/25315)_。 [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* 當客戶建立將發運至多個地址的訂單時，應用產品不再多次應用固定金額折扣。  _修復由Mahesh Singh提交，請求為pull [26419](https://github.com/magento/magento2/pull/26419)_。 [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* 插件 `Magento\Ups\Model\Carrier` 實現自定義 `di.xml` 現在在開發人員模式下工作正常。 以前，應用程式引發了以下錯誤： `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`。 _修復由Bartomiej Szubert在拉入請求中提交 [26130](https://github.com/magento/magento2/pull/26130)_。 [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### 站點地圖

<!-- MC-29362-->

* 現在，在生成站點地圖時，應用程式將按照預期使用項目基URL。

<!-- ENGCOM-6670-->

* 生成的站點映射現在包括首頁的URL。 _修復由deepaksnair在拉式請求中提交 [26445](https://github.com/magento/magento2/pull/26445)_。 [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### 暫存

<!-- MC-32342-->

* 僅在多站點部署中對一個網站的訪問受限的管理員現在可以預覽該網站的「計畫更新」。 以前，轉移預覽預設使用預設儲存，如果用戶沒有訪問預設儲存的權限，則應用程式引發異常。

<!-- MC-32736-->

* 編輯現有計畫不再導致重複的計畫。 以前，當您編輯現有計畫時，應用程式會複製它，當您嘗試開啟重複的計畫時，應用程式會拋出錯誤。

<!-- MC-32432-->

* 在為一個或多個這些產品建立計畫更新後，交叉銷售產品現在按預期顯示在「查看」和「編輯購物車」頁上。

### 儲存

<!-- MC-25187-->

* 當客戶登錄到一家商店、將產品添加到購物車，然後在多商店部署中切換到新商店時，客戶會話現在會按預期持續。 以前，當客戶導航到第二家商店時，應用程式將客戶註銷並清空購物車。

<!-- ENGCOM-4781-->

* 應用程式現在會從 `sale_sequence_meta` 和 `sales_sequence_profile` 表。 _修復由Bartomiej Szubert在拉入請求中提交 [22296](https://github.com/magento/magento2/pull/22296)_。 [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* 現在，在具有不同基本URL的儲存之間切換時，儲存交換機會按預期工作。 以前，當客戶使用儲存切換器在儲存之間切換時，如果目標儲存具有與當前儲存不同的基URL，則請求失敗。 _Tobias Nilsson在拉請求中提交的修復 [26548](https://github.com/magento/magento2/pull/26548)_。 [GitHub-23755](https://github.com/magento/magento2/issues/23755)。 [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### 色板

<!-- MC-30294-->

* 現在，商家可以使用 **可視色板** 選項 **商店** > **屬性** > **產品** > **新建屬性**。 以前，在嘗試開啟新建立的色板屬性時觸發了JavaScript錯誤。

<!-- ENGCOM-6750-->

* 當客戶為可配置產品選擇新色板選項時，「最低廣告價格」現在會按預期更改。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [26241](https://github.com/magento/magento2/pull/26241)_。 [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* 在您選擇新色板選項時，應用程式不再複製可配置產品的「最低廣告價格」。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [26317](https://github.com/magento/magento2/pull/26317)_。 [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* 已更正「新產品屬性」頁「管理色板（屬性值）」區域中下拉菜單的行為問題。  _修復由Oleh Usik提交的拉入請求 [26090](https://github.com/magento/magento2/pull/26090)_。 [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### 目標規則

<!-- MC-31546-->

* 在店面上為產品顯示的相關產品塊現在顯示符合「相關產品規則」中定義的標準的產品。 以前，應用程式未顯示任何相關產品。

### 稅

<!-- MC-29579-->

* 當客戶在結帳期間更改訂單的目標國家時，應用產品現在會按預期更新發運費率和價格。

<!-- MC-30546-->

* 現在，根據適用的購物車價格規則，按預期應用免費發運。 以前，購物車價格規則在計算訂單是否符合免費發運標準時沒有考慮稅。

<!-- MC-32402-->

* 在編輯和保存 `NOT LOGGED IN` 安裝B2B時的客戶組。

### Test

>[!NOTE]
>
>**MFTF現在使用Google驗證器執行啟用2FA的test。 如果沒有啟用Google驗證器的其他配置步驟，MFTF將不能與2.4.0一起工作**。 請參閱 [配置MFTF以進行雙因素身份驗證(2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html#magento-functional-testing-framework)。

<!-- ENGCOM-6585-->

* test和操作組中的硬編碼URL已替換為頁面引用。 _Lukasz Bajsarowicz在私人資料庫合作夥伴 — magento2ee的拉式請求117中提交的修復_。 [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* Test現在負責記錄與CMS頁相關的管理操作。 _Lukasz Bajsarowicz在私人資料庫合作夥伴 — magento2ee的拉式請求172中提交的修復_。 [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* 已修訂無效的功能test名稱以遵循最佳做法。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [27118](https://github.com/magento/magento2/pull/27118) 並將請求151拉入專用儲存庫合作夥伴 — magento2ee。 [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* Adobe Commerce `cron` 現在用於在建立test資料後重新索引，如果適用， `cache:flush config` 替換 `cache:flush`。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26990](https://github.com/magento/magento2/pull/26990)_。 [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* 接受test現在遵循的命名約定 `Magento/Indexer` 和 `Magento/Backup` 模組。  _Shankar Konar在請求中提交的修復 [27515](https://github.com/magento/magento2/pull/27515)_。 [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* 的 `AdminReorderWithCatalogPrice` test已重構，在CI驗證過程中不再失敗。 _Lukasz Bajsarowicz在私人資料庫合作夥伴 — magento2ee的拉式請求135中提交的修復_。 [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* 的 `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct` 和 `StorefrontApplyPromoCodeDuringCheckout` test在CI驗證過程中已重新分解，不再失敗。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26611](https://github.com/magento/magento2/pull/26611) 並請求 [26614](https://github.com/magento/magento2/pull/26614)_。 [GitHub-26612](https://github.com/magento/magento2/issues/26612)。 [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* 的 `DeleteProduct and DeleteCustomer Action Groups` test在CI驗證過程中已重新分解，不再失敗。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26407](https://github.com/magento/magento2/pull/26407)_。 [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* 的 `AdminMoveAnchoredCategoryTest.xml` test在CI驗證過程中已重新分解，不再失敗。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26395](https://github.com/magento/magento2/pull/26395)_。 [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### 整合test

<!-- ENGCOM-7143-->

* 整合test中的連續請求不再失敗。 以前，test失敗，因為請求對象在派單之間共用。 的 `resetRequest` 方法現在清空 `request`。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [27300](https://github.com/magento/magento2/pull/27300)_。 [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* 附加的整合test添加到 `Magento_Customer` 電子郵件功能。 _Fix由Lukasz Bajsarowicz在拉式請求中提交 [27606](https://github.com/magento/magento2/pull/27606)_。 [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### PHP單元test

<!-- ENGCOM-7435 7306-->

* PHP設備test不再拋出此致命錯誤： `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`。 _Lukasz Bajsarowicz在拉式請求中提交的修復178，在私人資料庫合作夥伴 — magento2ee和 [27701](https://github.com/magento/magento2/pull/27701)_。 [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* Test `Offline_Payments` 現在與PHPUnit 8相容。  _由Cristiano Pacheco提交的修復請求 [27627](https://github.com/magento/magento2/pull/27627)_。 [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* 單位test `Framework`。 `AdminAnalytics`。 `AdminNotification`, `AMPQ` 已為PHPUnit 8更新。 _Ihor Sviziev在拉取請求中提交的修復 [27522](https://github.com/magento/magento2/pull/27522)。 [27521](https://github.com/magento/magento2/pull/27521)。 [27519](https://github.com/magento/magento2/pull/27519)。 [27522](https://github.com/magento/magento2/pull/27522)_。 [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* 您現在可以運行 `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` 未連接到Internet的設備test。  _修復由aleromano89在拉取請求中提交 [26264](https://github.com/magento/magento2/pull/26264)_。 [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* 添加的設備test `app/code/Magento/Fedex/Model/Source/Generic.php`。 _修復由Sathish Subramanian在拉式請求中提交 [26549](https://github.com/magento/magento2/pull/26549)_。

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` 已添加到多個test中，觸發部分重新索引。 此更改解決了在功能test中產生漏報的問題 `Magento_Bundle`。 `CatalogImportExport`。 `CatalogInventory`。 `CatalogRule`。 `Backend`。 `Braintree`, `Captcha`。 _修復由盧卡什·巴伊薩羅維奇在拉式請求中提交 [27322](https://github.com/magento/magento2/pull/27322)。 [27323](https://github.com/magento/magento2/pull/27323)。 [27321](https://github.com/magento/magento2/pull/27321)_。 [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* 所有不正確的使用 `<amOnPage>` 已替換為適當的 `<actionGroup>` 在test中適用時註銷。 _Lukasz Bajsarowicz在私人資料庫合作夥伴 — magento2ee的拉式請求116中提交的修復_。 [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* test中的每個操作組都已移到單獨的檔案中，以遵循MFTF最佳做法，並且不一致的檔案名已被修訂。 以下模組的test已受到影響：

   * 模組目錄權限
   * 模組共用目錄
   * 模組目錄事件
   * 模組條幅
   * 模組管理 — gws
   * 模組高級檢出
   * 模組裝運
   * 模組UI
   * 模組裝運
   * 模組簽出地址搜索
   * 模組銷售
   * 模組目錄
   * 模組目錄規則轉移
   * 模組可視商品商
   * 模組客戶

   _修復由盧卡什·巴伊薩羅維奇在拉式請求中提交 [25800](https://github.com/magento/magento2/pull/25800)。 [26323](https://github.com/magento/magento2/pull/26323)。 [26321](https://github.com/magento/magento2/pull/26321)。 [26320](https://github.com/magento/magento2/pull/26320)。 [26319](https://github.com/magento/magento2/pull/26319)。 [26322](https://github.com/magento/magento2/pull/26322)。 [25828](https://github.com/magento/magento2/pull/25828)。 [26329](https://github.com/magento/magento2/pull/26329) （並在私有資料庫合作夥伴 — magento2ee中提取請求104、105、106、107、108、109、111、119、120、121）_。 [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### 主題

<!-- MC-29804-->

* 我們解決了 `JsFooterPlugin.php` 影響動態塊的顯示。 以前，當您直接訪問時，應用程式顯示此錯誤 `/banner/ajax/load/url`: `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`。

<!-- ENGCOM-6708-->

* 的 `i18n` 方法提供了將字串添加到下划線模板的功能。  _修復由Sergiy Vasiutynskyi在拉取請求中提交 [26435](https://github.com/magento/magento2/pull/26435)_。 [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* 的 `section-config` 模組已重構。 此重構減少了由第三方模組在模組初始化之前直接發出POST請求或請求客戶資料所引起的錯誤 `data-mage-init`。 _Mateusz Krzeszowiak在拉請求中提交的修復 [25764](https://github.com/magento/magento2/pull/25764)_。 [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* `LoadCssAsync` HTML格式錯誤已修復。 _修復由Sathish Subramanian在拉式請求中提交 [26764](https://github.com/magento/magento2/pull/26764)_。 [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* 建立時 `default.xml` 和 `catalog_product_view.xml` 作為建立新主題的一部分的檔案，應用程式會按照預期建立這些頁或記錄日誌檔案中的錯誤。 以前，應用程式在 `vendor/magento/framework/View/Page/Config/Renderer.php` 的子菜單。 _修復由Vinh Le提交的拉入請求 [27026](https://github.com/magento/magento2/pull/27026)_。 [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### 翻譯和區域設定

<!-- MC-24186-->

* 現在，直文翻譯在庫面上正常工作 **管理** > **商店** > **配置** > **高級** > **開發人員** > **轉換內聯** > **為店面啟用** 的子菜單。

<!-- MC-31663-->

* 內聯翻譯現在在為店面啟用時按預期工作。

<!-- ENGCOM-7064-->

* 產品URL鍵現在按預期音譯。 _修復由DanieliMi在拉請求中提交 [26506](https://github.com/magento/magento2/pull/26506)_。 [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* 的 `es_US Spanish (United States)` 現在支援區域設定。 _修復由Vinh Le提交的拉入請求 [26857](https://github.com/magento/magento2/pull/26857)_。 [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* 數字佔位符計數和JavaScript代碼佔位符計數現在相同。 以前，JavaScript代碼假定為0%，而數字佔位符計數以%1開頭。  _修復由korostii在拉取請求中提交 [25359](https://github.com/magento/magento2/pull/25359)_。 [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* 現在，您可以禁用「產品詳細資訊」頁面頁面標題的翻譯(`page.main.title`)，預設情況下啟用。 _修復由Bartomiej Szubert在拉入請求中提交 [26269](https://github.com/magento/magento2/pull/26269)_。 [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* 在發票PDF中提供阿拉伯文和希伯來文的問題已得到解決。 _Ihor Sviziev在拉請求中提交的修復 [27887](https://github.com/magento/magento2/pull/27887)_。 [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* 語言包繼承順序現在按照預期和文檔中所述，以第一個列出的、第一個使用的基準應用。  _修復由Sergiy Vasiutynskyi在拉取請求中提交 [26420](https://github.com/magento/magento2/pull/26420)_。 [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* 當您在僅支援拉丁字母的區域設定中為資料夾名稱輸入非拉丁字元時，應用程式現在會顯示以下錯誤消息： `Please rename the folder using only Latin letters, numbers, underscores and dashes`。 _修復由Eden Duong在拉取請求中提交 [25904](https://github.com/magento/magento2/pull/25904)。 [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* 長度 `locale` 列 `directory_country_region_name` 已從8個增加到16個，以支援如  `zh_Hans_CN`。 _修復由Bartomiej Szubert在拉入請求中提交 [26268](https://github.com/magento/magento2/pull/26268)_。 [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### UI

<!-- MC-32547-->

* 現在，您可以使用頁面生成器將產品添加為按鈕連結(**編輯內容** > **按鈕連結**)。 以前，當您嘗試選擇產品時，應用程式拋出了此錯誤： `Product with ID: XXXX doesn't exist`。

<!-- ENGCOM-7490-->

* 「後退」按鈕現在按預期工作 **管理** > **商店** > **訂單狀態** > **編輯訂單狀態**。 _Vadim Malesh在拉請求中提交的修復 [27976](https://github.com/magento/magento2/pull/27976)_。 [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* 使用箭頭鍵將游標移動到 **檔案名** 的子菜單。 _修復由Adarsh Manickam在拉取請求中提交 [25991](https://github.com/magento/magento2/pull/25991)_。 [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* 的 **您的密碼**  欄位 **管理** > **系統** > **整合** 頁面將繼承預期的樣式。 _由Eduard Chitoraga在請求中提交的修復 [25918](https://github.com/magento/magento2/pull/25918)_。 [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* 由店面上的JavaScript驗證程式驗證的輸入也將通過Admin的驗證。 以前，JavScript驗證程式將新行計為儲存前端的單個字元，但在伺服器端， `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` 將newlines計為兩個字元。 _修復由Grzegorz Bogusz提交的請求 [26033](https://github.com/magento/magento2/pull/26033)_。 [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* 的 `subTitle` 當您使用 `setTitle()` 呼叫。 以前，當您嘗試使用標題和副標題建立彈出式模式或自定義模式時，將標題更改為 `setTitle()` 方法 `subTitle` 已擦除。 _修復由Andrea Parmeggiani在拉取請求中提交 [26142](https://github.com/magento/magento2/pull/26142)_。 [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* 現在，「管理營銷」頁籤中的子菜單將自動根據預期調整菜單項的長度。  您現在也可以水準滾動。  _Paweł Tylek在拉入請求中提交的修復 [26034](https://github.com/magento/magento2/pull/26034)_。 [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* 表格 `quote`  列 `customer_note` 現在使用類型 `text` 如預期。 以前，它使用的類型 `varchar(255)`。 _修復由拉維·錢德拉在拉入請求中提交 [26160](https://github.com/magento/magento2/pull/26160)_。 [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* 已更正表標題在 **我的帳戶**  > **通訊簿**  「地址條目」表。  _修復由Abrar Pathan在拉入請求中提交 [27336](https://github.com/magento/magento2/pull/27336)_。 [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* 分層導航價格步驟中使用的貨幣符號現在基於預期的預設設定。  _修復由Bartomiej Szubert在拉入請求中提交 [24815](https://github.com/magento/magento2/pull/24815)_。 [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* 白俄羅斯貨幣(BYR)的符號已更新為BYN。 _修復由Bartomiej Szubert在拉入請求中提交 [25723](https://github.com/magento/magento2/pull/25723)_。 [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* 「目錄」頁的「比較產品」部分現在按移動視圖在解析度小於767像素的顯示器上的預期顯示。 _修復由Hitesh在拉入請求中提交 [26418](https://github.com/magento/magento2/pull/26418)_。 [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* 現在，在移動視圖中滾動產品頁面可以按預期方式工作。  _Mateusz Krzeszowiak在拉請求中提交的修復 [25385](https://github.com/magento/magento2/pull/25385)_。 [GitHub-10518](https://github.com/magento/magento2/issues/10518)。 [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* 現在，您可以按照預期在移動視圖的產品頁面上滾動瀏覽庫縮略圖。 _修復由Girchak提交的拉式請求 [25839](https://github.com/magento/magento2/pull/25839)_。 [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* 按一下上的主題標題 **管理**  > **內容** > **主題** 不再產生重複記錄。 _修復由Eden Duong在拉取請求中提交 [25926](https://github.com/magento/magento2/pull/25926)_。 [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* 已重新構建「管理員開單地址/發運地址」頁的佈局，以符合管理員表單顯示約定。 _Alexey Rakitin在拉入請求中提交的修復 [25699](https://github.com/magento/magento2/pull/25699)_。 [GitHub-23481](https://github.com/magento/magento2/issues/23481)。 [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* 現在，產品詳細資訊頁面上的「添加到比較」(Add to Compare)連結在解析度低於640px的顯示器的移動視圖中正確呈現。 _修復由Pawe Tylek在拉入請求中提交 [26424](https://github.com/magento/magento2/pull/26424) 泰賈什·庫姆巴雷在請求中 [26365](https://github.com/magento/magento2/pull/26365)_。 [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* 的 **排序依據** 標籤不再與 **購物依據** 按鈕。 _修復由Andrii Kartavtsev在拉請求中提交 [26381](https://github.com/magento/magento2/pull/26381)_。 [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* 現在，您可以通過啟用以下命令來更新可下載產品的示例和連結標題的值：  **使用預設值** 複選框。 _修復由Abel Truong在拉式請求中提交 [27295](https://github.com/magento/magento2/pull/27295)_。 [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* 已更正 **更新** 按鈕 **數量** 按鈕。  _修復由Hitesh在拉入請求中提交 [26234](https://github.com/magento/magento2/pull/26234)_。 [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* 「通訊簿」頁上「附加地址條目」表的底部邊框顏色現在與 `thead` 和 `tbody` 邊框顏色。 _Tejash Kumbhare在提取請求中提交的修復 [26649](https://github.com/magento/magento2/pull/26649)_。 [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* 當用戶按一下模式覆蓋時，提示模型不再執行確認操作。 _修復由Serhiy Zhovnir在拉取請求中提交 [27399](https://github.com/magento/magento2/pull/27399)_。

### URL

<!-- ENGCOM-7112-->

* 類別儲存庫（保存方法）已重新構造，此前在更改類別URL鍵時阻止您建立唯一路徑。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27304](https://github.com/magento/magento2/pull/27304)_。 [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* 對類別URL關鍵邏輯的驗證已改進。 _修復由Sergiy Vasiutynskyi在拉取請求中提交 [27412](https://github.com/magento/magento2/pull/27412)_。 [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### URL重寫

<!-- MC-31147-->

* 在CMS頁面上更改語言的客戶現在可以成功導航到他們選擇的儲存視圖。 以前，應用程式顯示404錯誤。

<!-- ENGCOM-6997-->

* 已為其啟用類別路徑包含的產品URL的URL重寫生成現在可按預期工作。 以前，在具有多個儲存視圖的部署中，應用程式有時會使用類別url路徑的預設值而不是特定於儲存視圖的URL路徑生成錯誤的URL重寫。 _修復由Pieter Hoste在拉請求中提交 [26784](https://github.com/magento/magento2/pull/26784)_。 [GitHub-25124](https://github.com/magento/magento2/issues/25124)。 [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* 如果請求路徑與目標路徑相同，我們已添加一個檢查來防止URL重定向。 _修復由Bartomiej Szubert在拉入請求中提交 [26902](https://github.com/magento/magento2/pull/26902)_。 [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* 當URL具有尾斜槓時，URL重寫操作不再從URL中刪除查詢字串。  _Alexey Arendarenko在請求中提交的修復 [25603](https://github.com/magento/magento2/pull/25603)_。 [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### 增值稅

<!-- ENGCOM-7458-->

* 已更正的增值稅驗證URL [歐盟增值稅編號](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl)。  _Shikha Mishra在拉式請求中提交的修復 [27886](https://github.com/magento/magento2/pull/27886)_。 [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### 視覺跟蹤器

<!-- MC-31136-->

* 當將產品拖放到新位置時，編輯類別頁面現在會按預期行為。 以前，在任何類別頁面上拖放產品會將查看窗口重新定位在頁面頂部。

### Web API框架

<!-- MC-29891-->

* 已更正與POST `/rest/default/async/bulk/V1/orders` 呼叫。

<!-- MC-30675-->

* 已更正與POST `/rest/default/async/bulk/V1/products` 呼叫。

<!-- ENGCOM-6945-->

* 的 `getList` 已重新構造方法以檢索 `is_subscribed` 擴展屬性。 以前，在通過API獲取客戶實體時無法檢索此屬性。 _修復由enriquei4在拉入請求中提交 [25311](https://github.com/magento/magento2/pull/25311)_。 [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* 通過更新客戶資訊 `/V1/customers/:id` 不再重置 `group_id` 毫無必要。 以前，當您通過REST更新客戶時，如果主體不包含客戶組，則客戶組將更改為1。 _MaxRomanov4669在拉入請求中提交的修復 [25958](https://github.com/magento/magento2/pull/25958)_。 [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* 在Web API中使用服務合同中可為Null的Getter時，不再拋出反射錯誤。 可以返回Null和有效類型的方法現在也可以正常工作，而不管順序如何。  _Marco Pcke在拉k̦取請求中提交的修復 [25806](https://github.com/magento/magento2/pull/25806)_。 [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* 現在可以使用POST `/V1/guest-carts/:cartId/items` 將產品添加到特定購物車。 以前，當您使用此調用時，應用程式忽略 `cartId`。 _Vadim Malesh在拉請求中提交的修復 [27172](https://github.com/magento/magento2/pull/27172)_。 [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* 您現在可以使用 `PUT /V1/cmsPage/:id` 終結點以保存CMS頁標題，而不更改其他欄位的值。 _Vadim Malesh在拉請求中提交的修復 [27237](https://github.com/magento/magento2/pull/27237)_。 [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* REST請求結果的分頁現在準確。 以前，當您從特定頁面請求結果時(例如， `page_size` = 1和a `current_page` 值超出範圍)，調用返回的結果頁重複，而不是資訊性消息。  _Fix由Lukasz Bajsarowicz在拉式請求中提交 [26988](https://github.com/magento/magento2/pull/26988)_。 [GitHub-26986](https://github.com/magento/magento2/issues/26986)。 [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* GET `/V1/orders/items/{id}` 現在包括一個擴展屬性元素，該元素包含禮品消息資料。 _修復由Laura Folco提交的拉入請求 [25946](https://github.com/magento/magento2/pull/25946)_。 [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### 願望清單

<!-- MC-29988-->

* 當在儲存視圖級別啟用並在全局級別禁用願望清單時，願望清單現在會按預期工作。 以前，當這些設定到位時，將產品添加到願望清單會導致404錯誤。

<!-- MC-30196-->

* 當您在包含多個願望清單的部署中更名願望清單時，應用程式現在可以正確保存並顯示一個願望清單的新名稱。 以前，應用程式繼續顯示前一個願望清單名稱。

<!-- MC-31948-->

* 現在，您可以在運行Internet Explorer 11.x的部署中從購物車中導航和修改願望清單。以前，您無法在此環境中建立、編輯或移動願望清單。

<!-- ENGCOM-6518-->

* 我們改進了當客戶嘗試使用超出允許範圍的電子郵件地址共用其願望清單時顯示的錯誤消息。  _在拉式請求中由divyajothi5321提交的修復 [26066](https://github.com/magento/magento2/pull/26066)_。 [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* 應用程式現在按預期顯示「我的願望」清單頁，解析度大於768px且小於1023px。 _修復由Hitesh在拉入請求中提交 [26546](https://github.com/magento/magento2/pull/26546)_。 [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* 按一下時生成的電子郵件 **共用願望清單** 現在顯示與「願望清單」頁面相同的產品影像。 _修復由Michael Bottens在拉入請求中提交 [27125](https://github.com/magento/magento2/pull/27125)。 [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* 客戶現在可以將作為分組產品一部分的簡單產品和具有不同數量的相同簡單產品添加到願望清單。  _MaxRomanov4669在拉入請求中提交的修復 [26258](https://github.com/magento/magento2/pull/26258)_。 [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### 威西威格

<!-- ENGCOM-6275-->

* WYSIWYG映像上載程式現在使用 `pub/media/wysiwyg` 作為儲存根。 以前，上載的已使用 `pub/media` 作為其儲存根，這使得在最近更改映像上載程式碼後，上載的映像無法訪問。 _修復由Pieter Hoste在拉請求中提交 [24878](https://github.com/magento/magento2/pull/24878)_。 [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* Chrome瀏覽器上的TinyMCE4現在可以按照預期處理雙位元組字元。 以前，TinyMCE4無法正確處理Chrome上的雙位元組字元（如中文）。 _Hirokazu Nishi在請求中提交的修復 [25454](https://github.com/magento/magento2/pull/25454)_。 [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## 已知問題 — 一般

**問題**:在安裝PHP 7.4.2的部署中，會出現店面錯誤消息中的異常。 使用PHP 7.4.2部署2.4.0時，儲存前面錯誤消息中的空間符號將替換為加號(+)字元。 此錯誤是PHP 7.4.2的本機錯誤，無法由Adobe Commerce更正。 **解決方法**:我們建議使用其他版本的PHP 7.4.x。請參閱 [在儲存前顯示原始消息資料](https://support.magento.com/hc/en-us/articles/360045804332)  知識庫文章。 <!-- MC-34170-->

**問題**:商家無法從「管理員建立包」頁將訂購的產品添加到包中並保存包。 請參閱 [發運標籤建立](https://support.magento.com/hc/en-us/articles/360046750171) 知識庫文章。 的 **MC-35514-2.4.0-CE-composer.patch** 此問題的修補程式現在可從 [發行](https://magento.com/tech-resources/download)。 <!-- MC-35514-->

**問題**:應用程式在安裝時顯示此錯誤消息，第三方擴展對的API具有依賴性 `Store` 模組： `The default website isn't defined. Set the website and try again`。 **解決方法**:從Composer中刪除對第三方擴展的依賴項，安裝Magento，然後安裝第三方擴展。

**問題**:的 **將選擇添加到我的購物車** 按鈕不工作。 **解決方法**:使用 **將選擇添加到我的購物車** 按鈕。 請參閱 [將選擇添加到我的購物車按鈕無效](https://support.magento.com/hc/en-us/articles/360045838312) 知識庫文章。 <!-- MC-35313-->

**問題**:在為退貨授權(RMA)建立發運標籤後，商家無法與退貨頁上的任何頁要素交互。 請參閱 [建立發運標籤時，返回「編輯」頁停止工作](https://support.magento.com/hc/en-us/articles/360046441312) 知識庫文章。 的 **MC-35984-2.4.0-composer.patch** 此問題的修補程式現在可從 [發行](https://magento.com/tech-resources/download)。 <!-- MC-35984-->

**問題**:管理員無法按SKU將可配置產品添加到報價。 當管理員按一下 **添加到報價** 按鈕，「報價編輯」頁面仍處於載入狀態，管理員無法保存其更改。 **解決方法**:B2B報價編輯沒有解決方法。  但是，您仍然可以通過從產品清單中選擇產品而不是通過SKU添加產品來訂購產品。 請參閱 [B2B管理員無法將可配置產品添加到報價](https://support.magento.com/hc/en-us/articles/360046801971) 知識庫文章。 <!-- MC-35513-->

**問題**:商家無法從管理員建立新訂單，因為 **按SKU添加產品** 和 **添加產品**  啟用JavaScript綁定時，訂單建立頁中缺少按鈕。  **解決方法**:禁用部署的JavaScript綁定。 <!-- MC-36044-->

**問題**:應用程式a `404 not found` 當客戶在簽出要發運至多個地址的訂單時嘗試刪除獎勵積分時出錯。 <!-- MC-35955-->

**問題**:根據客戶的願望清單編輯可配置產品會導致以下意外行為：在「配置產品」頁上出現意外欄位，按一下後「配置產品」頁不會消失 **確定**。 應用程式還顯示以下消息： `Please load Wish List item`。 **解決方法**:重新載入「配置產品」頁。 <!-- MC-35617-->

**問題**:當「訂單」清單跨越多頁時，客戶無法更改每頁顯示的訂單數。 當前，當您導航到訂單的最後一頁並嘗試更改每頁顯示的訂單數時，應用產品將顯示此消息： `You have placed no orders`。 請參閱 [訂單顯示錯誤](https://support.magento.com/hc/en-us/articles/360046802271) 知識庫文章。  **解決方法**:重新開啟「我的訂單」頁將顯示「訂單」清單。 <!-- MC-34153-->

**問題**:直接按一下 **導出稅率** 「添加新稅則」頁的按鈕( **商店** > **稅則**)不下載 `tax_rates.csv` 檔案。 **解決方法**:按一下  **導出稅率** 按鈕  請參閱 [導出稅率無效](https://support.magento.com/hc/en-us/articles/360045850032)  知識庫文章。 <!-- MC-35345-->

**問題**:的 **刷新** 「管理客戶活動」頁的「上次訂購的物料」、「比較清單中的產品」和「最近比較的產品」部分上的按鈕不按預期工作。 當前，應用程式每次在 **刷新** 按鈕，則不顯示產品名稱。 請參閱 [刷新客戶活動無效](https://magento.zendesk.com/hc/en-us/articles/360046091332) 知識庫文章。 <!-- MC-35296-->

### B2B

**問題**:如果折扣代碼在採購訂單(PO)批准之前過期，PO將繼續顯示折扣金額，但一旦PO批准，訂單將處於未折扣總額。 **解決方法**:安裝 **B2B-709採購訂單折扣補丁程式** 此問題的修補程式，現在可從 **我的帳戶** > **下載** 部分 `magento.com`。

**問題**:在多網站部署中升級到B2B 1.2.0期間，應用程式出現異常。 當 `setup:upgrade` 運行時，在 `PurchaseOrder` 模組： `Module Magento_PurchaseOrder: Unable to apply data patch Magento\PurchaseOrder\Setup\Patch\Data\InitPurchaseOrderSalesSequence for moduleMagento_PurchaseOrder`。 **解決方法**:安裝 **B2B-716向InitPurchaseOrderSalesSequence資料修補程式添加NonTransactedInterface介面** 修補程式，現在可從 **我的帳戶** > **下載** 部分 `magento.com`。

## 已知問題 — VBE

### Amazon

* **問題**:當客戶按一下時，結帳工作流中缺少付款方法 **返回到標準簽出** 與Amazon支付結賬。  **解決方法**:刷新簽出頁以顯示缺少的方法。  <!-- BUNDLE-2661-->

* **問題**:應用產品將在「付款方法」下拉清單中顯示兩個相同的Amazon支付方法，在建立新購物車價格規則時可用。  <!-- BUNDLE-2685-->

### Braintree

* **問題**:當管理員嘗試訪問「Braintree結算報表」頁時，應用產品將顯示錯誤(**管理** > **報告** )。 當前，應用程式顯示以下消息： `An error has happened during application run. See exception log for details`。 請參閱 [Braintree結算報表無法載入](https://support.magento.com/hc/en-us/articles/360046798251) 知識庫文章。 的 **BUNDLE-2683_SettlementReport.patch** 此問題的修補程式現在可從 [發行](https://magento.com/tech-resources/download)。 <!-- BUNDLE-2683-->

* **問題**:在啟用了Venmo且 **為卡付款啟用保管庫** 設定已禁用。 當前，應用程式顯示以下錯誤： `The "vault_capture" command doesn't exist. Verify the command and try again`。  <!-- BUNDLE-2647-->

* **問題**:應用產品在「付款方法」下拉清單中顯示兩個相同的PayPal方法，在建立新購物車價格規則時可用。   <!-- BUNDLE-2686-->

* **問題**:開啟應用程式時出錯 **銷售** > **Braintree虛擬終端**。 儘管表單包含損壞的UI元素，但它仍接受付款。 **解決方法**:保存正確的Braintree憑據，這將修復折疊的輸入欄位。 請參閱 [Braintree虛擬終端頁已損壞](https://support.magento.com/hc/en-us/articles/360046800071)  知識庫文章。 的 **BUNDLE-2670_VirtualTerminal.patch** 此問題的修補程式現在可從 [發行](https://magento.com/tech-resources/download)。 <!-- BUNDLE-2670-->

* **問題**:當客戶在結帳期間選擇本地付款方法時，應用產品將在以下國家/地區顯示錯誤消息：比利時、荷蘭、義大利、西班牙和波蘭。  **解決方法**:忽略錯誤消息並繼續付款。

### 數位

* **問題**:整合test失敗，出現以下錯誤： `PHP Fatal error: Declaration of Dotdigitalgroup\Email\Test\Integration\Model\Sync\Importer\ImporterFailedTest::setUp() must be compatible with PHPUnit\Framework\TestCase::setUp(): void in /var/www/vendor/dotmailer/dotmailer-magento2-extension/Test/Integration/Model/Sync/Importer/ImporterFailedTest.php on line 36`。 **解決方法**:的 **BUNDLE-2684 Dotdigital整合Test補丁** 此問題的修補程式現在可從 [發行](https://magento.com/tech-resources/download)。 <!-- BUNDLE-2684-->

### 克拉爾納

* **問題**:離開 **設計主題** Klarna現場消息傳遞中的欄位空白(**管理**  >  **商店**  >  **配置**  > **卡拉納設定**)將生成空白頁。  **解決方法**:選擇設計主題並保存。  <!-- BUNDLE-2623-->

### 頂點

* **問題**:應用程式顯示  **地址驗證** 的子菜單。 地址驗證器不重新檢查更新的地址，並繼續顯示消息，該消息指示當客戶在首次輸入錯誤地址後輸入正確地址時，即使在啟用地址驗證時，該地址也無效。 **解決方法**:禁用頂點地址驗證。 <!-- BUNDLE-2604-->

## 社區捐款

我們感謝廣大Magento Open Source，並願承認他們對本新聞稿的貢獻。 請查看以下方法，瞭解社區對當前版本的貢獻：

* 如果社區成員已為此版本提供了修復程式，我們將在這些注釋的「已修復問題」部分中標識該修復程式，並使用短語「」*由社區成員提供的修復*。

* 社區工程團隊 [Magento撰稿人](https://magento.com/magento-contributors) 按月、季度和年度保存一份最佳貢獻個人和合作夥伴清單。 在該「參與者」頁中，您可以在GitHub上跟蹤到其合併公關的連結。

### 合作夥伴貢獻

下表重點介紹了合作夥伴的貢獻。 此表列出了提供拉入請求的合作夥伴、外部拉入請求以及與其關聯的GitHub發行號（如果可用）。

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### 個人捐款人

下表列出了社區成員的貢獻。 此表列出了外部拉入請求、與其關聯的GitHub發行號（如果可用）以及提供拉入請求的社區成員。

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### 系統要求

我們的技術堆棧構建在PHP和MySQL上。 有關詳細資訊，請參見 [系統要求](../../../installation/system-requirements.md)。

### 安裝和升級說明

可以使用Composer安裝Adobe Commerce2.4.0。

## 遷移工具包

資料遷移工具幫助將現有Magento1.x儲存資料傳輸到Magento2.x。此命令行介面包括驗證、進度跟蹤、日誌記錄和測試功能。 有關安裝說明，請參見 [安裝資料遷移工具](https://experienceleague.adobe.com/docs/commerce-operations/tools/data-migration/basics/install.html)。 考慮探索或幫助 [資料遷移儲存庫](https://github.com/magento/data-migration-tool)。

的 [代碼遷移工具包](https://github.com/magento/code-migration) 幫助將現有Magento1.x儲存擴展和自定義內容傳輸到Magento2.x。命令行介面包括用於轉換Magento1.x模組和佈局的指令碼。
