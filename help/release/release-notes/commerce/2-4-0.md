---
title: Adobe Commerce 2.4.0發行說明
description: 了解2.4.0 Adobe Commerce版本的新功能、增強功能、錯誤修正和已知問題。
source-git-commit: 065c56f20ba5b1eef8c331c5c2f5649902f1442b
workflow-type: tm+mt
source-wordcount: '20454'
ht-degree: 0%

---


# Adobe Commerce 2.4.0發行說明

Adobe Commerce 2.4.0引入了對PHP 7.4、Elasticsearch7.6.x和MySQL 8.0的支援。重大的安全性變更包括預設在管理員中啟用雙因素驗證。 B2B增強功能包括新的訂單核准工作流程。

**在此版本中， Authorize.Net、eWay、CyberSource和Worldpay支付方法整合已從核心代碼中移除。 商戶應移轉至Commerce Marketplace上可用的官方擴充功能**.

>[!NOTE]
>
>**Braintree支付整合**:在2.4.0之前，建議商戶從Commerce Marketplace安裝並設定官方Braintree支付整合擴充功能，以取代核心整合。 此版本(2.4.0)中，擴充功能現已納入此版本。 商戶必須執行其他步驟，以確保Braintree在2.4.0部署中正常運作。 請參閱 [Braintree](https://docs.magento.com/user-guide/payment/braintree.html) 以取得如何移轉至2.4.0的詳細資訊。

此版本包含2.3.5-p1中包含的所有核心品質改善、100多項核心程式碼的新修正，以及30項安全性增強功能。 其中包括社群成員解決226個GitHub問題的方法。 這些社群貢獻內容從微幅清理核心程式碼，到Inventory management和GraphQL的重大增強功能。

>[!NOTE]
>
>微幅發行大幅增強程式碼。 在升級至2.4.0之前，請確認您的環境符合最低標準 [技術堆棧要求](../../../installation/system-requirements.md).

{{bics}}

>[!NOTE]
>
>安全版本的包名通常附加 — p1。 但是，我們無法避免以2.3.5版來偏離這些命名慣例，而這又對後續的安全包名稱產生暫時的漣漪效應。 具體而言，完整功能2.3.5版是2.3.5-p1。 2.4.0 GA為2.3.5-p2時，我們將發行的安全性版本。 我們希望在未來發行版本中，能回到通常的命名慣例。

## 套用 `AC-3022.patch` 繼續以DHL為航運承運人

DHL已推出架構6.2版，並將於2022年9月淘汰架構6.0版。 支援DHL整合的Adobe Commerce 2.4.4及舊版僅支援6.0版。部署這些版本的商家應適用 `AC-3022.patch` 以便繼續提供DHL作為航運公司。 請參閱 [應用補丁程式以繼續提供DHL作為運輸承運人](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) 有關下載和安裝修補程式的資訊，請參閱知識庫文章。

## 可用安全補丁

商家現在無需套用完整每季版（例如2.3.5-p2）所提供的數百項功能修正和增強功能，即可安裝具時效性的安全性修正。 修補程式2.3.5.2（撰寫器套件2.3.5-p2）是安全性修補程式，可針對我們先前每季版2.3.5-p1中已識別的弱點提供修正。 此安全性修補程式包含套用至2.3.5版的所有Hotfix。 (A) *修補程式* 針對已發行版本提供修正，可解決特定問題或錯誤。)

有關安全補丁程式的一般資訊，請參見 [新安全性修補程式版本簡介](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287).有關下載和應用安全補丁程式（包括補丁程式2.3.5-p2）的說明，請參見 [快速啟動本地安裝](../../../installation/composer.md). 安全性修補程式僅包括安全性錯誤修正，而不包括完整修補程式中包含的其他安全性增強功能。

## 其他發行資訊

雖然這些功能的程式碼會與每季發行搭配，但其中幾個專案(例如B2B、Page Builder、Inventory management和Progressive Web Application(PWA)Studio)也會獨立發行。 這些專案的錯誤修正會記錄在每個專案的檔案中，提供個別專案的發行資訊。

## 重點

查看此版本中的下列重點：

### 大幅增強安全性

此版本包含超過30項安全性修正和平台安全性改善。

#### 超過30項安全性增強功能，可協助關閉遠端程式碼執行(RCE)和跨網站指令碼(XSS)漏洞

迄今未發生與這些問題相關的確認攻擊。 但是，某些漏洞可能會被利用來訪問客戶資訊或接管管理員會話。 這些問題大多要求攻擊者首先獲得管理員的訪問權限。 因此，我們會提醒您採取所有必要步驟來保護您的管理員，包括但不限於這些努力：IP允許清單， [雙因素驗證](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)，使用VPN，使用唯一位置，而非 `/admin`以及良好的密碼衛生。 請參閱 [可用於Magento的安全更新](https://helpx.adobe.com/security/products/magento/apsb20-47.html) 以討論這些已修正的問題。

#### 其他安全性增強功能

* **為管理員帳戶、magento.com使用者帳戶和雲端SSH存取實作2FA**

   * **保護您的管理員帳戶**. 管理員現在需要雙因素驗證(2FA)。 管理員使用者必須先設定2FA，才能透過UI或Web API登入管理員。 2FA預設為啟用。 強烈建議不要停用2FA模組。  這個額外的驗證步驟使得惡意用戶在未獲得授權的情況下登錄管理員變得更加困難。 請參閱 [雙因素驗證(2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html). <!-- MC-22631-->

   * **保護您的帳戶**. 雙因素驗證(2FA)提供額外的選用安全性層，可更妥善地保護您的magento.com帳戶，使其免受未經授權的使用者之害，這些使用者可能會想以您不想要的方式使用您的帳戶。 請參閱 [保護您的帳戶](https://docs.magento.com/user-guide/magento/magento-account-secure.html).

   * **保護雲端SSH存取權**. 雲基礎架構Adobe提供多重身份驗證(MFA)強制，以管理雲環境SSH訪問的身份驗證要求。 預設情況下，不會在專案上啟用2FA的多重驗證。  Adobe強烈建議啟用此功能。 如需協助，請聯絡支援。 請參閱 [為SSH訪問啟用多重身份驗證](https://devdocs.magento.com/cloud/project/project-enable-mfa-enforcement.html).

* **範本篩選器嚴格模式現在預設為啟用**. 在舊版模式中使用範本篩選的元件（包括CMS頁面和區塊）可能容易遭受遠端程式碼執行(RCE)的攻擊。 預設情況下，啟用嚴格模式可確保不會故意啟用RCE攻擊。 <!-- MC-22982-->

* **UI資料提供者的資料呈現現在預設為停用**. 這樣，惡意用戶就無法執行任意JavaScript。 <!-- MC-17356-->

* **新增 `\Magento\Framework\Escaper` 類**. 此類為 `.phtml` 負責生成HTML的模板和PHP類。 此類包含與多個上下文相關的HTML淨化方法。 此 `$escaper` 本機變數可在內使用 `.phtml` 應使用和範本，而非已棄用的範本 `$block->escape{method}`. 使用 `$escaper` 而非 `$block` 作為 `$block->escape{method}` 已過時。

* **支援security.txt檔案**. 此檔案是伺服器上的業界標準檔案，可協助安全研究人員向網站管理員報告潛在的安全問題。

* **內容安全性原則(CSP)支援的增強功能**. `SecureHtmlRenderer` 已新增至架構，可在 `.phtml` 將內嵌項目列入白名單的範本 `style` 和 `script` 標籤。 預設CSP設定不允許使用內嵌指令碼和樣式，XML檔案可以覆寫此設定。 <!-- MC-34433-->

{{cve-notice}}

### 平台升級

以下平台升級有助於增強網站安全性和效能。 PHP和PHPUnit、Elasticsearch、MySQL和其他依賴項的支援版本列於 [技術堆棧要求](../../../installation/system-requirements.md).

* **引入PHP 7.4支援，不建議使用PHP 7.1和7.2**. 2.4.0引入了對PHP 7.4的支援。

* **支援PHPUnit 9.x並淘汰PHPUnit 6.5**. PHP 7.4需要使用最新的PHPUnit測試框架，即PHPUnit 9.x。Commerce Marketplace擴展供應商必須確認所有新的擴展版本都與PHP 7.4相容，並且所有單元和整合測試都配置為使用PHPUnit 9運行。

* **Elasticsearch7.6.x支援**. Elasticsearch7.6.x現在是Adobe Commerce和Adobe Commerce的預設目錄搜尋引擎。 若不安裝Elasticsearch7.6.x，則無法安裝或升級至2.4.0版。Elasticsearch2.x版程式碼已移除。 Elasticsearch5.x和6.x版已淘汰，不再支援。 請參閱 [搜尋引擎必要條件](../../../installation/prerequisites/search-engine/overview.md).

* **MySQL 8.0支援**. 2.4.x版支援MySQL 8.x。（2.4.0已使用MySQL 8.0.20進行測試。） 鼓勵商家將部署遷移到MySQL 8.x，以利用其改進的效能、安全性和可靠性。 雖然Magento2.4.x仍支援MySQL 5.7，但不再支援MySQL 5.6。 不能使用MySQL 5.6資料庫托管2.4.x。 請參閱 [MySQL](../../../installation/prerequisites/database/mysql.md).

* **MariaDB 10.4支援**. 對MySQL 8.0的支援為商戶提供了將MariaDB 10.4與Adobe Commerce一起部署的機會。 雖然商戶仍可以使用MariaDB 10.2搭配2.4.0，但我們建議升級至MariaDB 10.4以提升效能和可靠性。 不再支援MariaDB 10.0和10.1（由於此版本中不再支援MySQL 5.6）。
* **刪除MySQL目錄搜索引擎**. MySQL搜尋引擎已從2.4.0中移除，並以Elasticsearch取代為預設搜尋引擎。 Elasticsearch提供優異的搜尋功能以及最佳化目錄效能。  所有商家必須擁有安裝和部署2.4.0的Elasticsearch。請參閱 [驗證Elasticsearch是否已安裝](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html).

* **依賴項在Zend Framework上遷移到 [拉米納斯項目](https://getlaminas.org/about/foundation)** 以反映Zend Framework向Linux Foundation的Laminas項目的過渡。 Zend Framework已淘汰。 請參閱 [Zend框架向Laminas項目遷移](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) DevBlog文章。

* **控制器的分解** 可讓擴充功能開發人員直接實作ActionInterface，而不使用「層超類型」類別。 請參閱 [控制器的分解](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883) DevBlog文章。 _提取請求中由Vinai Kopp開始的增強功能 [16268](https://github.com/magento/magento2/pull/16268) 被盧卡什·巴伊薩羅維奇在提取請求中定稿 [26778](https://github.com/magento/magento2/pull/26778)_. [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **刪除重大欺詐保護法的核心整合**. 不再支援此核心功能。 商戶應移轉至 [重大欺詐和拖欠款項保護擴展](https://marketplace.magento.com/signifyd-module-connect.html) 可在Commerce Marketplace上使用。

* 此 **核心Braintree模組已從程式碼基底中移除**. 「Braintree付款」模組現在提供相同的功能集。 請參閱 [Braintree付款](https://marketplace.magento.com/paypal-module-braintree.html).

* 不再支援Internet Explorer 11.x瀏覽器。

### 基礎架構改善

此版本包含核心品質的增強功能，可改善架構和這些模組的品質：客戶帳戶、目錄、CMS、匯入、購物車和結帳，以及B2B。

* **移除第三方支付方法的核心整合**. 在此版本中， Authorize.Net付款方法整合已從核心代碼中移除。 商戶應移轉至Commerce Marketplace上可用的官方擴充功能。 請參閱 [取代付款整合](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445) devblog貼文。 <!-- MC-29029-->

* **支援Elasticsearch的部分字詞搜尋（新的預設搜尋引擎）**. Elasticsearch現在支援在使用快速搜尋時，在產品名稱和SKU的搜尋辭彙中使用部分字詞。 MySQL搜尋引擎支援此功能，此版本已淘汰此功能，並由Elasticsearch取代。

* **PayPal JavaScript SDK升級**. 我們已將PayPal Express Checkout整合移轉至最新的PayPal JavaScript SDK，此SDK會自動收集並將所需的風險參數傳遞至PayPal。 PayPal快速結帳付款方法的行為保持不變。 不過，將此SDK升級至最新版本可讓商戶存取最新功能和安全性增強功能。 <!-- MC-30962-->

* **停用和移除Web設定精靈**. 必須使用命令行來安裝或升級2.4.0。請參閱 [安裝Magento](../../../installation/advanced.md).

* **撰寫器更新外掛程式**. 撰寫器外掛程式可解決必須對根專案進行的變更，以簡化升級程式 `composer.json` 檔案，再更新至新版本。 此外掛程式可防止覆寫自訂項目。 請參閱 [使用撰寫器根外掛程式進行升級](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).

* **賣家輔助購物**. 此功能可讓商戶代表其客戶檢視店面。 客戶選擇允許店面存取其帳戶。 此社群開發功能包含由 [馬蓋凡](https://magefan.com/). 請參閱 [賣家輔助購物](https://docs.magento.com/user-guide/configuration/customers/login-as-customer.html). 功能包括：

   * 可以按網站配置ACL，以控制哪些管理員可以登錄到客戶帳戶
   * 與多個網站和客戶帳戶範圍相容
   * 代表客戶下的訂單會記錄在店面和管理員中
   * 管理員註銷後，所有會話都將被銷毀，管理員無法訪問客戶密碼。

### 效能改善

* **改善客戶資料區段失效邏輯**. 此版本推出新方式，可讓所有客戶區段資料失效，避免自訂時本機儲存的已知問題 `sections.xml` 無效判定處於活動狀態。  (先前，當您有自訂內容時，私人內容（本機儲存）未正確填入 *etc/frontend/sections.xml* 動作無效。) 請參閱 [私人內容](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

* **對Redis效能進行多項最佳化**. 增強功能會將對每個請求執行的Redis查詢數減到最少。 這些最佳化包括：

   * 減少Redis與Magento之間的網路資料傳輸

   * 通過提高適配器自動確定需要載入內容的能力，減少Redis的CPU週期消耗

   * 減少Redis寫操作上的競爭條件
   請參閱 [對頁面和預設快取使用Redis](../../../configuration/cache/redis-pg-cache.md) 和 [配置快取](../../../configuration/cache/caching-overview.md).

* **改進SQL查詢結果到清單表的快取**. 這些增強功能包括：

   * 快取SQL查詢至 `inventory_stock_sales_channel` 表（1個查詢，而不是16個）

   * 快取查詢結果至 `inventory_stock` 表（1個查詢，而不是16個）

* **將「快速訂購」的附加購物車效能提高25-30%**.

* 商戶現在可以使用 [延遲載入](https://en.wikipedia.org/wiki/Lazy_loading) 載入影像。

### Adobe Stock整合v2.0

**能夠從媒體集許可庫存影像預覽**. 商家現在可以在媒體集中找到任何Adobe Stock預覽影像，如此可減少授權庫存預覽影像所需的步驟數。

### 新媒體集

此版本取代了前版媒體集，為媒體資產提供可搜尋的全新介面。 管理員現在可以比此功能舊版快30倍的速度來搜尋、篩選和排序影像。 商戶可使用此工具評估店面影像的使用情況。 擴充功能開發人員應注意，針對媒體集開發的擴充功能在新媒體集上將無法如預期運作。

### 頁面產生器

頁面產生器現在支援PHP 7.4。

### Inventory management

此版本的Inventory management增強功能包括對店內取貨和套件產品支援的支援。 請參閱 [Inventory management發行說明](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html) 以取得有關最近Inventory management錯誤修正的更詳細討論。

### GraphQL

GraphQL增強功能包括：

* `pickupLocations` 查詢支援庫存在庫裝拾功能
* `categories` 查詢會傳回與指定篩選器相符的類別清單。 此查詢與 `categoryList` 查詢，以支援分頁。
* `reorderItems` 變異允許登錄用戶將上一訂單中的所有產品添加到購物車中。

請參閱 [GraphQL開發人員指南](https://devdocs.magento.com/guides/v2.4/graphql/) 以取得此功能和其他增強功能的詳細資訊。 請參閱 [發行說明](https://devdocs.magento.com/guides/v2.4/graphql/release-notes.html) 以取得最近GraphQL錯誤修正的詳細討論。

### PWA Studio

請參閱 [相容性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) 以取得PWA Studio版本及其相容版本的清單。 如需增強功能和錯誤修正的詳細資訊，請參閱 [PWA Studio發行](https://github.com/magento/pwa-studio/releases).

### B2B

**B2B的訂單核准工作流程功能**. 訂單批准允許採購組織的經理為其採購人配置批准規則。 請參閱 [核准規則](https://docs.magento.com/user-guide/customers/account-dashboard-approval-rules.html). 功能包括：

* 為每個公司帳戶設定唯一核准規則的自助設定
* 可以基於具有可配置閾值的訂單金額、行項目數或發運成本的規則標準
* 功能所有方面的可自訂權限
* 需要審批的採購訂單的快速店面視圖
* 已對每個採購訂單執行的活動的完整歷史記錄
* 在核准程式的所有步驟期間，向相關方發送電子郵件通知。

此版本也包含多項錯誤修正。 請參閱 [B2B發行說明](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### 功能測試框架

MFTF v3.0.0包括以下新功能，包括對PHP 7.4和PHPUnit 9的支援：

* MFTF Helpers，可在測試框架之外建立自定義操作
* 測試實體的架構更新
* 測試模組中的子資料夾
* 嵌套斷言語法
* 靜態檢查以檢查並報告引用已廢止的測試實體

此版本還刪除了已添加到升級測試到MFTF主要版本要求的過時操作和升級指令碼。

### 供應商開發的擴充功能增強功能

此版本包含協力廠商開發的擴充功能。 它對這些擴展引入了質量和UX改進，並擴展了MFTF覆蓋範圍。

Commerce Marketplace擴充功能廠商在發佈其2.4.0版擴充功能的新版本時，應確認其擴充功能與PHP 7.4相容。

#### dotdigital

此版本包含下列增強功能：

* 任何輸入類型（例如下拉式清單、多選）擷取的客戶屬性值，現在會正確同步為資料欄位。
* 現在會針對所有作用中的報價（即使其不含任何項目）傳送購物車分析資料。 這可讓商戶在清空購物車時退出程式的聯絡人。
* 商家現在可以依個別資料欄位同步網站名稱、商店名稱和商店檢視名稱。
* Wishlist、Review及Order同步現在只會查詢一次交易式資料同步限制。
* 來自Client類別的記錄輸出已得到改善，且現在在API包裝函式中所有方法之間都保持一致。
* 可配置產品現在具有其子產品的總和庫存數字。
* 新外掛程式會偵測由協力廠商代碼（管理員外部）執行的庫存更新。
* [資料對應](https://docs.magento.com/user-guide/configuration/dotdigital/data-mapping.html) 和 [異動電子郵件](https://docs.magento.com/user-guide/configuration/dotdigital/transactional-emails.html) 已更新設定資訊。

#### Amazon Pay

此版本包括：

* CSP允許清單的更新
* 為多物料訂單執行多個授權的能力
* 支援日文地址

#### Braintree付款

此套件擴充功能取代了核心Braintree整合（此版本已移除）。 請參閱 [Braintree付款](https://marketplace.magento.com/paypal-module-braintree.html).

#### 克拉納

此版本包含新的站上訊息選項，可協助購物者了解可用的信貸和融資選項。 此外也包含下列改善項目：

* 退款
* API效率
* cookie和單元測試
* 折扣
* 配置設定現在包含「現場消息」部分，用於控制Klarna促銷消息的店面顯示。 請參閱 [設定Klarna](https://docs.magento.com/user-guide/payment/klarna-setup.html).

#### 頂點

此版本的Vertex包含下列新功能和增強功能：

* 改善管理員設定使用者體驗
* 用XML架構檔案和修補程式替換安裝和升級指令碼
* 移除已棄用的程式碼(`ApiClient` 和 `ClientInterface`)

#### 約特波

「Yotpo評等」和「審核」已與「頁面產生器」整合。

## 已修正問題

我們已修正2.4.0核心程式碼中的數百個問題。

### 安裝、升級、部署

<!-- MC-23940-->

* 您現在可以成功移除網站，以及網站的特定範圍組態設定，位於 `app/etc/config.php` 如預期。 以前，當您嘗試移除網站時，操作失敗，應用程式顯示此錯誤： `The website with code xxx that was requested wasn't found. Verify the website and try again`. 此外，應用程式在店面上顯示了此錯誤： `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`. [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* 在 `index.php` 不再可從管理員編輯。

<!-- MC-32405-->

* Adobe Commerce安裝現在已成功完成，且當中預先定義存放區設定時，會如預期建立存放區。 `config.php`.

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` 已重構，以減少 `SHOW TABLE STATUS` 查詢。 （此變更會回復為此函式在2.3.3中顯示的行為。）

<!-- MC-23890-->

* 每當您嘗試通過運行來升級資料庫時，資料指令碼將不再重新運行 `bin/magento setup:upgrade`. 以前，升級指令碼會不必要地重新執行，而影響效能。 [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* 當您與Redis的連線中斷時，應用程式現在會顯示下列行為。 之前，應用程式未重新載入目前頁面並顯示此錯誤： `An error has happened during application run. See exception log for details`.

   * 管理員和店面工作階段過期
   * 管理員和店面使用者必須重新登入
   * 工作階段資料會儲存至 `var/session/`
   * 未記錄錯誤或異常。

<!-- ENGCOM-6686-->

* 此 `bin/magento setup:di:compile` 命令不再對匿名類失敗。 _Yevhen Sentiabov在提取請求中提交的修正 [26533](https://github.com/magento/magento2/pull/26533)_. [GitHub-26532](https://github.com/magento/magento2/issues/26532), [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* 已解決MagentoLuma主題中使用替代的LESS編譯器（而不是預設隨應用程式一起提供的編譯器）時的LESS編譯問題。 _Pieter Hoste在提取請求中提交的修正 [24003](https://github.com/magento/magento2/pull/24003)_. [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* 您不再需要可寫 `env.php` 檔案。 反之，應用程式會設定 `no-cache` 在維護模式中，所有前端請求的標題(`Cache-Control`)。 以前，在 `env.php` 為唯讀，且當切換至維護模式時，應用程式嘗試停用FPC。 _Marco Pcke在提取請求k̦中提交的修正 [25790](https://github.com/magento/magento2/pull/25790)_. [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify`  在 `ddev` 設定。 _Daniel Ruf提交的撤回請求 [26763](https://github.com/magento/magento2/pull/26763)_. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* 已更新撰寫器相依性以實作Redis金鑰過期，這已改善Redis效能。 _提取請求中截止十九提交的修正 [25488](https://github.com/magento/magento2/pull/25488)_. [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### AdminGWS

<!-- MC-33031-->

* 角色範圍有限的管理員現在可以修改替代文字，而應用程式會儲存這些值。 如果管理員不能修改alt文本，則alt文本框將呈灰色顯示。

### Adobe Stock整合

<!-- ENGCOM-6507-->

* Adobe Stock影像顯示已新增CSS樣式，以支援醒目提示選取的影像。  _Serhiy Zhovnir在提取請求中提交的修正 [25864](https://github.com/magento/magento2/pull/25864)_. [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* 使用方向鍵移動輸入欄位游標不再觸發Adobe Stock預覽影像的導覽。  _Adarsh Manickam在提取請求中提交的修正 [27138](https://github.com/magento/magento2/pull/27138)_. [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* 應用程式現在會快取訊息，以免客戶嘗試將篩選器套用至Adobe Stock影像時發生錯誤。 _提取請求中由Shankar Konar提交的修正 [26502](https://github.com/magento/magento2/pull/26502)_. [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* 按一下後，將游標移至視窗的左垂直捲軸時，應用程式不再儲存Adobe Stock影像的預覽 **儲存預覽** 但不確認儲存操作。 _Serhiy Zhovnir在提取請求中提交的修正 [27399](https://github.com/magento/magento2/pull/27399)_. [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### Analytics

<!-- MC-32086-->

* 變更商店URL後，商店的分析報表現在可如預期般使用。 先前，當您在URL變更後嘗試存取報表時，應用程式會顯示404錯誤。

<!-- MC-32085-->

* AR訂閱啟用時，分析報表的資料同步現在會如預期啟用。

### 後端

<!-- MC-25036-->

* 電子郵件範本(**管理** > **行銷** > **通訊** > **電子郵件範本**)，現在啟用JavaScript縮制時，即可從管理員預覽。 之前，當您嘗試預覽電子郵件範本時，「電子郵件預覽」快顯視窗為空白。 [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* 管理員現在可以在建立具有有限權限的管理員帳戶後，如預期般登入管理員。 以前無法存取管理員。 相反地，具有這些權限的使用者會重新導向至店面，並出現404錯誤。 _由Eden Duong在提取請求中提交的修正 [25909](https://github.com/magento/magento2/pull/25909)_. [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* 當您複製產品時，應用程式不再複製SEO資料，例如URL索引鍵、中繼標題、中繼關鍵字和中繼說明。  _Dasharth路徑在提取請求中提交的修正 [26659](https://github.com/magento/magento2/pull/26659)_. [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* 當您從中建立影像時從頁面刪除影像，應用程式不會再擲回錯誤 **管理**  > **內容** > **頁面**  >  **新增頁面**. 之前，應用程式在開發人員主控台中擲出此錯誤： `500 (Internal Server Error)`. _由Eden Duong在提取請求中提交的修正 [25924](https://github.com/magento/magento2/pull/25924)_. [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### 捆綁產品

<!-- MC-25251-->

* 的效能 `catalog_product_price` 已改善套件產品的重新索引操作。

<!-- MC-29633-->

* 當捆綁產品的 **稅種** 和 **動態價格** 預設商店檢視的設定會停用。 以前，當管理員取消勾選 **使用預設值** 選項 **稅種**，應用程式會啟用選項，允許管理員輸入其他值並儲存產品。

<!-- MC-30257-->

* 套件產品價格現在可在產品頁面上正確計算。

<!-- MC-29745-->

* 您現在可以新增任意數量的套件產品至購物車，且無錯誤。 之前，當您將套件組合產品新增至購物車，然後導覽至購物車時，應用程式會顯示此錯誤： `Please correct the quantity for some products`.

### 快取

<!-- ENGCOM-7114-->

* 此 `cache.xsd` 從 `Magento\Framework\Cache` 已重構，因此快取類型沒有 `instance` 透過「管理員快取管理」停用模組時，屬性不再造成例外。 以前，當您使用 `cache.xml` 沒有 `instance` 引數，當您嘗試停用時，應用程式擲回例外狀況。  _Andrii Beziazychnyi在提取請求中提交的修正 [27307](https://github.com/magento/magento2/pull/27307)_. [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` 如果部署中配置了資料庫快取引擎，則不再失敗。 _Andrii Beziazychnyi在提取請求中提交的修正 [25722](https://github.com/magento/magento2/pull/25722)_. [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### 購物車和結帳

<!-- MC-23870-->

* 當 **與後端同步** 組態設定已啟用。 [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* 發運方法的選項按鈕現在會如預期在結帳工作流程中啟用。

<!-- MC-30258-->

* 現在，當條款與條件與 **手動套用** 設定。 之前，「檢閱」頁面未通過驗證，而應用程式顯示404錯誤。

<!-- MC-32330-->

* 當購物車上的價格更新時，應用程式現在會顯示旋轉圖示。

<!-- MC-33230-->

* 現在，當迷你購物車中的產品在結帳前無存貨時，應用程式會顯示資訊性訊息。 移除無存貨項目後，應用程式會顯示 **繼續結帳** 按鈕。 之前，應用程式未顯示此按鈕。

<!-- MC-31391-->

* 當您嘗試按一下「 」以新增產品時，應用程式現在會顯示資訊性錯誤訊息 **按SKU訂購** 上傳的檔案損毀時。 之前，應用程式會顯示空白頁面。

<!-- MC-32962-->

* 應用程式現在僅將購物車價格規則套用至符合規則條件的套件產品子產品。 以前，應用程式將購物車價格規則應用於屬於捆綁產品的所有子產品。

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  已由`StorefrontMinicartSection` 在MFTF測試中。   _由Andrii Kalinich提交的提取請求修正 [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* 已移除運送地址表單上國家/地區選擇器元件的硬式編碼參考。  _Mateusz Krzeszowiak在提取請求中提交的修正 [25541](https://github.com/magento/magento2/pull/25541)_. [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* 在Internet Explorer中檢視店面時，游標暫留在圖示上方時，應用程式不再對購物車中的「刪除」圖示畫底線。  _由divyajyothi5321在提取請求中提交的修正 [26173](https://github.com/magento/magento2/pull/26173)_. [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* 為帳單地址和交貨地址選擇了單個地址後，更改計費街不再更改客戶的交貨地址。 _由Yurii Tvardyi在提取請求中提交的修正 [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* 迷你購物車的促銷區域現在可如預期呈現。 _由Matti Vapa在提取請求中提交的修正 [25375](https://github.com/magento/magento2/pull/25375)_. [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### 購物車價格規則

<!-- MC-23986-->

* 根據付款方法的購物車價格規則現在會在結帳工作流程期間套用。 [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* 修正上Datepicker頁面元素的行為 **管理** > **行銷** > **促銷活動** > **目錄價格規則**. _Hitesh在提取請求中提交的修正 [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  已由 `StorefrontMinicartSection` 在MFTF測試中。   _由Andrii Kalinich提交的提取請求修正 [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* 已停用「建立新購物車價格規則」工作流程中未使用的抵用券格線。 _由Eden Duong在提取請求中提交的修正 [24471](https://github.com/magento/magento2/pull/24471)_. [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* 當為帳單地址和發運地址同時選擇了單個地址時，更改帳單地址不再更改客戶的發運地址。 _由Yurii Tvardyi在提取請求中提交的修正 [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### 目錄

<!-- MC-23633-->

* 此應用程式現在禁用受限管理員更改產品數量屬性的能力，並按預期禁用高級庫存。 以前，只會影響數量屬性的視覺顯示，而應用程式在保存產品後更改了資料庫中的數量值。

<!-- MC-25235-->

* 當您更改計畫更新中包含的分層產品的名稱時，應用程式不再發出錯誤。 以前，當您嘗試以新名稱儲存產品時，應用程式會顯示此錯誤： `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* 自訂屬性值現在可如預期從管理員儲存。

<!-- MC-29775-->

* 「最近查看的產品」功能現在會顯示只有與目前多商店部署中的商店檢視相關聯的產品，當 **商店** > **配置** > **目錄** > **最近查看/比較的產品** > **顯示當前** 設為 **商店檢視**. 過去，應用程式會顯示所有網站最近檢視的產品，無論產品指派給哪個網站。

<!-- MC-29896-->

* 應用程式現在會在迷你購物車中顯示產品影像，而不會扭曲。 之前，應用程式會將影像伸展至迷你購物車，以填滿影像容器的整個寬度和高度。

<!-- MC-29866-->

* 此 `getBasePrice` 函式現在會如預期傳回float值，而非字串。

<!-- MC-30229-->

* 產品比較功能現在可如預期般運作。 現在只會在目前使用者的比較清單中顯示產品。

<!-- MC-30234-->

* 您現在可以為主題指派預設浮水印。 以前，在分配水印後，應用程式擲出了致命錯誤。

<!-- MC-30540-->

* 您現在可以從管理員成功編輯含有許多變體（約5,000個）的可設定產品。 以前，當您嘗試使用許多子產品編輯可設定的產品時，應用程式會顯示此錯誤： `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* 對上的屬性集進行排序 **管理** > **目錄** > **產品** 現在是以預期的字母順序為基礎。

<!-- MC-30794-->

* 「最近查看的產品」功能現在可如預期在多商店部署中運作。

<!-- MC-31837-->

* 擁有目錄限制權限的管理員現在可以建立可下載的產品。 以前，管理員無法建立可下載的產品，應用程式擲回錯誤。

<!-- MC-31838-->

* 此 **網站產品** 現在，預設會為多網站部署中受限的管理員啟用新產品頁面的核取方塊。 以前未預選非預設網站的核取方塊，如果管理員未選取核取方塊，應用程式會顯示錯誤訊息。

<!-- MC-32772-->

* `addToCart` 現在會如預期在資料層中追蹤事件。 以前，變更產品的可設定選項後，按一下 **新增至購物車**，新增 `addToCart` 事件未新增至資料層。

<!-- MC-29449-->

* 迷你購物車和管理員購物車(**管理** > **客戶** > **管理購物車**)，現在套用目錄價格規則時，會顯示正確的產品價格。 之前，店面購物車顯示正確的產品價格，但迷你購物車和管理員購物車顯示原始產品價格。

<!-- MC-30777-->

* 「管理產品格線」網站欄的篩選現在可如預期運作。 以前，篩選結果未顯示正確的產品數量，但會一致地將產品總數顯示為1。

<!-- MC-31432-->

* 價格條件使用 `catalog_product_entity_decimal` 按價格篩選。 但是，此表不包含可配置、捆綁動態和分組產品的記錄，因為這些產品沒有固定價格。 用於按價格篩選的正確表是 `catalog_product_index_price`.

<!-- ENGCOM-7104-->

* 管理目錄和產品清單現在會在MSRP、成本和特價欄中顯示貨幣符號。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [27261](https://github.com/magento/magento2/pull/27261)_. [GitHub-21910](https://github.com/magento/magento2/issues/21910), [GitHub-20906](https://github.com/magento/magento2/issues/20906), [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* 「添加客戶組價格」彈出窗口(**管理** > **目錄**  > **產品** > **新產品** > **進階定價**)現在會在您按一下關閉圖示時如預期關閉。 _Ashna-Jahan在提取請求中提交的修正 [25759](https://github.com/magento/magento2/pull/25759)_. [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* 為新產品說明和標題提供的範例說明不再包含雙引號。  _納森·摩根在提取請求中提交的修正 [25655](https://github.com/magento/magento2/pull/25655)_. [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* 當您嘗試使用無效價格來篩選類別頁面上的產品時，應用程式不會再擲回錯誤。 之前，應用程式會在系統記錄中記錄此錯誤。 _Ihor Sviziev在提取請求中提交的修正 [25912](https://github.com/magento/magento2/pull/25912)_. [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* 您現在可以導覽多頁類別搜尋結果。 以前，當您嘗試使用「返回」按鈕返回結果的第一頁時，應用程式會建立重複的搜索結果頁。 _由Douglas Radburn提交的提取請求修正 [25337](https://github.com/magento/magento2/pull/25337)_. [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* 將傳回類型修正為 `string|null` 針對 `getSourceModel` 方法(在 `Eav\Attribute.php` 類別。 _Mychailo在提取請求中提交的修正 [25333](https://github.com/magento/magento2/pull/25333)_. [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* 儲存新（重複的）產品不再導致產品影像重複數百次。 _Jeroen在提取請求中提交的修正 [25875](https://github.com/magento/magento2/pull/25875)_. [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* 當您刪除具有自訂類型選項的產品時，應用程式不再擲回JavaScript錯誤 `file` 從管理員建立訂單時。  _由adrian-martinez-interactiv4在提取請求中提交的修正 [24843](https://github.com/magento/magento2/pull/24843)_. [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* 使用建立無影像的產品 `product_page_image_large` 在版面中會導致預留位置影像如預期般顯示。 之前，應用程式擲回此錯誤： `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`. _Lukasz Bajsarowicz在提取請求中提交的修正 [26974](https://github.com/magento/magento2/pull/26974)_. [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* 您可以使用 `POST /V1/:sku/links` 端點，在產品有現有連結時，以空的產品陣列來設定產品連結。 之前，應用程式擲回錯誤。 _由Sathish Subramanian在提取請求中提交的修正 [26979](https://github.com/magento/magento2/pull/26979)_. [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* 您現在可以使用「產品」格線中的「動作」下拉式功能表，在從管理員更新多個產品屬性時指定產品是否具有權重。  _由Bartomiej Szubert提交的提取請求修正 [26075](https://github.com/magento/magento2/pull/26075)_. [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* 驗證邏輯已新增至 **網格上每頁產品允許的值** 和 **網格預設值上的每頁產品數** 儲存配置頁面的欄位。 以前，儲存管理員可以在這些欄位中輸入不可用的值。  _Lukasz Bajsarowicz在提取請求中提交的修正 [27093](https://github.com/magento/magento2/pull/27093)_. [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### 目錄規則

<!-- ENGCOM-6550-->

* 修正上Datepicker頁面元素的行為 **管理** > **行銷** > **促銷活動** > **目錄價格規則**. _Hitesh在提取請求中提交的修正 [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-5122-->

* 目錄價格規則現在可如預期在產品詳細資料頁面上使用自訂選項。 _Pavel Bystritsky在提取請求中提交的修正 [22917](https://github.com/magento/magento2/pull/22917)_. [GitHub-22856](https://github.com/magento/magento2/issues/22856)

### 目錄Widget

<!-- MC-29167-->

* 此 `CatalogWidget` 產品清單現在可如預期般搭配錨點類別運作，且錨點類別的產品現在會相符並顯示。 以前，當您選取作為錨點的父類別但該類別未包含指派的產品時，產品不會顯示在介面工具集中。

<!-- MC-30260-->

* 應用程式現在會如預期般顯示所選父類別的所有子項。 以前，如果您選取的父類別是錨點，但未包含指派的產品，應用程式不會顯示所有巢狀產品。

<!-- MC-31171-->

* 現在，只要 **商店** > **設定** > **目錄** > **目錄** > **最近查看/比較** > **將介面工具集產品與後端儲存同步** 設為 **是**.

### CMS內容

<!-- MC-29619-->

* 您現在可以儲存並複製所有CMS頁面。 之前，當您嘗試複製特定頁面時，應用程式會擲出此例外： `Unique constraint violation found`.

<!-- MC-30963-->

* 如果區塊已指派給不同的存放區檢視，應用程式現在可讓您建立名稱相同的CMS區塊。

<!-- MC-30103-->

* 現在，從圖庫影像縮圖中選取會如預期快取。 以前，這些影像會即時調整大小。

<!-- MC-32275-->

* 儲存已指派給多個存放區的CMS頁面時，應用程式不再擲回錯誤。 以前，當您建立或編輯CMS頁面時，應用程式會儲存頁面，但也擲回此錯誤： `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`.

<!-- MC-32452-->

* 新的CMS頁面現在可如預期新增至網站的商店頁面階層。

<!-- ENGCOM-7033-->

* CMS頁面自訂配置更新邏輯已得到改善。 應用程式現在會套用 `cms_page_view_selectable_home_somechanges.xml`. _Sergiy Vasiutynskyi在提取請求中提交的修正 [27131](https://github.com/magento/magento2/pull/27131)_. [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### 清除

<!-- ENGCOM-6573-->

* 從模組XML中移除額外的結尾標籤。 _提取請求中由Tejash Kumbhare提交的修正 [26339](https://github.com/magento/magento2/pull/26339)_. [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* 修正 **我的賬單和發貨地址是相同的** 核取方塊（位於結帳工作流程的「檢閱與付款」頁面區段）。  _由divyajyothi5321在提取請求中提交的修正 [26169](https://github.com/magento/magento2/pull/26169)_. [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* 移除結帳工作流程「運送地址」區段上欄位標籤與星號之間不必要的空白字元。  _Daniel Ruf提交的撤回請求 [26285](https://github.com/magento/magento2/pull/26285)_. [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* 修正結帳工作流程「運送方法」區段上選項按鈕的未對齊問題。  _Hitesh在提取請求中提交的修正 [25966](https://github.com/magento/magento2/pull/25966)_. [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* 修正行動檢視中不一致的功能表間距。 _Hitesh在提取請求中提交的修正 [26238](https://github.com/magento/magento2/pull/26238)_. [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* 修正行動檢視中迷你購物車「編輯」和「移除」圖示未對齊的問題。  _Vasili Burlacu在提取請求中提交的修正 [27493](https://github.com/magento/magento2/pull/27493)_. [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* 修正「新增稅率/郵遞區號」頁面上的稅率郵遞區號範圍與核取方塊(**管理**  >  **商店**  >  **稅** >  **稅區和稅率**)。 _由Sathish Subramanian在提取請求中提交的修正 [26932](https://github.com/magento/magento2/pull/26932)_. [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* 從「設定精靈」到「管理員」的連結現在可如運期般運作。 _Oleh Usik在提取請求中提交的修正 [26100](https://github.com/magento/magento2/pull/26100)_. [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* 已在「管理員」中「快取管理」格線的狀態列上禁用排序。 _由Sathish Subramanian在提取請求中提交的修正 [26215](https://github.com/magento/magento2/pull/26215)_. [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* 修正 **管理** >  **商店**  >  **屬性**  > **評等** >  **新增評等** 對話框。 _由Sathish Subramanian在提取請求中提交的修正 [27014](https://github.com/magento/magento2/pull/27014)_. [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* 修正「新增設計變更」頁面上日曆圖示的未對齊問題。 _由Eduard Chitoraga在提取請求中提交的修正 [26063](https://github.com/magento/magento2/pull/26063)_. [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* 移除首頁暫留功能表子功能表顯示中不必要的空間。 _Hitesh在提取請求中提交的修正 [25973](https://github.com/magento/magento2/pull/25973)_. [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* 修正店面產品詳細資訊頁面上的價格標籤未對齊的問題。 _由divyajyothi5321在提取請求中提交的修正 [26237](https://github.com/magento/magento2/pull/26237)_. [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* 修正與  **新增至購物車** 按鈕（位於行動檢視的產品清單頁面上）。  _由divyajyothi5321在提取請求中提交的修正 [26183](https://github.com/magento/magento2/pull/26183)_. [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* 顯示於的整合成功訊息  **管理**  > **系統** > **擴充功能** > **整合** 現在可正確顯示。 _由divyajyothi5321在提取請求中提交的修正 [26011](https://github.com/magento/magento2/pull/26011)_. [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### 可配置產品

<!-- MC-23546-->

* 現在可透過API成功停用可設定產品的子產品。

<!-- MC-30391-->

* 購物車價格規則 **條件設為類別（僅限父項）** 現在一如預期。

<!-- MC-30989-->

* 您現在可以從Cross-Sells索引標籤將可設定的產品新增至購物車。 選取產品並按一下 **新增至購物車** 此索引標籤會將您帶往產品詳細資訊頁面，您可在其中選取特定產品選項。 之前，應用程式會將您重新導向至404錯誤頁面。

<!-- MC-32411-->

* 當連結這些產品的API呼叫失敗時，應用程式不再將簡單產品連結至可設定的產品。

<!-- ENGCOM-6483-->

* 修正可設定產品「目前變異」清單中SKU的轉譯。 _KaushikChavda在提取請求中提交的修正 [26007](https://github.com/magento/magento2/pull/26007)_. [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* 您現在可以儲存 `system.xml` 在  **管理** > **系統** > **設定** 在沒有關聯標籤的欄位中。 _Andrii Chorniy在提取請求中提交的修正 [25985](https://github.com/magento/magento2/pull/25985)_. [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* 的效能 `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable` 已最佳化。  _提取請求中由Stanislav Ilnytskyi提交的修正 [26071](https://github.com/magento/magento2/pull/26071)_. [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* 已改善負責更新可設定產品影像的邏輯。 以前，與可配置產品相關聯的簡單產品僅顯示與可配置產品相關聯的預設影像，而應用程式有時顯示產品的錯誤主影像。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [26560](https://github.com/magento/magento2/pull/26560)_. [GitHub-26473](https://github.com/magento/magento2/issues/26473), [GitHub-26856](https://github.com/magento/magento2/issues/26856), [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* 當您選擇可配置產品的折扣選項時，應用程式現在會按預期顯示產品的特殊價格。 以前， `class="normal-price"` 未變更為 `class="special-price"` 的值。 _拉維·錢德拉在提取請求中提交的修正 [26170](https://github.com/magento/magento2/pull/26170)_. [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookie

<!-- MC-24182-->

* 此 `setRedirectCookie` 和 `clearRedirectCookie` 函式現在如預期般運作。 以前，這些函式會將Cookie傳送至瀏覽器，但缺少所有Cookie參數。 [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- MC-30789-->

* 當客戶導覽至新商店而未接受Google Tag Manager Cookie時，Google標籤管理程式標籤不再觸發。

<!-- ENGCOM-6891-->

* 中繼資料已新增至 `setRedirectCookie` 和 `clearRedirectCookie` 函式。  _Alexander Lukyanov在提取請求中提交的修正 [24612](https://github.com/magento/magento2/pull/24612)_. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### 自訂客戶屬性

<!-- MC-30739-->

* 應用程式現在會如預期般在結帳工作流程的位址區段中顯示自訂客戶位址屬性值。 之前，應用程式會顯示自訂客戶位址屬性代碼（而非值），並觸發JavaScript錯誤。

<!-- MC-32301-->

* 當您在 **Forms將用於** 欄位。 之前，應用程式擲回此錯誤： `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`.

<!-- MC-33361-->

* 應用程式現在會儲存自訂客戶位址屬性，並如預期般在註冊表單中實作。 以前，當您從購物車建立帳戶時建立新的自訂客戶地址屬性時，應用程式不會儲存屬性資訊。

### 客戶

<!-- MC-29102-->

* 註冊新帳戶後，訂閱電子報作為訪客的客戶將不再取消訂閱。

<!-- MC-29841-->

* 應用程式現在會使用 `PHPSession` 密碼的每次更改。

<!-- MC-30650-->

* 您現在可以使用上的「關聯至網站」下拉式功能表，成功建立客戶，並將其與特定網站建立關聯 **客戶** > **所有客戶** > **新增客戶**. 以前，當您嘗試將新客戶與多網站部署中的非預設網站建立關聯時，應用程式會顯示此錯誤： `The store view is not in the associated website`.

<!-- MC-29946-->

* 現在，當交易因信用卡無效而最初被拒絕但後來成功完成時，應用產品將保存客戶在結帳期間在預設帳單和發運欄位中輸入的資訊。 以前，雖然應用產品在客戶輸入有效付款資訊時建立了訂單，但它沒有更新結帳工作流的「我的帳戶」部分中的預設開單地址或發運地址。

<!-- MC-32325-->

* 現在，當您在多網站部署中從管理員建立新客戶時，應用程式會遵照客戶群組設定。

<!-- MC-31481-->

* 應用程式現在可以使用 **客戶和地址（單一檔案）** 選項 `cron` 已啟用，且客戶網格索引器設定為 **按計畫更新**. 之後 `cron` 執行時，管理員中會如預期般提供匯入的客戶資訊。 以前，應用程式導入了客戶資料，但沒有使用新導入的客戶記錄更新客戶網格。

<!-- MC-31117-->

* 現在，在需要出生日期時，您可以從店面建立新客戶。 以前，您在需要此欄位時，即使您輸入了有效的DOB值，也無法建立新客戶。 [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* 現在，從管理員建立客戶時，會依照預設的客戶群組設定執行。

<!-- MC-31435-->

* 此 `PHPSessionId` 現在會在客戶登出然後重新登入後，如預期般變更。

<!-- MC-32152-->

* 現在，客戶購物車的「管理員」檢視會顯示從多網站部署的多個網站新增至購物車的所有產品。 以前，當客戶從非預設網站將產品新增至購物車時，即使在 **共用客戶帳戶** 設為 **全球**.

<!-- ENGCOM-7036-->

* 驗證現在可如預期運作 **出生日期** 欄位來編輯客戶。 以前，應用程式不會計入使用者地區設定，而對於某些出生日期，會顯示此錯誤： `The Date of Birth should not be greater than today`.   _Sergiy Vasiutynskyi在提取請求中提交的修正 [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* 從管理員下訂單時，不再需要電子郵件欄位。  _提取請求中由solwininfotech提交的修正 [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* 從管理員檢視購物車時，應用程式現在只會顯示客戶放在其購物車中的產品。 以前，從管理員檢視時，客戶的購物車會顯示目錄中的所有產品。 _Ravinder在提取請求中提交的修正 [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* 「我的帳戶」控制面板現在會在行動檢視中正確顯示電子郵件地址值。 _由Eden Duong在提取請求中提交的修正 [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* 按一下 **建立帳戶** 客戶註冊表上的按鈕不再多次提交註冊請求。 _princeCB在提取請求中提交的修正 [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### 客戶區段

<!-- MC-29471-->

* 當您以指派給客戶區段的使用者身分登入時，當區段包含過去訂單的條件時，應用程式不再從客戶區段中移除您的客戶帳戶。 之前，您必須按一下 **重新整理區段資料** 登入後，應用程式會在「符合的客戶」清單中顯示您的帳戶。

<!-- MC-30466-->

* 當區段條件包含訂單總數時，客戶區段現在可如預期運作。

<!-- MC-32409-->

* 將客戶帳戶設為全域共用時，現在會如預期般套用客戶區段規則。

<!-- MC-33081-->

* 我們已改善編輯及儲存包含大量客戶（超過300萬）之客戶區段的效能。 之前，當您建立或編輯包含許多客戶的客戶區段時，應用程式擲回500錯誤。

### 目錄

<!-- MC-33168-->

* 「預設狀態」下拉式功能表現在會填入資料，這些資料會以您在設定 **預設納稅目標計算** 欄位。 之前，此下拉式清單列出指派給預設網站的國家/地區。

### 可下載

<!-- MC-32306-->

* 您現在可以使用匯入檔案，依SKU和說明大量更新可下載的產品。 以前發生驗證錯誤，且匯入失敗。

### 動態區塊（前身為橫幅）

<!-- MC-23852 31632-->

* 動態區塊現在可如預期般搭配客戶區段運作。 當應觸發的條件未達成時，應用程式不再顯示動態區塊。 之前，當購物車為空時，應用程式會為以訪客身分登入的使用者顯示動態區塊。

<!-- MC-32652-->

* 現在會根據客戶區段和商店檢視，在店面上轉譯動態區塊。

### EAV

<!-- MC-29999-->

* 應用程式現在會遵循商店專屬設定，以判斷在多網站部署中是否需要結帳工作流程的電話號碼欄位。 以前，在某個存放區在結帳工作流程中需要此欄位，而另一個存放區未需要的部署中，在結帳不需要該欄位的存放區時，未完成此欄位的客戶會遇到此錯誤： `Please check the shipping address information. "telephone" is required. Enter and try again`.

<!-- ENGCOM-6489-->

* EAV排序順序 `attribute option_id` 現在正如預期般運作。 _提取請求中由Tan Sezer提交的修正 [24360](https://github.com/magento/magento2/pull/24360)_. [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* 現在，在透過REST新增屬性，並指派給管理員中的屬性集後，您可以建立新產品。 之前，應用程式擲出500錯誤。  _Sergiy Vasiutynskyi在提取請求中提交的修正 [27191](https://github.com/magento/magento2/pull/27191)_. [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### 電子郵件

<!-- MC-32842-->

* 當客戶要求退貨時，他們會收到的授權電子郵件現在會如預期般包含RMA狀態。 以前，此電子郵件會顯示空白字串，而非預期的傳回狀態。

<!-- MC-32864-->

* 在多網站部署中，客戶帳戶會全域共用，當客戶回報忘記密碼時，系統不再將客戶重新導向離目前的網站。 之前，系統會將客戶重新導向至建立帳戶的網站。

<!-- MC-31544-->

* 傳送給客戶的訂單確認電子郵件現在會如預期般包含訂購項目清單。 以前，當您透過載入和儲存預設範本在「管理員」中建立電子郵件範本時，從此範本產生的電子郵件不包含已排序項目的清單。 [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### 框架

* Zend Framework上的相依性已移轉至 [拉米納斯項目](https://getlaminas.org/about/foundation) 以反映Zend Framework向Linux Foundation的Laminas項目的過渡。 Zend Framework已淘汰。 _Ihor Sviziev在提取請求中提交的修正 [26436](https://github.com/magento/magento2/pull/26436)_. [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* 使用荷蘭地區設定的管理員帳戶現在可以正確使用特殊的價格範圍設定（從/到日期）。

<!-- MC-29388-->

* `php bin/magento cron:run` 不再多次處理來自變更記錄表的項目。 以前，當變更記錄表中有100000個以上的新版本時，可對相同項目多次呼叫動作 `entity id`.

* 此 `php bin/magento setup:cron:run` 命令已移除。 此外，升級時在crontabs中刪除對此檔案的引用。

* 此 `update/cron.php` 2.4.0中已移除檔案，若此檔案存在於您的安裝中，則可安全地移除。 此外，升級時在crontabs中刪除對此檔案的引用。

<!-- MC-30544-->

* 「更新屬性」動作現在可正確更新產品的時間戳記 `updated_at column` 從 `catalog_product_entity` 從「管理員編輯產品」頁面更新產品時。

<!-- MC-30834-->

* 設定 `'persistent' => '1'` in `env.php` 當您執行時，不再擲回錯誤 `setup:upgrade`.

<!-- MC-32243-->

* 此 **表單密鑰無效。 請刷新頁面** 登入頁面上的文字字串現在可如預期般翻譯。

<!-- MC-33278-->

* 我們已改善 `Magento\Framework\App\DeploymentConfig\Reader::load` 函式。 之前，當向Magento提出請求時，會重複呼叫此函式，導致 `config.php` 和 `env.php config` 每次呼叫方法時都會載入的檔案。

<!-- MC-31728-->

* 應用程式不再下載 `blank.html` 頁面時，當管理員從管理員建立訂單時按一下產品。

<!-- MC-31729-->

* 頁面上不存在（未宣告的）元件的參考指示中，預設配置新增了不可快取區塊，這些區塊不再影響頁面快取。 將不可快取塊添加到預設佈局處理程式將呈現所有頁面不可快取。 這是版面產生程式產生的結果：在生成佈局時，應用程式會收集特定頁面的所有可用佈局句柄，並將這些句柄中的指令合併到頁面的最終佈局結構中。 預設的佈局句柄用作每個頁面的基本句柄。 因此，為預設處理常式宣告的版面更新會顯示在每個頁面上。 [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* MySQL鎖管理器現在是主鎖管理器。 因此， MySQL的最低要求版本為5.7.9。

<!-- ENGCOM-6431-->

* `queue_consumer.xml` 現在允許 `handler` 類別。 以前，當處理常式路徑中包含數字時，XSD驗證失敗。 _由Eden Duong在提取請求中提交的修正 [25952](https://github.com/magento/magento2/pull/25952)_. [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* 錯誤 `@var` 在 `doc` 類成員變數的塊 `$queueIterator` 在類 `\Magento\Framework\MessageQueue\Topology\Config` 已更正。 _Artem Voloznov在提取請求中提交的修正 [24976](https://github.com/magento/magento2/pull/24976)_. [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* 現在，當檔案不再是時，會觸發JavaScript頁面載入監聽器以引發 `loading` 而不是等到它標示為 `complete` 等待，直到文檔被標籤為 `complete` 可能會導致JavaScript內容呈現嚴重延遲。 _由John Hughes在提取請求中提交的修正 [23313](https://github.com/magento/magento2/pull/23313) 和提取請求 [50](https://github.com/magento/partners-magento2ee/pull/50)_. [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* 當您嘗試將產品添加到您的願望清單中，數量為0或負號時，應用程式現在會顯示以下資訊性消息： `Please enter a valid number in this field`. 之前，應用程式會顯示此錯誤： `We can't update your Wish List right now`. _Pawe Tylek在提取請求中提交的修正 [25641](https://github.com/magento/magento2/pull/25641)_. [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* 應用程式不再支援從 `Magento\Framework\Api\AbstractExtensibleObject` 類別。 缺少PHP批注 `@api`  已新增至 `AbstractExtensibleModel`，以及遺失 `@deprecated`  註解已新增至 `AbstractExtensibleObject`.  _由Alexander Taranovsky提交的提取請求修正 [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* 您現在可以在變更產品相關日期後，如預期般儲存產品(例如 `news_from_date`, `news_to_date`, `special_price_from_date`, `special_price_to_date`)，在實作非英文地區設定的商店中。 之前，應用程式擲回類似以下的錯誤：  `Invalid input datetime format of value '22/5/2019`.

### 一般修正

<!-- MC-21347-->

* 客戶模組不再依賴檢閱模組。 以前，由於此相依性，您無法停用「檢閱」模組。

<!-- MC-25250-->

* 當頁面的預設屬性集包含具有選取標籤的下拉式屬性時，產品編輯頁面現在會成功載入。

<!-- MC-25260-->

* 從「管理員」的「訂單」索引標籤存取的圖形訂單圖表，現在可準確反映訂單數量。

<!-- MC-29273-->

* 當這兩個URL不同時，商店的管理URL不再重新導向至店面URL。

<!-- MC-29658-->

* 將效能工具套件設定檔與多個網站搭配使用時，子類別的URL重寫產生現在可正常運作。

<!-- MC-30224-->

* 您現在可以刪除空的用戶模型，而不需要刪除分配給它的管理員角色。

<!-- MC-30636-->

* TinyMCE4編輯器現在支援所有HTML標籤。

<!-- MC-31128-->

* 按一下 **離線退款** 「建立貸項通知單」工作流中的按鈕現在可以按預期方式生成貸項通知單。 以前，JavaScript錯誤會停用此按鈕，而應用程式未建立貸項通知單。

<!-- MC-31832-->

* 商家現在可以建立類型的產品屬性 `Decimal`. 之前，由於先前的錯誤修正，應用程式未顯示產品屬性類型 `Price`. [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* 當您嘗試開啟店面上的「類別」頁面時，應用程式不再傳回500錯誤 **版面=產品 — 全寬** 已從「類別」頁面的「設計」頁簽設定。

<!-- MC-32697-->

* 修正 `AbstractSimpleObjectBuilder.php`.

<!-- MC-33427-->

* MAP（最低廣告價格）現在對集團產品可如預期般運作。

<!-- MC-29998-->

* 當您在多商店部署中變更CMS頁面上的語言時，應用程式現在會將您重新導向至適當商店檢視的首頁。 以前，當您在某些CMS頁面上變更語言時，應用程式會顯示404頁面。

<!-- MC-30162-->

* 訂購查詢(`SalesOrderIndexGridAsyncInsertCron`)已重構，以減少傳回的資料集大小和查詢頻率。

<!-- MC-32371-->

* 您現在可以成功建立CMS頁面，並將其指派給CMS階層中的網站根類別。

<!-- MC-32783-->

* 現在啟用類別權限時(例如， **未登入** 客戶組已獲得這些權限)。

<!-- MC-32815-->

* 產品規則現在可如預期般套用至無存貨產品。 以前，即使將規則設定為顯示無庫存產品，應用程式也不會在相關產品清單中顯示無庫存產品。

<!-- MC-33222-->

* 按一下 **跟蹤裝運** 「管理員」訂單的按鈕，現在會如預期顯示在快顯視窗中。 以前，此連結將管理員帶往登入頁面。

<!-- MC-31305-->

* 如果客戶嘗試完成包含多選客戶屬性的註冊表單時發生錯誤，應用程式現在會顯示資訊性錯誤訊息，並繼續顯示註冊表單。 之前，應用程式會顯示500錯誤。

<!-- MC-32224-->

* 應用程式現在會顯示 **貸項通知單** 按鈕。 以前，在您建立部分退款後，應用產品不會顯示此按鈕，並且您無法為訂單的其餘部分建立貸項通知單。

<!-- MC-31878-->

* 現在，透過REST進行大量訂單更新，可如預期般修改訂單狀態。 之前，應用程式擲回此錯誤： `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* 屬性篩選條件現在會如預期顯示在「類別」頁面的「購物選項」區塊中。

<!-- MC-25138-->

* 現在，在安裝B2B的部署中，您可以將「類別」頁面上的產品限制從24個變更為36個。 之前，當此產品限制提高至36時，應用程式會擲出致命錯誤。

<!-- ENGCOM-7175-->

* 在Internet Explorer中顯示時，客戶帳單和運送地址現在會如預期顯示在「管理員客戶編輯」頁面的「地址」標籤下。 _Vasili Burlacu在提取請求中提交的修正 [27383](https://github.com/magento/magento2/pull/27383)_. [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* 現在，當您刪除書籤檢視時，所有書籤檢視都可以保持編輯狀態。 以前，當您刪除具有多個書籤檢視之帳戶的第一個檢視後，所有書籤檢視都變得無法編輯。 _由Bartomiej Szubert提交的提取請求修正 [26263](https://github.com/magento/magento2/pull/26263)_. [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* 分層導覽不再中斷HTML5對色票模組的驗證。 以前，未在 [W3C標籤驗證服務](https://validator.w3.org/)，但這些屬性已變更為資料屬性。 _Nirav Patel在提取請求中提交的修正 [26055](https://github.com/magento/magento2/pull/26055)_. [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* 未使用 `require.JS` 別名(`critical-css-loader``) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`. _Tu Nguyen在提取請求中提交的修正 [26987](https://github.com/magento/magento2/pull/26987)_. [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* 此應用程式現在實施PHP7.x [可丟棄介面](https://www.php.net/manual/en/class.throwable.php) 以便捕獲可能洩露密碼等敏感資訊的所有錯誤。 _提取請求中由miszyman提交的修正 [25250](https://github.com/magento/magento2/pull/25250)_. [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* 在建立新資料夾快顯視窗中輸入新資料夾名稱時按下ESC鍵，現在會如預期關閉快顯視窗，而不會建立資料夾。  _提取請求中由Shankar Konar提交的修正 [25349](https://github.com/magento/magento2/pull/25349)_. [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* 已修正不正確的巢狀HTML結構。 以前，此結構會導致相關、向上銷售或交叉銷售產品清單的版面損毀。 _Pieter Hoste在提取請求中提交的修正 [27926](https://github.com/magento/magento2/pull/27926)_. [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* 移除對的重複呼叫 `addToolbarBlock`，導致 `ORDER BY`.  _Vasili Burlacu在提取請求中提交的修正 [27263](https://github.com/magento/magento2/pull/27263)_. [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* 商家現在可以在管理員使用者帳戶上設定到期日。 _由Laura Folco在提取請求中提交的修正 [22837](https://github.com/magento/magento2/pull/22837)_. [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* 我們已新增 `@api`  PHP注釋 `AbstractExtensibleModel`, `@deprecated` PHP注釋 `AbstractExtensibleObject`，和 `@see` to `AbstractExtensibleModel`.  _由Alexander Taranovsky提交的提取請求修正 [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### 禮品卡

<!-- MC-31041-->

* GET `V1/orders/:orderId` 呼叫會如預期傳回禮品卡代碼。

### 禮品包裝

<!-- MC-29893-->

* 禮品包裝現在可以在產品層級啟用時新增至購物車。 以前，您可以將禮品包裝添加到店面上的產品，但應用程式不會在訂單摘要中包括禮品包裝。

<!-- MC-30543-->

* 過期的禮品卡在您將到期日更改為將來日期時，將按預期生效。 以前禮品卡是過期的。

<!-- MC-32551-->

* 現在，若 **允許訂單級禮品報文** 設定和範本縮制皆已啟用。 以前，當您嘗試在啟用這些設定時開啟此頁面時，應用程式擲回此錯誤： `Warning: require(content.phtml): failed to open stream: No such file or directory`.

<!-- MC-31427-->

* 現在，應用程式會根據您訂購的禮品包裝的產品數量，正確計算禮品包裝的成本。 以前，應用產品只包括訂單中的一種產品的禮品包裝成本。

### Google Tag Manager

<!-- MC-29878-->

* 商戶現在可以延遲傳送資料至Google Analytics，直到符合指定條件為止。

<!-- MC-30673-->

* 遺失的 `Magento_GoogleTagManager::checkout/set_checkout_option.phtml` 範本已還原。

### GraphQL

<!-- ENGCOM-7074-->

* 應用程式現在會傳回GraphQL訊息 `The cart isn't active` 而非 `Current user does not have an active cart` 在特定情況下，當購物車變為非作用中狀態並建立新購物車ID時。 _Vadim Malesh在提取請求中提交的修正 [27187](https://github.com/magento/magento2/pull/27187)_. [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* 移除當使用GraphQL將產品新增至購物車時，先前新增的產品無存貨時，導致錯誤的程式碼。 _AleksLi在提取請求中提交的修正 [27015](https://github.com/magento/magento2/pull/27015)_. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* 修正GraphQL中，在產品查詢上使用片段時，應用程式未傳回所有必要資訊的問題。 _Riccardo Tempesta在提取請求中提交的修正 [26218](https://github.com/magento/magento2/pull/26218)_. [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* GraphQL突變 `setShippingMethodsOnCart` 不再擷取  `available_shipping_methods` 屬性。 _Vadim Malesh在提取請求中提交的修正 [27004](https://github.com/magento/magento2/pull/27004)_. [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### 分組產品

<!-- ENGCOM-6115-->

* 現在，當屬於同一群組的另一簡單產品無存貨時，您可以將屬於某群組產品的簡單產品新增至購物車。  _Gihovani Filipp Pereira Detrio提交的提m̩取請求修正 [24955](https://github.com/magento/magento2/pull/24955)_. [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* 此申請現在會如預期傳送電子郵件給客戶，告知有關已退回之群組產品的資訊。  _由Alexander Taranovsky提交的提取請求修正 [26246](https://github.com/magento/magento2/pull/26246)_. [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* 現在，當某個已分組產品的其他子產品無存貨時，您可以將某個已分組產品的子產品新增至購物車。 以前，當一個子產品無存貨時，您無法將任何其他子產品新增至購物車。

### 影像

<!-- MC-29523-->

* 影像現在儲存於 `pub/media/catalog/category` 儲存類別影像時如預期。 之前，應用程式會將這些影像儲存在 `pub/media/catalog/tmp/category`.

<!-- MC-30320-->

* 浮水印影像不再遮掩其覆蓋的產品影像。 以前，當水印影像大於應用到的產品影像時，產品影像不可見。

<!-- MC-32273-->

* 您現在可以從管理員成功將影像儲存至類別。 之前，在您儲存影像後，遺失部分URL，且您無法重新開啟影像。

<!-- MC-31727-->

* 現在會顯示應用程式 `.png` 上傳後預期的影像。

<!-- MC-29483-->

* 使用頁面產生器上傳至CMS區塊的影像，現在從具有不同於店面URL之基本URL的管理員上傳時，會如預期顯示在預覽中。

<!-- ENGCOM-7063-->

* 現在使用REST來新增或更新影像會如預期建立影像縮圖。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [27170](https://github.com/magento/magento2/pull/27170)_. [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* 由產生的影像的自訂屬性 `Block\Product\ImageFactory` 現在可以正確呈現。 以前，由於HTML輸出的錯誤逸出，您無法將自己的自訂屬性新增至屬性標籤。 _由alexander-aleman提交的修正，在提取請求中 [26959](https://github.com/magento/magento2/pull/26959)_. [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* 從iPhone看店面時，影像不再模糊。  _Dmitriy在提取請求中提交的修正 [24743](https://github.com/magento/magento2/pull/24743)_. [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* 店面上的影像現在會回應。 以前，影像高度會扭曲。  _Sean van Zuidam在提取請求中提交的修正 [27041](https://github.com/magento/magento2/pull/27041)_. [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* 現在，當 `Magento_blank` 主題。 _Vasili Burlacu在提取請求中提交的修正 [27497](https://github.com/magento/magento2/pull/27497)_. [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### 匯入/匯出

<!-- MC-25206-->

* 匯入的資料包含 `swatch_image` 儲存檢視索引鍵的值為 `no_selection`. 之前，應用程式擲回此錯誤： `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`. [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* 現在，當您使用 `hide_from_product_page` 在具有多個商店檢視的部署中匯入產品時設定。

<!-- MC-29677-->

* 可自訂選項現在可如預期匯入，當 `row_id` 不等於產品的 `entity_id`. 以前，應用程式在 `row_id` 不等於產品 `entity_id`，導致某些產品無法進口。

<!-- MC-29916-->

* 與可設定產品相關聯的影像現在會在匯入期間正確上傳，並可如預期從產品編輯頁面檢視。

<!-- MC-30304-->

* 已匯出 `.csv` 檔案現在會反映包含現貨或無現貨產品的篩選設定。 以前，無論您選擇哪種庫存設定，應用程式都會導出所有產品。

<!-- MC-30323-->

* 您現在可以使用匯入工作流程的「客戶」和「地址」單一檔案選項，成功匯入或更新客戶。 以前，當您選取此選項時，應用程式不會匯入客戶資料並顯示此錯誤： `Invalid data for insert`.

<!-- MC-30357-->

* 現在，在匯入和更新產品狀態後，會如預期觸發庫存索引器。 以前，庫存索引器沒有為更改的產品庫存資料編製索引。

<!-- MC-30528-->

* 當 `store_view_code` 已指定。 無論您選擇單獨或共同匯入可設定的產品，都能使用此功能。 以前，當匯入檔案包含多個項目和 `store_view_code` 已指定。

<!-- MC-30672-->

* 應用程式現在會在產品匯入期間提供訊息，識別匯入的產品 `.csv` 檔案中有重複的鍵。 商家可以使用此資訊來解決衝突。 之前，應用程式會顯示此錯誤： `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* 當您嘗試從 **系統** > **匯出** 清單。 以前，當您嘗試從此清單中刪除目錄時，應用程式會繼續顯示無法下載的檔案的下載連結，並顯示一條無資訊的錯誤消息。

<!-- MC-29959-->

* 此 `.csv` 匯入期間使用的檔案現在包含可下載產品的正確連結，且格式已正確，可支援匯入和更新可下載產品。

<!-- MC-30189-->

* 應用程式現在已成功匯出 `.csv` 為「替換」設定導入行為時，請選擇以前導出的檔案 `.csv` ，然後按一下 **檢查資料**. 之前，應用程式會顯示此錯誤： `Data validation failed. Please fix the following errors and upload the file again` 和 `Following Error(s) has been occurred during importing process`.

<!-- MC-30141-->

* 現在，在匯入和更新產品狀態後，會如預期觸發庫存索引器。 以前，庫存索引器沒有為更改的產品庫存資料編製索引。

<!-- MC-31198-->

* `.csv` 產品匯入期間產生的檔案現在會如預期般包含可下載產品的群組標題。 以前不需要驗證 `group_title` 在匯入期間，無法顯示可下載產品的群組標題。

<!-- MC-32153-->

* 當 `cron` 啟用，而您使用 **(客戶和地址（單一檔案）)** 選項，應用程式會如預期般填入管理員客戶格線。 客戶格線會在手動重新索引完成時，顯示客戶 `customer_grid indexer`. 以前，應用程式不會使用新匯入的客戶地址更新客戶網格。

<!-- MC-32154-->

* 自動重新索引之後，應用程式現在會如預期顯示客戶清單。 以前雖然手動執行 `bin/magento index:reindex` 在自動重新索引後，客戶網格沒有顯示客戶資訊。

<!-- MC-30148-->

* 應用程式現在會從 `<Magento_home>/var` 產品匯入完成後，即會如預期。

<!-- MC-31879-->

* 當匯入的產品為 `.csv` 檔案。

<!-- ENGCOM-6141-->

* 當匯入的可設定屬性在其值中包含等號(=)時，匯入不再失敗。 _dhoang89在提取請求中提交的修復 [25194](https://github.com/magento/magento2/pull/25194)_. [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* 所有匯出的格線資料(包括Adobe Commerce和自訂資料)現在都有選項標籤，而非所有具有類型的欄的選項值 `Select` 或 `Multiselect`. 以前，在導出此資料時，導出的電子錶格包含帶有ID的列，而不是網格中顯示的值。 _Maksym Novik在提取請求中提交的修正 [26523](https://github.com/magento/magento2/pull/26523)_. [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* 現在，在您透過匯入 `.csv` 檔案。 _Pavel Bystritsky在提取請求中提交的修正 [25664](https://github.com/magento/magento2/pull/25664)_. [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### 索引

<!-- MC-25236 30779-->

* 我們已改善 `indexer_update_all_views`. 現在索引速度更快，不再處理非作用中規則，且快取僅清除已變更產品的項目。

<!-- MC-29917-->

* 店面上的產品價格現在可以準確反映計畫目錄價格規則更新的應用。 以前，在手動重新編列索引(`php bin/magento indexer:reindex catalogrule_rule`)。

<!-- MC-30588-->

* 現在，在新增不可搜尋的屬性(即 `is_searchable`, `is_filterable`, `is_visible_in_advanced_search` 屬性已停用)。

<!-- ENGCOM-6533-->

* 應用程式現在會顯示一條消息，用於標識索引器以及當重新索引操作失敗時索引操作花費的時間。 _Lukasz Bajsarowicz在提取請求中提交的修正 [26207](https://github.com/magento/magento2/pull/26207)_. [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* 儲存於  `onthefly` 索引器和平面表現在啟用時遵守網站指派。 以前，如果您從產品中移除了所有網站指派，然後儲存了該指派，則所有平面表格都會包含該產品，儘管已指定網站指派。  _Abel Truong在提取請求中提交的修正 [27365](https://github.com/magento/magento2/pull/27365)_. [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### 基礎設施

* 不再支援Internet Explorer 11.x瀏覽器。

<!-- MC-32223-->

* 與 **出生日期** 「客戶註冊」表單的欄位不再觸發JavaScript錯誤。

<!-- ENGCOM-7000-->

* 新增整合測試以涵蓋 `$storeId` 類別儲存庫 `get()` 方法。 _Lukasz Bajsarowicz在提取請求中提交的修正 [27048](https://github.com/magento/magento2/pull/27048)_. [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* 啟用 **封鎖所有Cookie** 在Safari中進行設定不再產生JavaScript錯誤，而應用程式會顯示 `cookies disabled` 訊息。 之前，應用程式會顯示多個 `SecurityError (DOM Exception 18): The operation is insecure` 錯誤。 _Rl Verdugo Lorenzo提a̼交的提取請求修正 [25324](https://github.com/magento/magento2/pull/25324)_. [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* 執行整合測試時，應用程式不再擲回此錯誤： `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`. 之前， `AutoloaderRegistry::getAutoloader` 導致整合測試隨機失敗。 _Lukasz Bajsarowicz在提取請求中提交的修正 [26480](https://github.com/magento/magento2/pull/26480)_. [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* 此 `date` 標籤 `/module-sales/view/frontend/templates/order/order_date.phtml`  已更正為 `span`. 之前，應用程式在 `exception.log` 按一下 **檢視順序** 在店面 **我的帳戶** > **我的訂單** 頁面。 _Andrii Chorniy在提取請求中提交的修正 [25895](https://github.com/magento/magento2/pull/25895)_. [GitHub-13269](https://github.com/magento/magento2/issues/13269), [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* 已重構JavaScript mixin模組，以改善進階套件模組的mixin載入和應用。 之前，應用程式不會載入或套用進階套件模組的mixin。  _Mateusz Krzeszowiak在提取請求中提交的修正 [25587](https://github.com/magento/magento2/pull/25587)_. [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* 此 `grunt clean` 命令現在會如預期般清除產生的程式碼和中繼資料資料夾。 _Andrii Beziazychnyi在提取請求中提交的修正 [25765](https://github.com/magento/magento2/pull/25765)_. [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* `getVersion` 結果()`ProductMetadata::getVersion`)現在已快取，可改善的效能 `ProductMetadata::getVersion` 方法。  _Lukasz Lewandowski在提取請求中提交的修復 [26001](https://github.com/magento/magento2/pull/26001)_. [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* 缺少的setter `additional_information` 已新增至 `OrderPaymentInterface`，可解決其架構宣告與接受的屬性之間的不一致。 _提取請求中由Antonino Bonumore提交的修正 [26748](https://github.com/magento/magento2/pull/26748)_. [GitHub-26745](https://github.com/magento/magento2/issues/26745), [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### 分層導覽

<!-- MC-31763-->

* 應用程式現在會轉譯 **是/否** 屬性，當 **在分層導航中使用：可篩選（含結果）** 為storefront屬性啟用。

<!-- ENGCOM-6807-->

* 冗餘 `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` 已過時，以支援  `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`. _Adarsh Manickam在提取請求中提交的修正 [26714](https://github.com/magento/magento2/pull/26714)_. [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### 記錄

<!-- MC-29636-->

* 訂單狀態變更現在會如預期記錄在 **系統** > **動作記錄** > **報表**.

<!-- MC-29637-->

* 應用程式現在會如預期般在「管理動作」記錄中記錄銷售裝運動作。

<!-- MC-29892-->

* CMS頁面儲存動作現在已記錄在管理動作記錄中。 以前只記錄檢視動作。

<!-- MC-30618-->

* 現在，當 **選擇要記錄的所有操作** 在「管理動作記錄」標籤上啟用(**管理** > **商店** > **設定** > **進階**)。

<!-- ENGCOM-7274-->

* CMS頁面修改現在會如預期記錄在動作記錄中。 MFTF現在涵蓋這項功能。  _Lukasz Bajsarowicz在提取請求中提交的修正 [27597](https://github.com/magento/magento2/pull/27597)_. [GitHub-171](https://github.com/magento/magento2/issues/171)

### 媒體集

<!-- ENGCOM-6993-->

* 按一下 **輸入** 現在，在「媒體庫」中命名新資料夾後，會儲存您所做的所有變更。 之前，請按一下 **輸入** 而不是使用滑鼠來選取 **確定** 導致所有更改丟失。  _Sergiy Vasiutynskyi在提取請求中提交的修正 [27029](https://github.com/magento/magento2/pull/27029)_. [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* 您現在可以在「媒體庫」下建立與主資料夾同名的子資料夾。 以前，您無法儲存同名的子資料夾。 _Vadim Malesh在提取請求中提交的修正 [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### 媒體儲存

<!-- MC-32593-->

* `var/resource_config.json` 不再於 `get.php`. 之前，每次呼叫 `get.php`.

### New Relic

<!-- ENGCOM-6461-->

* Adobe Commerce `cron`NewRelic APM監控 — 事務中的事務跟蹤中現在會按預期方式包括作業名稱。 包括 `cron` 從命令行執行的作業以及由標準調度程式執行的作業。  _Lukasz Bajsarowicz在提取請求中提交的修正 [25957](https://github.com/magento/magento2/pull/25957)_. [GitHub-22047](https://github.com/magento/magento2/issues/22047)

### 電子報

<!-- MC-31768-->

* 客戶現在可如預期訂閱電子報。 以前，當客戶嘗試確認其訂閱時，應用程式會顯示此錯誤： `This is an invalid subscription confirmation code`.

<!-- ENGCOM-6525-->

* 任何支援的瀏覽器現在會以相同方式呈現店面頁尾的電子報輸入欄位。  _由divyajyothi5321在提取請求中提交的修正 [26182](https://github.com/magento/magento2/pull/26182)_. [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* 有關電子報訂閱的店面訊息現在可如預期在HTML中呈現。 _Oleh Usik在提取請求中提交的修正 [26455](https://github.com/magento/magento2/pull/26455)_. [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### 訂購

<!-- MC-33456-->

* 當網站顯示指定應排除稅的設定時，訂單匯總小計不再顯示排除的稅。 先前，當多個網站以不同的顯示設定進行設定時，即使有商店層級的設定，伺服器變數中定義的設定仍會用於商店。

### 付款方法

<!-- MC -->

* 第三方支付方法Authorize.Net、eWay、CyberSource、Braintree和Worldpay整合至核心代碼的功能已被移除。 商戶應移轉至Commerce Marketplace上可用的官方擴充功能。

<!-- MC -->

* 不再支援重大欺詐保護的核心實施。 商戶應移轉至 [重大欺詐和拖欠款項保護擴展](https://marketplace.magento.com/signifyd-module-connect.html) 可在Commerce Marketplace中使用。

<!-- MC-32546-->

* 您現在可以成功完成訂單，並在 **Website Payments Pro托管解決方案** 已設定。 先前，當您按一下 **返回至商家**，應用程式擲回此錯誤： `Invalid Form Key. Please refresh the page`.

<!-- ENGCOM-6606-->

* 切換帳單地址不再導致JavaScript函式文字在店面結帳工作流程的付款區段中呈現。 _Chris Pook在提取請求中提交的修正 [26378](https://github.com/magento/magento2/pull/26378)_. [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* 貸項通知單現在會在 **調整退款** 貸項通知單概覽欄位。  _Sergiy Vasiutynskyi在提取請求中提交的修正 [27343](https://github.com/magento/magento2/pull/27343)_. [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* 您現在可以從 `quote_payment column additional_information` 表格。 以前，您在保存報價後無法刪除此資訊，因為 `unsAdditionalInformation` 方法輸入 `\Magento\Payment\Model\Info` 未正確初始化資料。  _Marco Oliveira在提取請求中提交的修正 [26084](https://github.com/magento/magento2/pull/26084)_. [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* 付款指示現在衍生自進行訂單的商店檢視。 以前，付款指示是從預設商店檢視使用，因為 `BeforeOrderPaymentSaveObserver` 方法從預設商店視圖中提取付款指示。 _提取請求中由Karyna Tsymbal提交的修正 [26399](https://github.com/magento/magento2/pull/26399)_. [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* 應用程式現在會收集管理員和發票和發運發票中顯示的付款資訊，這些資訊來自在多個商店的部署中執行訂單的商店。 以前，應用程式從預設儲存中派生的付款資訊。  _由Bartomiej Szubert提交的提取請求修正 [26765](https://github.com/magento/magento2/pull/26765)_. [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### PayPal

<!-- MC-30498-->

* 現在，客戶每次點按時，應用程式都會顯示資訊錯誤訊息 **使用PayPal支付** 在結帳工作流程中輸入無效的發運地址後。 之前，應用程式只會在客戶第一次點按按鈕時顯示錯誤訊息，而不是在後續點按時顯示。

<!-- MC-30639-->

* 應用程式不再將訂單的狀態變更為 `Processing` 當使用PayPal進行的付款失敗時，會顯示在結帳工作流程的「付款審核」區段中。

<!-- MC-30864-->

* 您現在可以使用「付款流連結」付款方法成功完成訂單。 以前，Payflow Link付款方法始終拒絕付款，因為訂單狀態保留在 `Pending` 付款狀態，即使付款方法記錄檔中的訂單狀態為 `Approved`.

<!-- MC-32494-->

* 使用PayPal Payflow Pro下單的現在設定為 `Suspected Fraud` 狀態。

<!-- MC-33110-->

* 您現在可以透過任何支援的信用卡使用「PayPal Express Checkout」。 以前，當您使用PayPal Express Checkout完成訂單時按一下信用卡按鈕時，應用程式掛起，您無法輸入任何信用卡資訊。

<!-- MC-33117-->

* 在PayPal Payflow Pro內下的訂單現在設定為 `Suspected Fraud` 狀態。 以前，在應用程式端進行付款審批之前，PayPal上的付款事務處理狀態未經過驗證。

<!-- MC-33294-->

* 啟用「網站限制」時，Payflow Pro現在可正常運作。

<!-- MC-31196-->

* 現在，應用程式已成功處理使用PayPal Express Checkout下達的訂單，訂單的發運地址指定了客戶在文本欄位中人工輸入的國家/地區，而不是從「發運」頁面的下拉菜單中選擇的。 之前，應用程式會在訂單檢閱頁面上顯示此錯誤： `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`. [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* PayPal Pro付款方法現在可在Chrome 80瀏覽器中正常運作。 此付款方法先前叫用了回呼端點，此端點需要存取客戶工作階段 — 新預設Chrome SameSite Cookie功能不允許的存取。 [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* 啟用永久結帳購物車後，您現在可以成功使用PayPal Express支付訂單，且 **註銷時清除持續性** 設定設為 **no**. 之前，應用程式會將您重新導向至「登入」頁面。

<!-- ENGCOM-6383-->

* 來自Paypal Express和Web Payments Pro的付款現在移至 `Processing` 開始處理後狀態如預期。 以前，Paypal Web Payments Pro Payments仍保留在 `Pending` 付款狀態，即使付款資訊處於 `Processing` 狀態。 _Azambon在提取請求中提交的修正 [25876](https://github.com/magento/magento2/pull/25876)_. [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### 效能

<!-- MC-31499-->

* 改善客戶資料區段失效邏輯。 此版本推出新方式，可讓所有客戶區段資料失效，避免自訂時本機儲存的已知問題 `sections.xml` 無效判定處於活動狀態。 (先前，當您有自訂內容時，私人內容（本機儲存）未正確填入 *etc/frontend/sections.xml* 動作無效。) 請參閱 [私人內容](https://developer.adobe.com/commerce/php/development/cache/page/private-content/#invalidate-private-content).

<!-- MC-31449-->

* 已重構客戶帳戶的匯入，以改善匯入速度。

<!-- MC-23383 ENGCOM-7006-->

* 商戶現在可以使用 [延遲載入](https://en.wikipedia.org/wiki/Lazy_loading) 載入影像。 _提取請求中由Timon de Groot提交的修正 [27033](https://github.com/magento/magento2/pull/27033)_. [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* 控制面板圖表已移轉至 `chart.js` 程式庫。  _由Bartomiej Szubert提交的提取請求修正 [26923](https://github.com/magento/magento2/pull/26923). [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* 在包含許多產品屬性的大型目錄上執行的作業效能(規模為3,000 - 23000個選項)，已透過重構屬性選項陣列的方式而得到改善。 _由Behnam Shayani在提取請求中提交的修正 [25452](https://github.com/magento/magento2/pull/25452)_. [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### 定價

<!-- ENGCOM-6647-->

* 現在，即使您已多次編輯產品，應用程式仍可保存並顯示分層產品的正確價格。 之前，應用程式不會儲存對產品價格所做的最後編輯。 _拉維·錢德拉在提取請求中提交的修正 [26162](https://github.com/magento/magento2/pull/26162)_. [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* 現在，固定和折扣儲存百分比都可正確套用至訂單的最終價格。 之前，應用程式在產品詳細資料頁面上顯示錯誤的層級價格（固定和折扣）儲存百分比。 _由Sathish Subramanian在提取請求中提交的修正 [26584](https://github.com/magento/magento2/pull/26584)_. [GitHub-26583](https://github.com/magento/magento2/issues/26583)

### 產品警報

<!-- MC-30255-->

* 傳送給客戶的關於可設定產品重新庫存的庫存警報電子郵件現在包含正確的產品價格。 以前，此電子郵件的產品價格為0。

<!-- MC-32873-->

* 使用者的工作階段過期時，產品庫存警報現在可以取消訂閱。 之前，當您按一下 **按一下這裡以停止此產品的警報** 連結，應用程式顯示404錯誤。

<!-- MC-31979-->

* 產品警報的取消訂閱動作現在可如運期般運作。 之前，當客戶點按 **按一下這裡以停止此產品的警報** 連結，應用程式顯示404錯誤。

### 產品影片

<!-- MC-23743-->

* 您現在可以使用REST來更新YouTube影片(PUT `rest/V1/products/{SKU}`)。 之前，應用程式會顯示視訊的縮圖，但當您按一下 **播放** 按鈕。 [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### 報表

<!-- ENGCOM-6635-->

* 產品清單現在可依SKU訂購可設定產品，可依變數將可設定產品分組。 以前，報表會依 `product_id`. _Lukasz Bajsarowicz在提取請求中提交的修正 [25858](https://github.com/magento/magento2/pull/25858)_. [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* 此 **管理** > **報表** > **刷新統計資訊** 現在已顯示表格 **更新時間= Null** 狀態為 **從不** 在 **已更新** 欄而非 **未定義**. _由Eden Duong在提取請求中提交的修正 [25932](https://github.com/magento/magento2/pull/25932)_. [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* 「低庫存」報表不再包含已停用的產品。 _Mohamed-Asar在提取請求中提交的修正 [26862](https://github.com/magento/magento2/pull/26862)_. [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* 應用程式現在會顯示 **年初至今開始**  欄位 **管理**  >  **商店**  >  **設定**  >  **一般**  >  **報表**. _由Priya-V-Panchal提交的修正提取請求 [27088](https://github.com/magento/magento2/pull/27088)_. [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### 退貨授權(RMA)

<!-- MC-24906-->

* 從店面成功建立訂單和RMA時，應用程式不再顯示錯誤。 以前，應用程式按預期建立了RMA，但也顯示了以下錯誤：  `We can't create a return right now. Please try again later`.

<!-- MC-30181-->

* 店面訂單中包含的追蹤連結現在可如預期般運作。 以前，當客戶按一下訂單退貨頁面上的裝運追蹤連結時，應用程式會顯示此錯誤： `PHP Fatal error: Uncaught Error: Call to a member function getTitle() on null in /app/z7kvt3uys6daq/var/view_preprocessed/pub/static/vendor/magento/module-shipping/view/frontend/templates/tracking/details.phtml:1`.

<!-- MC-30237-->

* 從管理員建立訂單傳回後，「傳回」索引標籤現在會如預期般顯示。

<!-- MC-34150-->

* 已從RMA電子郵件模板中刪除不必要的字串(`app/code/Magento/Rma/view/frontend/email/new.html`)。

### 評論

<!-- MC-29578-->

* 應用程式現在會停用 **提交審核** 按鈕。 之前，應用程式在第一次點按後並未停用此按鈕，而是在使用者點按 **提交審核** 按鈕多次。

<!-- MC-31293-->

* 此 **管理** > **報表** > **評論** > **按產品** 篩選清單現在會如預期般顯示結果。 以前，當您嘗試篩選此清單時，應用程式未顯示任何結果。

<!-- ENGCOM-6938-->

* 「待審」菜單項現在按預期在 **管理** >  **行銷** > **使用者內容** > **待審**.  _Ravinder在提取請求中提交的修正 [26230](https://github.com/magento/magento2/pull/26230)_. [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### 獎勵

<!-- MC-31459-->

* 現在，當訂單退回到在多商店環境中運行的商店時，應用程式將按照預期退款獎勵點，在多商店環境中，每個商店設定不同的獎勵點率。 以前，對於使用獎勵積分購買的退貨單，申請沒有如預期的退款點數。

### 銷售

<!-- MC-29426-->

* 已完成的訂單現在會同時顯示在付款系統和Adobe Commerce中。 之前，訂單會出現在付款系統中，但不會出現在Adobe Commerce。 [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* 此應用程式現在會遵照客戶的預設發運地址。 以前，應用程式不會根據設定和 **與帳單地址相同** 未自動啟用設定。

<!-- MC-30299-->

* 現在，應用產品將正確計算包含折扣的訂單的退款。 以前，申請不正確地計算了運費和運費折扣，而退款總額與已付總額不匹配。

<!-- MC-33165-->

* 現在，當新客戶在多網站部署中建立訂單時，應用程式會指派正確的群組ID。 之前，應用程式會套用預設客戶群組的設定。

<!-- MC-31786-->

* 具有限制權限（包括查看貸項通知單、發票和發運的權限）的管理員現在可以按預期從「訂單」頁查看發票和發運。 以前，當受限制的管理員嘗試查看訂單時，應用程式顯示以下錯誤： `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- MC-24023-->

* 當客戶將產品數量新增至購物車時，如果該產品數量超過現有產品庫存的一半，但未超過總庫存，則應用程式不再顯示錯誤。 以前，在這些情況下，應用程式會顯示此錯誤： `The requested qty is not available`. [Github-24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* 現在，當存貨量為1時，您可以從管理員成功將產品新增至購物車。 之前，應用程式未將產品新增至購物車，並顯示以下訊息： `The requested qty is not available`. _Serhii Petrychenko在提取請求中提交的修正 [26650](https://github.com/magento/magento2/pull/26650)._ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* 當商店管理員嘗試重新訂購自訂選項的名稱超過字元數上限的產品時，應用程式現在會顯示資訊錯誤訊息。 以前，在這些條件下，應用程式會顯示「報表」頁面，而非訊息。 _Mudit Shukla在提取請求中提交的修正 [26348](https://github.com/magento/magento2/pull/26348)_. [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* 已重構銷售訂單地址資訊編輯表單的佈局，以符合管理表單庫慣例。 _Alexey Rakitin在提取請求中提交的修正 [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* 的「產品」區段上的核取方塊 **目錄** > **類別** 頁面現在可如預期般運作。  _Denis Kopylov在提取請求中提交的修正 [22990](https://github.com/magento/magento2/pull/22990)_. [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* 此 `getCustomer` 方法現在會依照 `phpdoc` 封鎖。 之前，此方法會傳回 `NULL`，和 `phpdoc` 區塊未反白標示此方法可能會傳回 `NULL`. _Fanis Strezos在提取請求中提交的修正 [26423](https://github.com/magento/magento2/pull/26423)_. [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* 現在，當商家停用  **管理** > **商店**  >  **設定**  >  **銷售**  >  **重新排序**  >  **允許訂單**.  _由Eden Duong在提取請求中提交的修正 [26051](https://github.com/magento/magento2/pull/26051)_. [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* `getPrice()` 在「管理員」中設定訂單的自訂價格時，方法現在會傳回float或null，而非字串。  _Andrii Chorniy在提取請求中提交的修正 [26313](https://github.com/magento/magento2/pull/26313)_. [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* 此 **狀態代碼和標題** 欄 **管理** > **商店**  >設定>  **訂單狀態** 現在會如預期顯示狀態，而非狀態。  _Oleh Usik在提取請求中提交的修正 [26569](https://github.com/magento/magento2/pull/26569)_. [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* PDF發票現在會在GB地區設定中建立時，擷取正確的購買日期。 _由Eden Duong在提取請求中提交的修正 [26701](https://github.com/magento/magento2/pull/26701)_. [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### 銷售規則

<!-- MC-30155-->

* `quote_item.applied_rule_ids` 現在會在停用購物車價格規則後，如預期般更新。 [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* 當您嘗試建立或編輯購物車價格規則時，應用程式現在會如預期顯示類別樹。 之前，在建立或編輯規則時在「條件」區段中選取類別會導致JavaScript錯誤。

<!-- ENGCOM-6824-->

* 當可設定產品首次新增至購物車時，應用程式現在會使用購物車價格規則，正確計算購物車層級的固定折扣。 _Lachlan Turner在提取請求中提交的修正 [26623](https://github.com/magento/magento2/pull/26623)_. [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### 搜尋 {#search-heading}

* Elasticsearch7.6.x現在是Adobe Commerce和Adobe Commerce的預設目錄搜尋引擎。 若不安裝Elasticsearch7.6.x，則無法安裝或升級至2.4.0版。Elasticsearch2.x版程式碼已移除。 Elasticsearch5.x和6.x版已淘汰，不再支援。 請參閱 [搜尋引擎必要條件](../../../installation/prerequisites/search-engine/overview.md).

<!-- MC-23753-->

* 應用程式現在會轉譯 **&lt;** 和 **>** 符號。

<!-- MC-25010-->

* 執行後，產品現在會在類別中如預期顯示 `cron:run` 在部署中實作Elasticsearch。

<!-- MC-25254-->

* 此應用程式不再需要完整的搜尋重新索引，以便在店面上搜尋新產品屬性。

<!-- MC-29545-->

* 現在當您依字母順序排列產品名稱來排序包含套件產品的產品清單時，Elasticsearch會如預期般運作。

<!-- MC-29951-->

* 當您篩選類別中的可設定產品時，篩選結果不再包含無存貨選項。

<!-- MC-30131-->

* 使用Elasticsearch從產品清單頁面選取所有產品，現在會如預期般顯示搜尋結果中的所有產品。 以前，應用程式未顯示搜索結果。

<!-- MC-30201-->

* Elasticsearch現在可在您變更每頁檢視的搜尋結果數量時，正確顯示類別頁面的結果。 以前，當您更改了搜索結果頁面上應顯示多少搜索結果時，應用程式將顯示一個空白頁面，並出現以下錯誤： `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* 價格排序現在可正確用於無存貨的可設定產品。

<!-- MC-25176-->

* 當客戶在多網站部署中使用店面快速搜尋時，應用程式不再擲回例外狀況。

<!-- ENGCOM-6842-->

* 當商家按一下頁尾上的「搜尋詞」選項來開啟搜尋詞頁面時，應用程式不再顯示警告 **行銷** > **SEO與搜尋** > **搜尋詞**.  _由vishal-webkul在提取請求中提交的修正 [25246](https://github.com/magento/magento2/pull/25246)_. [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* 在行動檢視中執行Safari時，當您按一下搜尋輸入方塊時，應用程式不再調整檢視區大小。  _Pawe Tylek在提取請求中提交的修正 [27603](https://github.com/magento/magento2/pull/27603). [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Elasticsearch版本現在以X.x標籤法來識別，而非在「管理員」中以X.0+標籤法(**商店** >設定> **設定** > **目錄** > **目錄** > **目錄搜尋**)。 _由Andreas Mautz提交的提取請求修正 [25838](https://github.com/magento/magento2/pull/25838)_. [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### 裝運

<!-- MC-32782-->

* 如果訂購的產品之一是虛擬產品，您現在可以將訂單發運至多個地址。 以前，應用程式已成功為物理產品下訂單，但虛擬產品訂單為空。

<!-- MC-29276-->

* 現在，應用產品可正確套用固定金額的整車折扣，以處理要發運至多個地址的訂單。 以前，當客戶使用「結帳並多個地址」簽出訂單時，會多次套用此類折扣。 [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* 建立購物車價格規則期間，下拉式清單可供選取運送方法，現在僅包含有效值。 以前，此下拉式清單包含空白或額外的值。

<!-- MC-30186-->

* 此應用程式現在會將運送標籤列印為 `.pdf` 檔案 **打印發運標籤** 從「動作」下拉式清單中，依順序封存清單。 之前，應用程式會顯示404錯誤。

<!-- MC-31396-->

* 現在，當購物車包含「免運費價格」規則所包含類別的產品以及規則中未包含類別的產品時，「免運費價格」規則只會影響相關產品。 以前，當購物車同時包含免運費類別以及價格規則中未包含的其他類別的產品時，免運費不會套用至任何產品。

<!-- ENGCOM-6436-->

* 應用程式不再顯示空白頁面，而是在下拉式/多選方塊中顯示所有運送承運商。 之前， `toOptionArray` 函式 `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php` 已發生。 _Marc Rodriguez在提取請求中提交的修正 [25315](https://github.com/magento/magento2/pull/25315)_. [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* 當客戶建立將發運至多個地址的訂單時，應用產品不再多次應用固定金額折扣。  _Mahesh Singh在提取請求中提交的修正 [26419](https://github.com/magento/magento2/pull/26419)_. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* 外掛程式 `Magento\Ups\Model\Carrier` 實作自訂 `di.xml` 現在可在開發人員模式中正常運作。 之前，應用程式擲回此錯誤： `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`. _由Bartomiej Szubert提交的提取請求修正 [26130](https://github.com/magento/magento2/pull/26130)_. [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### Sitemap

<!-- MC-29362-->

* 現在，當您產生Sitemap時，應用程式會如預期般使用專案基礎URL。

<!-- ENGCOM-6670-->

* 產生的網站地圖現在包含首頁的URL。 _由deepaksnair在提取請求中提交的修正 [26445](https://github.com/magento/magento2/pull/26445)_. [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### 測試

<!-- MC-32342-->

* 現在，只有在多網站部署中才能限制存取一個網站的管理員，可以預覽該網站的排程更新。 之前，測試預覽預設使用預設存放區，而如果使用者沒有預設存放區的存取權，應用程式會擲回例外狀況。

<!-- MC-32736-->

* 編輯現有排程不再產生重複的排程。 以前，當您編輯現有排程時，應用程式會加以複製，而當您嘗試開啟重複排程時，應用程式擲回錯誤。

<!-- MC-32432-->

* 針對其中一或多項產品建立「排程更新」後，交叉銷售產品現在會如預期顯示在「檢視」和「編輯購物車」頁面上。

### 商店

<!-- MC-25187-->

* 現在，當客戶登入一個商店、將產品新增至購物車，然後在多商店部署中切換至新商店時，客戶工作階段會如預期持續存在。 以前，當客戶導覽至第二家商店時，應用程式將客戶登出並清空購物車。

<!-- ENGCOM-4781-->

* 應用程式現在會從 `sale_sequence_meta` 和 `sales_sequence_profile` 表格。 _由Bartomiej Szubert提交的提取請求修正 [22296](https://github.com/magento/magento2/pull/22296)_. [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* 在具有不同基本URL的商店之間切換時，商店切換器現在可如預期運作。 以前，當客戶使用商店切換器在商店之間切換時，如果目標商店的基本URL與目前商店不同，則請求會失敗。 _Tobias Nilsson在提取請求中提交的修正 [26548](https://github.com/magento/magento2/pull/26548)_. [GitHub-23755](https://github.com/magento/magento2/issues/23755), [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### 色票

<!-- MC-30294-->

* 商家現在可以使用 **視覺色票** 選項 **商店** > **屬性** > **產品** > **新屬性**. 之前，當您嘗試開啟新建立的色票屬性時，會觸發JavaScript錯誤。

<!-- ENGCOM-6750-->

* 當客戶為可設定產品選取新色票選項時，「最低廣告價格」現在會如預期般變更。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [26241](https://github.com/magento/magento2/pull/26241)_. [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* 當您選擇新的色票選項時，應用程式不再複製可配置產品的「最低廣告價格」。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [26317](https://github.com/magento/magento2/pull/26317)_. [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* 修正「新產品屬性」頁面「管理色票（屬性值）」區域中下拉式選單的行為問題。  _Oleh Usik在提取請求中提交的修正 [26090](https://github.com/magento/magento2/pull/26090)_. [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### TargetRule

<!-- MC-31546-->

* 在店面上顯示的產品相關產品區塊現在會顯示符合「相關產品規則」中定義之條件的產品。 之前，應用程式未顯示任何相關產品。

### 稅

<!-- MC-29579-->

* 現在，當客戶在結帳期間更改訂單的目的地國家時，應用程式會如預期更新運費和價格。

<!-- MC-30546-->

* 現在可根據適用的購物車價格規則，如預期般套用免運費。 以前，在計算訂單是否符合免運費標準時，購物車價格規則沒有考慮稅。

<!-- MC-32402-->

* 當您編輯並儲存 `NOT LOGGED IN` 客戶群組。

### 測試

>[!NOTE]
>
>**MFTF現在使用Google Authenticator執行已啟用2FA的測試。 若沒有啟用Google Authenticator的其他配置步驟，MFTF將無法與2.4.0搭配使用**. 請參閱 [為雙因素身份驗證(2FA)配置MFTF](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html#magento-functional-testing-framework).

<!-- ENGCOM-6585-->

* 測試和動作群組中的硬式編碼URL已取代為頁面參考。 _Lukaz Bajsarowicz在私人存放庫合作夥伴 — magento2ee的提取請求117中提交的修正_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* 測試現在涵蓋記錄與CMS頁面相關的管理動作。 _Lukaz Bajsarowicz在私人存放庫合作夥伴 — magento2ee的提取請求172中提交的修正_. [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* 已修訂無效的功能測試名稱，以遵循最佳實務。 _Lukasz Bajsarowicz在提取請求中提交的修正 [27118](https://github.com/magento/magento2/pull/27118) 和提取私人存放庫合作夥伴中的請求151 - magento2ee。 [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* Adobe Commerce `cron` 現在會在建立測試資料後用於重新索引，並在適用時， `cache:flush config` 取代 `cache:flush`. _Lukasz Bajsarowicz在提取請求中提交的修正 [26990](https://github.com/magento/magento2/pull/26990)_. [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* 接受測試現在遵循的命名慣例 `Magento/Indexer` 和 `Magento/Backup` 模組。  _提取請求中由Shankar Konar提交的修正 [27515](https://github.com/magento/magento2/pull/27515)_. [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* 此 `AdminReorderWithCatalogPrice` 已重構測試，且在CI驗證程式期間不再失敗。 _Lukaz Bajsarowicz在私人存放庫合作夥伴 — magento2ee的提取請求135中提交的修正_. [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* 此 `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct` 和 `StorefrontApplyPromoCodeDuringCheckout` 已重構測試，且在CI驗證程式期間不再失敗。 _Lukasz Bajsarowicz在提取請求中提交的修正 [26611](https://github.com/magento/magento2/pull/26611) 和提取請求 [26614](https://github.com/magento/magento2/pull/26614)_. [GitHub-26612](https://github.com/magento/magento2/issues/26612), [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* 此 `DeleteProduct and DeleteCustomer Action Groups` 已重構測試，且在CI驗證程式期間不再失敗。 _Lukasz Bajsarowicz在提取請求中提交的修正 [26407](https://github.com/magento/magento2/pull/26407)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* 此 `AdminMoveAnchoredCategoryTest.xml` 已重構測試，且在CI驗證程式期間不再失敗。 _Lukasz Bajsarowicz在提取請求中提交的修正 [26395](https://github.com/magento/magento2/pull/26395)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### 整合測試

<!-- ENGCOM-7143-->

* 整合測試中的連續請求不再失敗。 以前，測試失敗，因為請求對象在派單之間共用。 此 `resetRequest` 方法現在會清空 `request`. _Lukasz Bajsarowicz在提取請求中提交的修正 [27300](https://github.com/magento/magento2/pull/27300)_. [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* 為 `Magento_Customer` 電子郵件功能。 _Lukasz Bajsarowicz在提取請求中提交的修正 [27606](https://github.com/magento/magento2/pull/27606)_. [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### PHP單元測試

<!-- ENGCOM-7435 7306-->

* PHP單元測試不再引發此致命錯誤： `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`. _由Lukaz Bajsarowicz在提取請求中提交的修正178，位於私人存放庫合作夥伴 — magento2ee和 [27701](https://github.com/magento/magento2/pull/27701)_. [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* 的測試 `Offline_Payments` 現在與PHPUnit 8相容。  _由Cristiano Pacheco提交的修正提取請求 [27627](https://github.com/magento/magento2/pull/27627)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* 的單元測試 `Framework`, `AdminAnalytics`, `AdminNotification`，和 `AMPQ` 已針對PHPUnit 8更新。 _Ihor Sviziev在提取請求中提交的修正 [27522](https://github.com/magento/magento2/pull/27522), [27521](https://github.com/magento/magento2/pull/27521), [27519](https://github.com/magento/magento2/pull/27519), [27522](https://github.com/magento/magento2/pull/27522)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* 您現在可以執行 `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` 未連接到網際網路的單元測試。  _由aleromano89在提取請求中提交的修正 [26264](https://github.com/magento/magento2/pull/26264)_. [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* 為添加單元測試 `app/code/Magento/Fedex/Model/Source/Generic.php`. _由Sathish Subramanian在提取請求中提交的修正 [26549](https://github.com/magento/magento2/pull/26549)_.

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` 已新增至多個測試，而會觸發部分重新索引。 這項變更可解決在涵蓋的功能測試中建立偽負值的問題 `Magento_Bundle`, `CatalogImportExport`, `CatalogInventory`, `CatalogRule`, `Backend`, `Braintree`，和 `Captcha`. _Lukasz Bajsarowicz在提取請求中提交的修正 [27322](https://github.com/magento/magento2/pull/27322), [27323](https://github.com/magento/magento2/pull/27323), [27321](https://github.com/magento/magento2/pull/27321)_. [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* 所有不正確的使用 `<amOnPage>` 已更換為適當 `<actionGroup>` 若適用於測試，管理員會登出。 _Lukaz Bajsarowicz在私人存放庫合作夥伴 — magento2ee的提取請求116中提交的修正_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* 已將測試中的每個操作組移至單獨的檔案，以遵循MFTF最佳做法，並且已修訂不一致的檔案名。 下列模組的測試已受到影響：

   * module-catalog-permissions
   * module-shared-catalog
   * module-catalog-event
   * 模組橫幅
   * module-admin-gws
   * module-advanced-checkout
   * 模組裝運
   * module-ui
   * 模組裝運
   * module-checkout-address-search
   * 模組銷售
   * 模組目錄
   * module-catalog-rule-staging
   * 模組 — 可視化商品商
   * 模組 — 客戶

   _Lukasz Bajsarowicz在提取請求中提交的修正 [25800](https://github.com/magento/magento2/pull/25800), [26323](https://github.com/magento/magento2/pull/26323), [26321](https://github.com/magento/magento2/pull/26321), [26320](https://github.com/magento/magento2/pull/26320), [26319](https://github.com/magento/magento2/pull/26319), [26322](https://github.com/magento/magento2/pull/26322), [25828](https://github.com/magento/magento2/pull/25828), [26329](https://github.com/magento/magento2/pull/26329) （和私人存放庫合作夥伴 — magento2ee中的提取請求104、105、106、107、108、109、111、119、120、121）_. [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### 主題

<!-- MC-29804-->

* 我們已解決 `JsFooterPlugin.php` 會影響動態區塊的顯示。 之前，當您直接存取 `/banner/ajax/load/url`: `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`.

<!-- ENGCOM-6708-->

* 此 `i18n` 方法提供將字串添加到底線模板的功能。  _Sergiy Vasiutynskyi在提取請求中提交的修正 [26435](https://github.com/magento/magento2/pull/26435)_. [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* 此 `section-config` 模組已重構。 此重構已減少因第三方模組提出POST請求或直接在模組初始化之前請求客戶資料而造成的錯誤 `data-mage-init`. _Mateusz Krzeszowiak在提取請求中提交的修正 [25764](https://github.com/magento/magento2/pull/25764)_. [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* `LoadCssAsync` HTML格式錯誤已修正。 _由Sathish Subramanian在提取請求中提交的修正 [26764](https://github.com/magento/magento2/pull/26764)_. [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* 建立 `default.xml` 和 `catalog_product_view.xml` 檔案作為建立新主題的一部分，應用程式會按預期建立這些頁面或在日誌檔案中記錄錯誤。 之前，應用程式會將錯誤記錄在 `vendor/magento/framework/View/Page/Config/Renderer.php` 檔案。 _Vinh Le在提取請求中提交的修正 [27026](https://github.com/magento/magento2/pull/27026)_. [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### 翻譯和地區設定

<!-- MC-24186-->

* 內嵌翻譯現在可如預期般在店面上運作，當 **管理** > **商店** > **設定** > **進階** > **開發人員** > **轉換內嵌** > **為Storefront啟用** 已設定。

<!-- MC-31663-->

* 為店面啟用內嵌翻譯後，現在可正常運作。

<!-- ENGCOM-7064-->

* 產品URL金鑰現在如預期般音譯。 _DanieliMi在提取請求中提交的修正 [26506](https://github.com/magento/magento2/pull/26506)_. [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* 此 `es_US Spanish (United States)` 現在支援地區設定。 _Vinh Le在提取請求中提交的修正 [26857](https://github.com/magento/magento2/pull/26857)_. [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* 數值預留位置計數與JavaScript程式碼預留位置計數現在相同。 以前，JavaScript程式碼假設為0%，而數值預留位置計數以%1開頭。  _由korostii在提取請求中提交的修正 [25359](https://github.com/magento/magento2/pull/25359)_. [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* 您現在可以停用「產品詳細資料」頁面頁面標題的翻譯(`page.main.title`)，預設為啟用。 _由Bartomiej Szubert提交的提取請求修正 [26269](https://github.com/magento/magento2/pull/26269)_. [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* 已解決發票PDF中阿拉伯文和希伯來文轉譯的問題。 _Ihor Sviziev在提取請求中提交的修正 [27887](https://github.com/magento/magento2/pull/27887)_. [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* 語言套件繼承順序現在會依照預期並以第一份列出、首次使用的方式套用，如檔案所述。  _Sergiy Vasiutynskyi在提取請求中提交的修正 [26420](https://github.com/magento/magento2/pull/26420)_. [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* 現在，當您在僅支援拉丁字母的語言環境中為資料夾名稱輸入非拉丁字元時，應用程式會顯示此錯誤消息： `Please rename the folder using only Latin letters, numbers, underscores and dashes`. _由Eden Duong在提取請求中提交的修正 [25904](https://github.com/magento/magento2/pull/25904). [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* 長度 `locale` 欄 `directory_country_region_name` 已從8增加到16，以支援以下語言設定：  `zh_Hans_CN`. _由Bartomiej Szubert提交的提取請求修正 [26268](https://github.com/magento/magento2/pull/26268)_. [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### UI

<!-- MC-32547-->

* 您現在可以使用頁面產生器來新增產品作為按鈕連結(**編輯內容** > **按鈕連結**)。 之前，當您嘗試選取產品時，應用程式會擲出此錯誤： `Product with ID: XXXX doesn't exist`.

<!-- ENGCOM-7490-->

* 「上一步」按鈕現在可如預期般從 **管理** > **商店** > **訂單狀態** > **編輯訂單狀態**. _Vadim Malesh在提取請求中提交的修正 [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* 使用方向鍵移動 **檔案名** 欄位。 _Adarsh Manickam在提取請求中提交的修正 [25991](https://github.com/magento/magento2/pull/25991)_. [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* 此 **密碼**  欄位，在 **管理** > **系統** > **整合** 頁面現在會如預期繼承樣式。 _由Eduard Chitoraga在提取請求中提交的修正 [25918](https://github.com/magento/magento2/pull/25918)_. [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* 經JavaScript驗證器在店面驗證的輸入，也會在管理員上通過驗證。 之前，JavScript驗證器會將新行計為店面上的單一字元，但在伺服器端， `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` 將新行計為兩個字元。 _Grzegorz Bogusz在提取請求中提交的修正 [26033](https://github.com/magento/magento2/pull/26033)_. [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* 此 `subTitle` 當您使用 `setTitle()` 呼叫。 以前，當您嘗試建立含有標題和副標題的快顯視窗或自訂強制回應時，會以 `setTitle()` 方法， `subTitle` 被抹去了。 _Andrea Parmeggiani在提取請求中提交的修正 [26142](https://github.com/magento/magento2/pull/26142)_. [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* 「管理行銷」標籤中的子功能表現在會自動調整為預期的功能表項目長度。  您現在也可以水準捲動。  _Paweł Tylek在提取請求中提交的修正 [26034](https://github.com/magento/magento2/pull/26034)_. [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* 表格 `quote`  欄 `customer_note` 現在使用類型 `text` 如預期。 之前，它使用類型 `varchar(255)`. _拉維·錢德拉在提取請求中提交的修正 [26160](https://github.com/magento/magento2/pull/26160)_. [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* 修正 **我的帳戶**  > **通訊簿**  地址條目表。  _由Abrar Pathan在提取請求中提交的修正 [27336](https://github.com/magento/magento2/pull/27336)_. [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* 「分層導覽價格步驟」中使用的貨幣符號現在以預期的預設設定為基礎。  _由Bartomiej Szubert提交的提取請求修正 [24815](https://github.com/magento/magento2/pull/24815)_. [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* 白俄羅斯貨幣(BYR)的符號已更新為BYN。 _由Bartomiej Szubert提交的提取請求修正 [25723](https://github.com/magento/magento2/pull/25723)_. [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* 「目錄」頁面的「比較產品」區段現在如預期般顯示在解析度小於767px的顯示器上，行動檢視會如預期般顯示。 _Hitesh在提取請求中提交的修正 [26418](https://github.com/magento/magento2/pull/26418)_. [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* 現在，在行動檢視中捲動產品頁面的功能可如預期運作。  _Mateusz Krzeszowiak在提取請求中提交的修正 [25385](https://github.com/magento/magento2/pull/25385)_. [GitHub-10518](https://github.com/magento/magento2/issues/10518), [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* 您現在可以如預期般捲動至行動檢視中產品頁面上的圖庫縮圖影像。 _Girchak在提取請求中提交的修正 [25839](https://github.com/magento/magento2/pull/25839)_. [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* 按一下主題標題 **管理**  > **內容** > **主題** 不再產生重複記錄。 _由Eden Duong在提取請求中提交的修正 [25926](https://github.com/magento/magento2/pull/25926)_. [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* 已重構「管理員帳單地址/運送地址」頁面的配置，以符合管理員表單的顯示慣例。 _Alexey Rakitin在提取請求中提交的修正 [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-23481](https://github.com/magento/magento2/issues/23481), [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* 產品詳細資料頁面上的「新增至比較」連結，現在可在解析度低於640像素的顯示器上，於行動檢視中正確轉譯。 _Pawe Tylek在提取請求中提交的修正 [26424](https://github.com/magento/magento2/pull/26424) 和提取請求的特賈什·昆巴雷 [26365](https://github.com/magento/magento2/pull/26365)_. [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* 此 **排序依據** 標籤不再與 **購物者** 按鈕（在行動檢視的類別頁面上）。 _Andrii Kartavtsev在提取請求中提交的修正 [26381](https://github.com/magento/magento2/pull/26381)_. [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* 您現在可以啟用  **使用預設值** 核取方塊。 _Abel Truong在提取請求中提交的修正 [27295](https://github.com/magento/magento2/pull/27295)_. [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* 修正 **更新** 按鈕和 **數量** 迷你車上的欄位。  _Hitesh在提取請求中提交的修正 [26234](https://github.com/magento/magento2/pull/26234)_. [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* 「通訊簿」頁上「附加地址條目」表的底邊框顏色現在匹配 `thead` 和 `tbody` 邊框顏色。 _提取請求中由Tejash Kumbhare提交的修正 [26649](https://github.com/magento/magento2/pull/26649)_. [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* 當使用者點按強制回應覆蓋圖時，提示模組不再執行確認動作。 _Serhiy Zhovnir在提取請求中提交的修正 [27399](https://github.com/magento/magento2/pull/27399)_.

### URL

<!-- ENGCOM-7112-->

* 類別存放庫（儲存方法）已重構，先前在變更類別URL金鑰時，無法建立唯一路徑。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [27304](https://github.com/magento/magento2/pull/27304)_. [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* 類別URL索引鍵邏輯的驗證已改善。 _Sergiy Vasiutynskyi在提取請求中提交的修正 [27412](https://github.com/magento/magento2/pull/27412)_. [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### URL重新寫入

<!-- MC-31147-->

* 在CMS頁面上變更語言的客戶現在可以成功導覽至所選的商店檢視。 之前，應用程式會顯示404錯誤。

<!-- ENGCOM-6997-->

* 您已啟用類別路徑包含的產品URL的URL重新寫入產生現在可如預期運作。 以前，在具有多個商店檢視的部署中，應用程式有時會使用類別url路徑的預設值（而非商店檢視專用的URL路徑）來產生錯誤的URL重新寫入。 _Pieter Hoste在提取請求中提交的修正 [26784](https://github.com/magento/magento2/pull/26784)_. [GitHub-25124](https://github.com/magento/magento2/issues/25124), [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* 我們已新增檢查，以在要求路徑與目標路徑相同時防止URL重新導向。 _由Bartomiej Szubert提交的提取請求修正 [26902](https://github.com/magento/magento2/pull/26902)_. [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* 當URL具有尾端斜線時，URL重寫操作不再從URL中移除查詢字串。  _Alexey Arendarenko在提取請求中提交的修正 [25603](https://github.com/magento/magento2/pull/25603)_. [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### 增值稅

<!-- ENGCOM-7458-->

* 更正 [歐盟增值稅編號](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl).  _Shikha Mishra在提取請求中提交的修正 [27886](https://github.com/magento/magento2/pull/27886)_. [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### Visual Stulder

<!-- MC-31136-->

* 現在，當您將產品拖放到新位置時，編輯類別頁面會如預期般運作。 以前，拖放任何類別頁面上的產品會將檢視視窗重新定位在頁面頂端。

### Web API架構

<!-- MC-29891-->

* 修正POST的問題 `/rest/default/async/bulk/V1/orders` 呼叫。

<!-- MC-30675-->

* 修正POST的問題 `/rest/default/async/bulk/V1/products` 呼叫。

<!-- ENGCOM-6945-->

* 此 `getList` 已重構方法以擷取 `is_subscribed` 擴充功能屬性。 以前，您透過API擷取客戶實體時無法擷取此屬性。 _提取請求中由enriquei4提交的修正 [25311](https://github.com/magento/magento2/pull/25311)_. [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* 透過 `/V1/customers/:id` 不再重設 `group_id` 毫無必要。 以前，當您透過REST更新客戶時，如果內文不包含客戶群組，則客戶群組已變更為1。 _由MaxRomanov4669在提取請求中提交的修正 [25958](https://github.com/magento/magento2/pull/25958)_. [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* 在Web API中使用時，服務合約中可為空的getter不再引發反射錯誤。 可傳回null和有效類型的方法現在也可正常運作，無論順序為何。  _Marco Pcke在提取請求k̦中提交的修正 [25806](https://github.com/magento/magento2/pull/25806)_. [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* 您現在可以使用POST `/V1/guest-carts/:cartId/items` 將產品新增至特定購物車。 之前，當您使用此呼叫時，應用程式會忽略 `cartId`. _Vadim Malesh在提取請求中提交的修正 [27172](https://github.com/magento/magento2/pull/27172)_. [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* 您現在可以使用 `PUT /V1/cmsPage/:id` 端點來儲存CMS頁面標題，而不變更其他欄位的值。 _Vadim Malesh在提取請求中提交的修正 [27237](https://github.com/magento/magento2/pull/27237)_. [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* REST請求結果的分頁現在已準確。 之前，當您要求來自特定頁面的結果時(例如 `page_size` = 1和a `current_page` 值超出範圍)，呼叫會傳回結果的最後一頁，而非資訊性訊息。  _Lukasz Bajsarowicz在提取請求中提交的修正 [26988](https://github.com/magento/magento2/pull/26988)_. [GitHub-26986](https://github.com/magento/magento2/issues/26986), [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* GET `/V1/orders/items/{id}` 現在包含擴充功能屬性元素，其中包含禮品訊息資料。 _由Laura Folco在提取請求中提交的修正 [25946](https://github.com/magento/magento2/pull/25946)_. [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### 願望清單

<!-- MC-29988-->

* 如果在儲存檢視層級啟用並在全域層級停用，願望清單現在可如預期運作。 以前，當這些設定就緒時，將產品新增至願望清單會導致404錯誤。

<!-- MC-30196-->

* 當您在包含多個願望清單的部署中更名一個願望清單時，應用程式現在會正確保存並顯示一個願望清單的新名稱。 以前，應用程式繼續顯示前一個願望清單名稱。

<!-- MC-31948-->

* 現在，在執行Internet Explorer 11.x的部署中，您可以導覽及修改購物車的願望清單。以前，您無法在此環境中建立、編輯或移動願望清單。

<!-- ENGCOM-6518-->

* 我們已改善當客戶嘗試將其願望清單與超出允許數量的電子郵件地址共用時所顯示的錯誤訊息。  _由divyajyothi5321在提取請求中提交的修正 [26066](https://github.com/magento/magento2/pull/26066)_. [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* 應用程式現在會如預期顯示「我的願望清單」頁面，其解析度大於768px且小於1023px。 _Hitesh在提取請求中提交的修正 [26546](https://github.com/magento/magento2/pull/26546)_. [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* 按一下「 **共用願望清單** 現在會顯示與「願望清單」頁面相同的產品影像。 _提取請求中由Michael Bottens提交的修正 [27125](https://github.com/magento/magento2/pull/27125). [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* 客戶現在可以將作為分組產品一部分的簡單產品和具有不同數量的相同簡單產品添加到願望清單中。  _由MaxRomanov4669在提取請求中提交的修正 [26258](https://github.com/magento/magento2/pull/26258)_. [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### WYSIWYG

<!-- ENGCOM-6275-->

* WYSIWYG影像上傳程式現在使用 `pub/media/wysiwyg` 作為儲存根。 先前上傳的使用 `pub/media` 作為儲存根，這使得在最近更改了映像上傳程式代碼後，上傳的映像無法訪問。 _Pieter Hoste在提取請求中提交的修正 [24878](https://github.com/magento/magento2/pull/24878)_. [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* Chrome瀏覽器上的TinyMCE4現在可如預期處理雙位元組字元。 以前，TinyMCE4無法在Chrome上正確處理雙位元組字元（如中文）。 _提取請求中由西裕和提交的修正 [25454](https://github.com/magento/magento2/pull/25454)_. [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## 已知問題 — 一般

**問題**:在安裝PHP 7.4.2的部署中，店面錯誤訊息中會發生異常。 使用PHP 7.4.2部署2.4.0時，店面錯誤消息中的空間符號將替換為加號(+)字元。 此錯誤是PHP 7.4.2的原生錯誤，無法由Adobe Commerce更正。 **因應措施**:建議使用其他版本的PHP 7.4.x。請參閱 [在店面上顯示原始消息資料](https://support.magento.com/hc/en-us/articles/360045804332)  知識庫文章。 <!-- MC-34170-->

**問題**:商家無法從「管理員建立套件」頁面將已訂購的產品新增至套件並儲存套件。 請參閱 [建立裝運標籤](https://support.magento.com/hc/en-us/articles/360046750171) 知識庫文章。 此 **MC-35514-2.4.0-CE-composer.patch** 此問題的hotfix現在可從 [版本](https://magento.com/tech-resources/download). <!-- MC-35514-->

**問題**:應用程式在安裝時會顯示此錯誤訊息，其中協力廠商擴充功能依賴 `Store` CLI命令中的模組： `The default website isn't defined. Set the website and try again`. **因應措施**:從撰寫器移除對協力廠商擴充功能的相依性、安裝Magento，然後安裝協力廠商擴充功能。

**問題**:此 **將選取項目新增至購物車** 按鈕無法運作。 **因應措施**:使用 **將選取項目新增至購物車** 按鈕。 請參閱 [將選擇項添加到購物車按鈕無效](https://support.magento.com/hc/en-us/articles/360045838312) 知識庫文章。 <!-- MC-35313-->

**問題**:在為退貨授權(RMA)建立發運標籤後，商家無法與退貨頁面上的任何頁面元素進行交互。 請參閱 [建立發運標籤時，「退貨編輯」頁停止工作](https://support.magento.com/hc/en-us/articles/360046441312) 知識庫文章。 此 **MC-35984-2.4.0-composer.patch** 此問題的hotfix現在可從 [版本](https://magento.com/tech-resources/download). <!-- MC-35984-->

**問題**:管理員無法將SKU可設定的產品新增至報價。 當管理員按一下 **添加到報價** 按鈕，則「報價編輯」頁仍處於載入狀態，管理員無法保存其更改。 **因應措施**:編輯B2B報價沒有解決方法。  不過，您仍可從產品清單中選取產品，而不是透過SKU新增產品，以訂購產品。 請參閱 [B2B管理員無法將可配置產品添加到報價](https://support.magento.com/hc/en-us/articles/360046801971) 知識庫文章。 <!-- MC-35513-->

**問題**:商家無法從管理員建立新訂單，因為 **按SKU添加產品** 和 **新增產品**  啟用JavaScript捆綁時，訂單建立頁面中缺少按鈕。  **因應措施**:停用部署的JavaScript捆綁。 <!-- MC-36044-->

**問題**:應用程式a `404 not found` 當客戶簽出要發運到多個地址的訂單時嘗試刪除獎勵點時出錯。 <!-- MC-35955-->

**問題**:從客戶的願望清單編輯可配置產品會導致以下意外行為：「設定產品」頁面上會顯示未預期的欄位，且按一下後「設定產品」頁面不會消失 **確定**. 應用程式也會顯示此訊息： `Please load Wish List item`. **因應措施**:重新載入「配置產品」頁。 <!-- MC-35617-->

**問題**:當「訂單」清單涵蓋多個頁面時，客戶無法變更每頁顯示的訂單數。 目前，當您導覽至訂單的最後一頁，並嘗試變更每頁顯示的訂單數時，應用程式會顯示此訊息： `You have placed no orders`. 請參閱 [訂單顯示錯誤](https://support.magento.com/hc/en-us/articles/360046802271) 知識庫文章。  **因應措施**:重新開啟「我的訂單」頁面會顯示「訂單」清單。 <!-- MC-34153-->

**問題**:直接按一下 **出口稅率** 「添加新稅則」頁的按鈕( **商店** > **稅則**)不會下載 `tax_rates.csv` 檔案。 **因應措施**:按一下  **出口稅率** 按鈕。  請參閱 [出口稅率無效](https://support.magento.com/hc/en-us/articles/360045850032)  知識庫文章。 <!-- MC-35345-->

**問題**:此 **重新整理** 「管理客戶活動」頁面的「上次訂購的項目」、「比較中的產品」和「最近比較的產品」區段上的按鈕無法如預期運作。 目前，應用程式會在 **重新整理** 按鈕時，不會顯示產品名稱。 請參閱 [重新整理客戶活動無法運作](https://magento.zendesk.com/hc/en-us/articles/360046091332) 知識庫文章。 <!-- MC-35296-->

### B2B

**問題**:如果折扣代碼在採購訂單(PO)獲得批准前過期，PO將繼續顯示折扣金額，但一旦PO獲得批准，訂單將以非折扣合計進行定價。 **因應措施**:安裝 **B2B-709採購訂單折扣補丁程式** 此問題的hotfix現在可從 **我的帳戶** > **下載** 區段 `magento.com`.

**問題**:在多網站部署中，應用程式在升級至B2B 1.2.0期間為例外狀況。 當 `setup:upgrade` 執行，此錯誤會發生在 `PurchaseOrder` 模組： `Module Magento_PurchaseOrder: Unable to apply data patch Magento\PurchaseOrder\Setup\Patch\Data\InitPurchaseOrderSalesSequence for moduleMagento_PurchaseOrder`. **因應措施**:安裝 **B2B-716向InitPurchaseOrderSalesSequence資料修補程式中添加NonTransactionedInterface介面** hotfix現在可從 **我的帳戶** > **下載** 區段 `magento.com`.

## 已知問題 — VBE

### Amazon Pay

* **問題**:客戶點按時，結帳工作流程中缺少付款方法 **返回標準結帳** 與Amazon Pay結帳期間。  **因應措施**:重新整理結帳頁面，以顯示遺失的方法。  <!-- BUNDLE-2661-->

* **問題**:應用程式會在「付款方法」下拉式清單中顯示兩種相同的Amazon付款方法，供建立新購物車價格規則時使用。  <!-- BUNDLE-2685-->

### Braintree

* **問題**:當管理員嘗試訪問「Braintree結算報表」頁時，應用產品將顯示一個錯誤(**管理** > **報表** )。 目前，應用程式會顯示此訊息： `An error has happened during application run. See exception log for details`. 請參閱 [Braintree結算報表無法載入](https://support.magento.com/hc/en-us/articles/360046798251) 知識庫文章。 此 **BUNDLE-2683_SettlementReport.patch** 此問題的hotfix現在可從 [版本](https://magento.com/tech-resources/download). <!-- BUNDLE-2683-->

* **問題**:在啟用Venmo且 **為卡支付啟用保管庫** 設定已停用。 目前，應用程式顯示此錯誤： `The "vault_capture" command doesn't exist. Verify the command and try again`.  <!-- BUNDLE-2647-->

* **問題**:應用程式在「付款方法」下拉清單中顯示兩個相同的PayPal方法，建立新購物車價格規則時可用。   <!-- BUNDLE-2686-->

* **問題**:應用程式在開啟 **銷售** > **Braintree虛擬終端**. 雖然表單包含損毀的UI元素，但仍接受付款。 **因應措施**:儲存正確的Braintree憑證，以修正收合的輸入欄位。 請參閱 [Braintree虛擬終端頁已損壞](https://support.magento.com/hc/en-us/articles/360046800071)  知識庫文章。 此 **BUNDLE-2670_VirtualTerminal.patch** 此問題的hotfix現在可從 [版本](https://magento.com/tech-resources/download). <!-- BUNDLE-2670-->

* **問題**:當客戶在結帳期間選擇本地付款方法時，應用產品將在以下國家顯示錯誤消息：比利時、荷蘭、義大利、西班牙和波蘭。  **因應措施**:忽略錯誤消息並繼續付款。

### dotdigital

* **問題**:整合測試失敗，並出現此錯誤： `PHP Fatal error: Declaration of Dotdigitalgroup\Email\Test\Integration\Model\Sync\Importer\ImporterFailedTest::setUp() must be compatible with PHPUnit\Framework\TestCase::setUp(): void in /var/www/vendor/dotmailer/dotmailer-magento2-extension/Test/Integration/Model/Sync/Importer/ImporterFailedTest.php on line 36`. **因應措施**:此 **BUNDLE-2684 Dotdigital Integration測試修補程式** 此問題的hotfix現在可從 [版本](https://magento.com/tech-resources/download). <!-- BUNDLE-2684-->

### 克拉納

* **問題**:離開 **設計主題** 欄位在Klarna站上消息(**管理**  >  **商店**  >  **設定**  > **克拉納設定**)會產生空白頁面。  **因應措施**:選取設計主題並儲存。  <!-- BUNDLE-2623-->

### 頂點

* **問題**:應用程式會顯示  **地址驗證** 按鈕（即使已禁用地址驗證）。 地址驗證器不會重新檢查更新的地址，並且繼續顯示消息，該消息指示當客戶在首次輸入錯誤地址之後輸入正確的地址時，即使啟用了地址驗證，該地址也無效。 **因應措施**:禁用頂點地址驗證。 <!-- BUNDLE-2604-->

## 社群投稿

我們感謝廣大的Magento Open Source社群，並感謝他們對本版的貢獻。 查看下列方式，了解社群對目前發行版本的貢獻：

* 如果社群成員已針對此版本提供修正，我們會以「 」這個字詞來識別這些附註的「已修正問題」區段中的修正。*社群成員提供的修正*」。

* 社群工程團隊 [Magento貢獻者](https://magento.com/magento-contributors) 依月、季和年維護最佳貢獻個人和合作夥伴的清單。 在該「貢獻者」頁面中，您可以在GitHub上追蹤合併PR的連結。

### 合作夥伴貢獻

下表重點介紹合作夥伴的貢獻。 下表列出提取請求、外部提取請求以及與其相關聯的GitHub問題編號（若有）的貢獻者。

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### 個人貢獻者貢獻內容

下表列出社群成員的貢獻。 下表列出外部提取請求、與其相關聯的GitHub問題編號（若有），以及提供提取請求的社群成員。

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### 系統需求

我們的技術堆棧構建在PHP和MySQL上。 如需詳細資訊，請參閱 [系統需求](../../../installation/system-requirements.md).

### 安裝和升級指示

您可以使用撰寫器安裝Adobe Commerce 2.4.0。

## 遷移工具包

資料移轉工具可協助將現有Magento1.x儲存資料至Magento2.x。此命令列介面包括驗證、進度追蹤、記錄和測試功能。 如需安裝指示，請參閱 [安裝資料移轉工具](https://experienceleague.adobe.com/docs/commerce-operations/tools/data-migration/basics/install.html). 考慮探索或協助 [資料移轉存放庫](https://github.com/magento/data-migration-tool).

此 [代碼遷移工具包](https://github.com/magento/code-migration) 協助將現有Magento1.x儲存擴充功能和自訂項目傳輸至Magento2.x。命令行介面包括用於轉換Magento1.x模組和佈局的指令碼。
