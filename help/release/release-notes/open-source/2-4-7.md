---
title: Magento Open Source 2.4.7發行說明
description: 瞭解2.4.7Magento Open Source版本中的新功能、增強功能、錯誤修正和已知問題。
recommendations: noCatalog
exl-id: 0145380a-8b4b-4757-a5fe-d98713f0df62
source-git-commit: 4bcc68890e16e51f0a84ed3d0d47b1f3dbbd52f0
workflow-type: tm+mt
source-wordcount: '16676'
ht-degree: 0%

---


# Magento Open Source 2.4.7發行說明

Magento Open Source2.4.7引入對PHP 8.3的支援。其中包含數百項品質修正和增強功能。 核心撰寫器相依性和協力廠商程式庫已升級至最新可用版本。 此版本提高GraphQL對自訂屬性和GraphQL解析器快取的涵蓋範圍。 此外，也推出對最近更新的FedEx和UPS服務的支援。

{{bics}}

## 其他發行資訊

雖然這些功能的程式碼與Magento Open Source核心程式碼的發行版本整合，但其中數個專案也獨立發行。 這些專案的錯誤修正記錄在每個專案檔案中提供的個別專案特定發行資訊中。

## Magento Open Source2.4.7重點說明

請檢視此版本中的下列重點專案。

### 安全性增強功能

此發行版本包含與Adobe Commerce 2.4.6-p5、2.4.5-p7和2.4.4-p8中包含的相同安全性修正和平台安全性改善。 另請參閱 [Adobe安全性公告](https://helpx.adobe.com/security/products/magento/apsb24-18.html) 以取得這些已修正問題的最新討論。

目前尚未發生與這些問題相關的已確認攻擊。 但是，某些漏洞可能會被用來存取客戶資訊或接管管理員工作階段。 這些問題大多需要攻擊者先取得Admin的存取權。 因此，我們提醒您採取一切必要步驟來保護您的管理員，包括但不限於這些工作：

* IP允許清單
* [雙因素驗證](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* 使用VPN
* 使用唯一位置，而非 `/admin`
* 良好的密碼衛生

#### 其他安全性增強功能

此版本的安全性改善專案可改善對最新安全性最佳實務的合規性。

* **非產生之快取金鑰的行為變更**：

   * 區塊的非產生快取金鑰現在包含與自動產生之金鑰的前置詞不同的前置詞。 (未產生的快取索引鍵是透過範本指令語法或 `setCacheKey` 或 `setData` 方法。)
   * 區塊未產生的快取金鑰現在只能包含字母、數字、連字型大小(-)和底線字元(_)。 <!-- AC-9831 -->

* **自動產生優惠券代碼數目的限制**. Magento Open Source現在會限制自動產生的優惠券代碼數量。 預設最大值為250,000。 商家可以使用新的 **[!UICONTROL Code Quantity Limit]** 組態選項(**[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL Customers]** > **[!UICONTROL Promotions]**)，以防止許多優惠券讓系統不堪重負。 <!-- AC-8753 -->

* **最佳化預設管理員URL產生程式**. 預設管理員URL的產生已針對增加的隨機性而最佳化，使產生的URL較難預測。 <!-- AC-9028 -->

* 新的全頁快取設定有助於降低與HTTP相關的風險 `{BASE-URL}/page_cache/block/esi` 端點。 此端點支援來自Commerce配置控點和區塊結構的不受限制、動態載入的內容片段。 新的 **[!UICONTROL Handles params size]** 組態設定會設定此端點的值 `handles` 引數，決定每個API允許的最大控制代碼數量。 此屬性的預設值為100。 商家可以從管理員(**[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL System]** > **[!UICONTROL Full Page Cache]** > **[!UICONTROL Handles params size]**)。 另請參閱 [設定Commerce應用程式以使用Varnish](https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/configure-varnish-commerce.html). <!-- AC-9113 -->

* **新增子資源完整性(SRI)支援** 以符合PCI 4.0的要求，驗證付款頁面上的指令碼完整性。 子資源完整性(SRI)支援為駐留在本機檔案系統中的所有JavaScript資產提供完整性雜湊。 預設SRI功能僅在管理員和店面區域的付款頁面上實作。 不過，商家可以將預設設定延伸至其他頁面。 另請參閱 [子資源完整性](https://developer.adobe.com/commerce/php/development/security/subresource-integrity/) 在 _Commerce PHP開發人員指南_.<!--AC-11513-->

* **內容安全性原則(CSP)的變更**—Adobe Commerce內容安全性原則(CSP)的設定更新和增強功能，以符合PCI 4.0需求。 如需詳細資訊，請參閱 [內容安全性原則](https://developer.adobe.com/commerce/php/development/security/content-security-policies/) 在 _Commerce PHP開發人員指南_. <!--AC-11512-->

   * Commerce管理員和店面區域的付款頁面的預設CSP設定現在是 `restrict` 模式。 對於所有其他頁面，預設設定為 `report-only` 模式。  在2.4.7之前的版本中，CSP是設定在 `report-only` 模式。

   * 新增Nonce提供者，允許在CSP中執行內嵌指令碼。 Nonce提供者可協助為每個請求產生唯一的Nonce字串。 這些字串接著會附加至CSP標頭。

   * 新增選項，可設定自訂URI以報告「管理員」中「建立訂單」頁面的CSP違規以及店面中的「結帳」頁面。 您可以從管理員新增設定，或將URI新增至 `config.xml` 檔案。

     >[!NOTE]
     >
     >將CSP設定更新至 `restrict` 模式可能會在「管理員」和「店面」的付款頁面上封鎖現有的內嵌指令碼，這會在頁面載入時導致下列瀏覽器錯誤： `Refused to execute inline script because it violates the following Content Security Policy directive: "script-src`. 更新白名單設定以允許必要的指令碼來修正這些錯誤。 另請參閱 [疑難排除](https://developer.adobe.com/commerce/php/development/security/content-security-policies/#troubleshooting) 在 _Commerce PHP開發人員指南_.

* **透過REST和GraphQL API傳輸的付款資訊的原生費率限制**. 商戶現在可以 [設定速率限制](https://experienceleague.adobe.com/en/docs/commerce-admin/config/sales/sales#rate-limiting) 以取得使用REST和GraphQL傳輸的付款資訊。 此新增的保護層可支援防止梳理攻擊，並可能會減少同時測試許多信用卡號碼的梳理攻擊的數量。 這是現有REST端點預設行為的變更。 另請參閱 [速率限制](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/).

* 的預設行為 [isEmailAvailable](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) GraphQL查詢和([V1/customers/isEmailAvailable](https://adobe-commerce.redoc.ly/2.4.7-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)) REST端點已變更。 依預設，API現在一律會傳回 `true`. 商家可以透過設定 *[啟用來賓簽出登入](https://experienceleague.adobe.com/en/docs/commerce-admin/config/sales/checkout)* 管理員中的選項，用於 `yes`，但這麼做可能會將客戶資訊公開給未經驗證的使用者。

### 平台增強功能

此版本的平台升級可改善對最新安全性最佳實務的合規性。

Magento Open Source2.4.7包含下列平台升級：

* **php 8.3相容性**. 此發行版本引入對PHP 8.3的支援。Magento Open Source現在同時支援PHP 8.3和8.2。PHP 8.2將受支援直到其服務結束(EOS)日期為2025年12月。 2025年12月後，所有執行2.4.7部署的商家都應遷移至PHP 8.3。 <!-- AC-8988 -->

Magento Open Source2.4.7仍與PHP 8.1相容，僅供升級之用。 PHP 8.1不受支援，也不建議使用。 Magento Open Source2.4.7核心程式碼、所有隨附的擴充功能，以及所有Adobe擁有的擴充功能和SaaS服務都與PHP 8.3相容。 <!-- AC-9668 -->

* **RabbitMQ 3.13支援**. 此版本與最新版RabbitMQ 3.13相容。RabbitMQ 3.11和3.12仍支援相容性，分別持續至2024年8月和2024年12月，但Adobe建議僅將Magento Open Source2.4.7與RabbitMQ 3.13搭配使用。 <!-- AC-9659 -->

* **Composer 2.7.x**. 與Composer 2.2.x的相容性保持不變。 <!-- AC-9663 -->

* **支援清漆快取7.4**. 此版本相容於最新版的Varnish Cache 7.4。6.0.x和7.2.x版本仍維持相容性，但我們建議僅將Magento Open Source2.4.7與Varnish Cache 7.4或6.0版LTS搭配使用。 <!-- AC-9662 -->

* **Elasticsearch8.11** 相容性 <!-- AC-9661 -->

* OpenSearch 2.12和OpenSearch 1.3支援 <!-- AC-9659 -->

* **Redis 7.2** <!-- AC-10811 -->

* 此 `extjs` 程式庫已取代為最新版本的 `jsTree`. <!-- AC-9320 -->

* `jquery/fileUpload` 資料庫已移除。 <!-- AC-10569 -->

Magento Open Source核心程式碼中的所有JavaScript程式庫和NPM相依性均已更新至最新可用版本。 所有Laminas程式庫相依性都已更新至與PHP 8.3相容的最新版本。 <!-- AC-9667 9665 -->

#### 其他升級

* Commerce UPS XML API閘道已移轉至新的 [Commerce UPS REST API](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/delivery/shipping-carriers/ups) 以支援UPS對其 [API安全性模型](https://developer.ups.com/oauth-developer-guide). (UPS正在針對所有API實作OAuth 2.0安全性模型（持有人權杖）。) 所有先前的Commerce UPS XML API已從Magento Open Source2.4.7程式碼基底中移除。 <!-- AC-8918 -->

* Magento Open Source [整合](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/delivery/shipping-carriers/fedex) with FedEx已從舊版FedEx WSDL Web Services移轉至最新的FedEx RESTful API。 FedEx網站服務追蹤、地址驗證和驗證郵遞區號WSDLS將於2024年5月淘汰。 <!-- AC-1470 -->

* 新增對新USPS Ground Advantage送貨方法的支援。 這是與USPS的新配送方法USPS Ground Advantage （於2023年7月發行）的開箱即用整合。 這項新整合可用於透過USPS配送服務擷取運費、排程交貨與退貨。 USPS Ground Advantage送貨方法取代這些在USPS Ground Advantage送貨方法發行時已淘汰的送貨方法：

   * USPS零售場
   * 第一級封裝服務
   * 包裹選取基底 <!-- AC-9182 -->

* Temando送貨模組已從核心Magento Open Source程式碼庫中移除。 Magento Open Source 2.4.4已棄用此功能。 <!-- AC-8130 -->

### Braintree

* **[!DNL Vaulted PayPal]和 [!DNL Pay Later] 變更** — 先前曾存放/儲存其PayPal帳戶的登入客戶可選擇以下方式付款：
   * [!DNL Pay Now] (不需登入 [!DNL PayPal] 帳戶，使用者可以使用預設卡付款)
   * 使用不同的資金來源付款
   * 使用其他帳戶付款
   * [!DNL PayPal Pay Later] 或 [!DNL PayPal Credit] 按鈕

* **3DS支援[!DNL Google Pay]** — 包含的3DS驗證支援 [!DNL Google Pay] 非標籤化卡片。 請參閱 [Braintree檔案](https://developer.paypal.com/braintree/docs/guides/3d-secure/client-side/android/v3#using-3d-secure-with-google-pay) 以取得詳細資訊。

* **[!DNL Vault Apple Pay Payments]** — 允許登入的客戶儲存庫/儲存 [!DNL Apple Pay] 支付給其Commerce商店帳戶以用於未來交易的款項。 這可減少結帳的步驟數，並為回頭的客戶建立更快速的結帳體驗。

* **[!DNL Vault Google Pay Payments]** — 允許登入的客戶儲存庫/儲存 [!DNL Google Pay] 支付給其Commerce商店帳戶以用於未來交易的款項。 這可減少結帳的步驟數，並為回頭的客戶建立更快速的結帳體驗。

* **[!DNL Vault Venmo Payments]** — 允許登入的客戶儲存庫/儲存 [!DNL Venmo] 帳戶至其Commerce商店帳戶，以用於未來的交易。 這可減少結帳的步驟數，並為回頭的客戶建立更快速的結帳體驗。

* **[!DNL Vault ACH Payments]** — 允許登入的客戶將其ACH付款儲存至其Commerce商店帳戶，以便用於未來的交易。 這可減少結帳的步驟數，並為回頭的客戶建立更快速的結帳體驗。

* **[!UICONTROL Express Payment]結帳頂端的按鈕** — 為了提供更快速的結帳體驗，我們推出了 [!DNL Express Payment] 開始出庫的選項。 客戶現在可以依以下方式付款： [!DNL PayPal]， [!DNL PayPal Pay Later]， [!DNL Apple Pay]、和 [!DNL Google Pay Express] 付款。

* **[!DNL Braintree]Admin Configuration中的發行說明和支援連結** — 商家現在可以直接從Commerce Admin連結到線上的Braintree支援和發行說明。

* **GraphQL對所有人的支援 [!DNL Braintree] 付款方式除外[!DNL Venmo]**—GraphQL API會公開更多設定。 這對Headless應用程式特別有用。

* **[!DNL Vaulting]帳戶區域中的付款** — 登入客戶現在可以 [儲存庫/存放區](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree#step-3-complete-the-advanced-settings) 新信用卡/借記卡及 [!DNL PayPal] 客戶帳戶區域中的帳戶。 以前，客戶只能在儲存付款以供稍後在結帳時完成交易時進行儲存和儲存，現在他們可以在無需建立新交易的情況下儲存新的信用卡/借記卡和PayPal帳戶。

* **順暢交易** — 順暢交易可減少客戶完成線上信用卡/借記卡交易的點按/步驟數，加速付款流程。 以前（啟用3DS時），每個客戶都會受到3DS的挑戰。 有了新的「順暢交易」功能，客戶只有在銀行要求3DS時才會受到挑戰。 這會減少購物車放棄率、增加轉換率，並帶來更多銷售額。

* **爭議Webhook** — 當客戶在Braintree中爭議交易時，爭議狀態現在會傳遞給Commerce。 您可在 **[!UICONTROL Sales]** > **[!UICONTROL Order]** 格線並附加至每個訂單。

### GraphQL

Magento Open Source2.4.7包含增強的GraphQL快取功能、對自訂屬性的GraphQL結構描述支援、對Headless訂單取消的支援，以及改進的解析器快取。

* **更彈性的購物車管理**. 此 `clearCart` 突變現在會以單一動作清除指定購物車的內容。 它會取代 `clearCustomerCart` 突變，已淘汰。 <!-- LYNX-254 -->

* **改良建立購物車變動**. 此 `createGuestCart` 已新增變數，以取代已過時的 `createEmptyCart` 突變。 先前，如果您使用 `createEmptyCart`，您無法判斷購物車是給訪客還是登入的客戶。 <!-- LYNX-224 -->

* **訂單專案現在包含產品影像**. `OrderItemInterface` 會公開產品影像，讓影像可與訂購的產品建立關聯，並更有效率地載入。 [GitHub-32369](https://github.com/magento/magento2/issues/32369) <!-- AC-7918 -->

* **擴大對解析器快取的支援**. 下列GraphQL查詢解析器現在可在GraphQL解析器結果快取中快取，以改進隨POST請求提交查詢時的效能：

   * `Magento\CustomerGraphQl\Model\Resolver\Customer::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\CustomerAddress::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\IsSubscribed::resolve` <!-- B2B-2658 -->
   * `Magento\CatalogGraphQl\Model\Resolver\Product\MediaGallery::resolve` <!-- B2B-2677 -->

* **支援訂單取消**. 此 [cancelerorder](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) 突變可讓客戶取消訂單，傳遞其識別碼和取消原因。 <!-- LYNX-197 -->

   * 新的 `order_cancellation_enabled` 和 `order_cancellation_reasons.description` 中的回應欄位 `storeConfig`
查詢支援使用者啟動的訂單取消請求。 另請參閱 [查詢商店的訂單取消設定](https://developer-stage.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/#query-a-stores-order-cancellation-configuration)

* **增強對自訂屬性的支援**. GraphQL已透過豐富API資料來支援所有屬性型別，進而增強自訂屬性支援。 GraphQL EAV屬性方案現在支援在管理員中擴充客戶屬性和客戶位址物件，以及使用GraphQL擷取它們。 特定的增強功能包括： <!-- LYNX-61 110-->

   * 擴充/新增自訂屬性對特定領域的支援，例如客戶和客戶地址
   * 新增自訂屬性的快取
   * 增強產品的現有自訂屬性支援

* **增強的GraphQL快取功能可改善頁面載入速度**. 快取功能已新增到這些查詢，改善了大部分PWA頁面的頁面載入時間速度：

   * [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/)
   * [國家/地區](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) 和 [國家/地區](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/)
   * [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/)
   * [貨幣](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/)
   * [customAttributeMetadata](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata)

* **改善GraphQL剖析器效能**. 透過減少每個請求呼叫剖析方法的次數，GraphQL剖析器效能已有所改善。 現在只呼叫一次。 之前，至少呼叫過剖析器三次。

#### 現有變動的新欄位

* 已新增 `quickorder_active` 欄位至 [storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) 和 [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) 查詢。 此欄位指出是否啟用快速訂購功能。

* 已將下列欄位新增至 `setBillingAddressOnCart` 和 `setShippingAddressesOnCart` 變異：

   * `fax`
   * `middlename`
   * `prefix`
   * `suffix`

#### 新的查詢和變動

* [`attributeForms`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-form/) 查詢<!-- LYNX-151 -->
* [`attributesList`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-list/) 查詢<!-- LYNX-150 -->
* [`guestOrder`](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/) 查詢
* [`guestOrderByToken`](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/) 查詢
* [`recaptchaFormConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/recaptcha-form-config/) 查詢
* [`cancelOrder`](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) 突變<!-- LYNX-172 -->
* [`customAttributeMetadataV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) 查詢
* [`applyCouponsToCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/apply-coupons/) 突變
* [`confirmEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/confirm-email/) 突變
* [`createGuestCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/create-guest-cart/) 突變
* [`estimateShippingMethods`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/estimate-shipping-methods/) 突變
* [`estimateTotals`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/estimate-totals/) 突變
* [`removeCouponsFromCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/remove-coupons/) 突變

#### 已棄用的查詢和變動

* `clearCustomerCart` 突變<!-- LYNX-254 -->
* [`createEmptyCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/create-empty-cart/) 突變<!-- LYNX-224 -->
* [`attributesMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) 查詢
* [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/) 查詢

### Inventory management

Inventory management (v1.2.7)提供管理產品詳細目錄的工具。 這項社群開發的功能與Adobe Commerce和Magento Open Source核心程式碼整合。

### Magento Open Source擴充功能中繼資料

此版本包含Magento Open Source擴充功能中繼套件v1.0.0，此中繼套件會自動將特定Magento Open Source擴充功能與此核心版本整合。 此中繼資料中包含的此擴充功能版本，會在 `composer update` 會執行，以簡化升級至最新核心發行版本時升級擴充功能的程式。 此擴充功能會維護獨立的發行排程。

Magento Open Source 2.4.7的Magento Open Source擴充功能中繼資料包含下列擴充功能：

* [Adobe Commerce與Adobe IMS整合](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html)
* [Braintree](https://experienceleague.adobe.com/docs/commerce-admin/stores-sales/payments/braintree.html)
* [付款服務](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)

此擴充功能中繼資料的未來版本將包含其他擴充功能。

### PWA Studio

PWA Studio v14.0與Magento Open Source 2.4.7-beta1相容。 其中包含多項改善協助工具的增強功能。 如需有關錯誤修正的資訊，請參閱 [PWA Studio版本](https://github.com/magento/pwa-studio/releases). 另請參閱 [版本相容性](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) 以取得PWA Studio版本及其相容Magento Open Source核心版本的清單。

### Web API框架

此發行版本推出兩個新的REST端點，提供REST API限制的因應措施 `GET` 和 `POST V1/products/attributes` 端點。 這些端點傳回的 `is_filterable` 屬性用於 `Filterable(with results)` 和 `Filterable(no results)` 的選項 **[!UICONTROL Use in Layered Navigation]** 選項。 (此 `is_filterable` 屬性屬性屬於型別 `Boolean`，不允許將此屬性設為 `Filterable(no results)`.)

兩個新的REST端點已實作作為因應措施：

* `PUT /V1/products/attributes/{attributeCode}/is-filterable/{isFilterable}`. 路徑引數： `attributeCode` (`String`)和 `isFilterable` (`int` 值為： 0表示否；1表示否 `Filterable (with results)`； 2為 `Filterable (no results)`)。
* `GET /V1/products/attributes/{attributeCode}/is-filterable`. 路徑引數： `attributeCode` (`String`)。<!-- ACP2E-2275 -->

## 已修正的問題

我們已修正Magento Open Source2.4.7核心程式碼中的數百個問題。 此版本中包含的已修正問題子集說明如下。

### 安裝、升級、部署

<!-- AC-10396 -->

* 已從設定程式中移除不必要的快取操控。 以前，Magento Open Source在下列情況下將其設定寫入磁碟： `bin/magento setup:db-data:upgrade` 或 `bin/magento setup:upgrade` 在設定期間導致某些模組發生問題。 [GitHub-38124](https://github.com/magento/magento2/issues/38124)

<!-- ACP2E-1675 -->

* 因記憶體不足和大型資料表造成的部署問題已解決。 此 `bin/magento setup:upgrade` 指令不再因記憶體超過錯誤而失敗，這些錯誤與大型MySQL表格有關。

<!-- ACP2E-2198 -->

* `bin/magento setup:install` 現在在以下時間後成功完成： `app/etc/config.php` 已刪除。 之前，在安裝期間不會重新產生遺失的檔案，且Magento Open Source擲回錯誤。 [GitHub-37805](https://github.com/magento/magento2/issues/37805)

<!-- AC-8381 -->

* `bin/magento setup:upgrade` 已重構為在安裝同時安裝表格和相關聯的新模組時成功執行 `mview` 索引子。 [GitHub-37304](https://github.com/magento/magento2/issues/37304)

<!-- ACP2E-1882 -->

* 資料庫還原不再因分隔符號錯誤而失敗。 之前，Magento Open Source在下列情況下擲回此錯誤： `bin/magento setup:rollback --db` 已執行： `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1505 -->

* 此 `bin/magento setup:upgrade` 命令不再失敗，因為發生此型別的MySQL記憶體限制相關錯誤： `PHP Fatal error: Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. 多選屬性移轉已經過最佳化，以節省期間使用的記憶體 `setup:upgrade`.

<!-- ACP2E-1751 -->

* 現在，從管理員和命令列產生資料庫備份後，可如預期般運作。 之前，Magento Open Source擲回此錯誤： `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 1605-->

* 執行中 `setup:config:set` 而不指定 `--lock-db-prefix` 引數不再拭除目前的值 `env.php` 檔案。

<!-- ACP2E-1498 -->

* 清漆設定已更新，以防止訪客使用者存取與其他客戶群組相關的快取內容。

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` 現在安裝同時安裝表格和相關聯的新模組時可順利完成 `mview` 索引子。

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` 現在，當訊息佇列主題不包含主題名稱時，會顯示資訊更豐富的錯誤訊息。 [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` 現在，當合併的XML檔案無效時，會顯示資訊更豐富的錯誤訊息。 錯誤訊息現在包含檔案名稱。

### 管理員UI

<!-- AC-10998 -->

* 儀表板現在預設會成功停用圖表。 [GitHub-38430](https://github.com/magento/magento2/issues/38430)

<!-- AC-9423 -->

* 「管理銷售」功能表現在可正確顯示子功能表。 以前，分欄符號無法正常運作，並且某些子功能表未顯示。 [GitHub-37812](https://github.com/magento/magento2/issues/37812)

<!-- AC-3122 -->

* **[!UICONTROL Select]** 「管理員」現在顯示下拉式選單選項 **[!UICONTROL Content]** > **[!UICONTROL Pages]** 在格線中選取多個頁面時。 [GitHub-35386](https://github.com/magento/magento2/issues/35386)

<!-- AC-9209 -->

* 將路徑修正為預設值 `system/dashboard/enable_charts` 在組態設定中。 圖表現在會如預期在Admin中顯示。 [GitHub-37668](https://github.com/magento/magento2/issues/37668)

<!-- AC-9632 -->

* 修正「管理客戶」網格的顯示問題。 以前，格線資料欄並未完全包含在顯示的頁面中。

<!-- AC-2916 -->

* 「管理」靜態格點的列現在會依預期套用游標停留顏色。 [GitHub-35358](https://github.com/magento/magento2/issues/35358)

<!-- AC-7551 -->

* 當購物者輸入不含空白字元的希臘郵遞區號時，結帳工作流程不再顯示警告。 [GitHub-36676](https://github.com/magento/magento2/issues/36676)

<!-- AC-9357 -->

* 管理員 `It's time to change your password` 連結現在會如預期重新導向至「變更管理員密碼」頁面。 [GitHub-37902](https://github.com/magento/magento2/issues/37902)

<!-- AC-9164 -->

* 頁面標題尾碼現已納入以下兩項： `title` 標籤與 `meta title` 產品頁面的標籤。 [GitHub-37680](https://github.com/magento/magento2/issues/37680)

<!-- ACP2E-2023 -->

* 產品庫存狀態條件現在已正確套用至相關的產品規則。

<!-- ACP2E-2083 -->

* 此 **[!UICONTROL Login as Customer]** 按鈕現在在行動裝置上正確顯示。

<!-- ACP2E-2146 -->

* Adobe Commerce不再顯示管理員 **[!UICONTROL Add new customer group]** 如果登入的管理員使用者缺少新增客戶群組的許可權，則按此按鈕。

<!-- ACP2E-2286 -->

* 具有受限制許可權的管理員使用者現在可以儲存其父產品已指派到不同範圍的子產品。 以前，Commerce會讓未指派給變更子產品的範圍的父產品的快取失效。

<!-- ACP2E-2042 -->

* 管理員使用者現在可以成功在管理員篩選器檢視之間切換，而檢視資料不會損毀或遺失。 [GitHub-37529](https://github.com/magento/magento2/issues/37529)

### 套裝產品

<!-- AC-8966 -->

* 此 `customerCart` query現在會如預期傳回套件組合產品的所有套用折扣。 之前，套用至套件組合產品的總折扣會傳回為零。

<!-- ACP2E-2618 -->

* 產品詳細資料頁面現在會顯示已套用100%折扣的套件組合產品的正確價格。 之前，Magento Open Source不會將100%折扣套用至捆綁產品的價格。

<!-- ACP2E-2377 -->

* 購物車價格規則現在套用至產品組合，而非動態定價套裝產品的每個子產品。

<!-- ACP2E-1650 -->

* 修正使用時發生的錯誤 `POST V1/shipment` 端點，以建立包含套件組合產品的出貨。 端點現在會如預期新增專案，且不再傳回此錯誤： `The shipment couldn't be saved`.

<!-- ACP2E-1650 -->

* 您現在可以使用 `GET V1/shipment/` API路由，當產品具有 **[!UICONTROL together]** 出貨型態集。 套件組合產品現在也會根據其出貨型別屬性進行驗證。

<!-- ACP2E-2038 -->

* 購物者現在可以編輯店面購物車中捆綁產品的數量。 之前，Adobe Commerce不會處理null值 `ItemId` 在店面購物車中編輯產品並顯示錯誤時。 [GitHub-37696](https://github.com/magento/magento2/issues/37696)

<!-- ACP2E-1801 -->

* 現在，您可以使用包含斜線(`/`)個字元。 之前，管理員使用者無法使用此方法將產品新增至管理員訂單，且Magento Open Source擲回JavaScript錯誤。

<!-- ACP2E-1799 -->

* 管理員使用者現在可以在以下情況下，為新增的套件組合選項設定十進位預設值： **[!UICONTROL Qty Uses Decimal]** 會針對對應的簡單產品啟用。 以前，只能為儲存的選取專案設定小數值。

<!-- ACP2E-1347 -->

* 針對儲存具有大量選項的套件組合產品而最佳化的效能

<!-- ACP2E-1478 -->

* 套件組合產品現在無需在產品選項中複製SKU即可成功匯入。 之前，當您匯入含有重複專案的套件產品時，Magento Open Source會在產品選項中建立多個重複的SKU。

<!-- ACP2E-1388 -->

* 現在，當套件中的其中一個產品無存貨時，即可正確計算套件組合產品價格。 先前，如果屬於該套裝一部份的產品無庫存，則會從價格計算中移除該產品。

<!-- ACP2E-1503 -->

* 現在，當最後一個必要的子產品已購買時，套裝產品會顯示為無庫存。 以前，當簡單的產品無庫存時，店面上的捆綁產品會顯示為有庫存。

<!-- ACP2E-1443 -->

* 使用將套件組合產品與非必要選項新增至購物車時出現效能問題 `addBundleProductsToCart` 變異已解決。

<!-- ACP2E-1264 -->

* 此 `categoryList` 查詢現在會傳回所有套件組合選項，當 **[!UICONTROL Show out-of-stock products]** 已啟用組態設定。 以往，無庫存選項不會納入查詢回應中。

<!-- ACP2E-1345 -->

* 套件組合產品建立方式 `POST V1/products` 現在於目錄價格範圍設定為時成功 `website`. 以前，發生完整性限制違規。 [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### 快取

<!-- AC-11411 -->

* 快取設定為Fastly CDN (**[!UICONTROL Caching Application=Fastly CDN]**)。 這同時影響了客人購物者和註冊客戶。

<!-- ACP2E-2070 -->

* 現在瀏覽網站後，登入後的快取Cookie會相同。 先前，登入控制器傳送了錯誤的快取Cookie，而頁面可能已快取多次。

<!-- ACP2E-1840 -->

* 在包含CMS區塊的CMS頁面上，來自GraphQLGET作業的回應現在會如預期般在Fastly快取中清除。 後續的排程更新現在會顯示這些頁面的正確更新內容。

<!-- ACP2E-1524 -->

* 當父產品的其中一個子產品已從「管理員」中儲存時，父產品的頁面快取現在會如預期般清除。 已引入外掛程式檢查，以針對可配置變體（類似於其他產品型別）讓快取失效，無論索引子狀態（已排程或即時）為何。 以前，從管理員更新可設定的變數後，店面價格沒有正確更新。

<!-- ACP2E-1454 -->

* 新增AWS憑證的快取機制。 認證提供者現在會使用Commerce快取來快取從AWS擷取的認證，以進行EC2設定。

<!-- AC-7639 -->

* 外掛程式的用途是在儲存與可設定產品相關聯的簡單產品時新增可設定快取標籤，現在可如預期運作。 當簡單產品由更新時，所有相關的可設定快取標籤都會如預期移除 `POST V1/products`. 之前，並非所有價格都會在店面更新，而且快取必須手動清除。 [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### 購物車與結帳

<!-- ACP2E-2658 -->

* Magento Open Source現在會在產生整頁可快取頁面(例如產品詳細資料頁面(PDP)和CMS頁面)時（當啟用持續購物車時），不載入使用者特有的報價資料，藉此最佳化效能。 以前，系統會在產生這些頁面期間不必要地載入使用者特定工作階段和報價資料，進而影響效能。

<!-- ACP2E-2684 -->

* 自訂位址自訂屬性現在會如預期儲存在資料庫中。 之前，儲存在資料庫中的屬性值會加上屬性代碼。

<!-- ACP2E-2517 -->

* 改善產品屬性的購物車規則篩選文字產生。 個別產品不再載入多次。

<!-- AC-8920 -->

* 現在，當結帳期間發生錯誤，且購物者不再回到先前的結帳步驟時，Magento Open Source會顯示資訊性錯誤訊息。 以前，購物者會返回送貨頁面。

<!-- ACP2E-2520 -->

* 此 `cart` 查詢不再傳回虛擬購物車的送貨方法和地址。 先前，當購物車同時包含實體和虛擬產品，且所有實體產品被移除時，購物車查詢回應會繼續包含送貨資訊。

<!-- ACP2E-2267 -->

* Magento Open Source現在會在觸發「加入購物車」動作時顯示資訊訊息。 先前， `The requested qty is not available` 並不一定都會視需要顯示在店面上。

<!-- ACP2E-2166 -->

* 擁有大型通訊錄的客戶的結帳頁面載入時間已有所改善。 Magento Open Source現在只會處理 **[!UICONTROL Customer Addresses Limit]** 設定。 之前，Magento Open Source會載入整個通訊錄。

<!-- ACP2E-2174 -->

* 當一個專案無存貨時，現在可以在購物車中依預期變更有存貨專案的產品數量。 過去，購物者無法在任何專案無存貨時變更產品數量。

<!-- ACP2E-2269 -->

* 此 `AdvancedSalesRule` 產品屬性篩選器現在可正確搭配十進位屬性後端型別運作。 因此，購物車規則包含 `Coupon Type` 設為 **[!UICONTROL No Coupon]** 現在可如預期般運作。

<!-- ACP2E-2376 -->

* 整個購物車折扣的全部金額現在會依預期套用至同時包含套裝和可設定產品的購物車。

<!-- ACP2E-2092 -->

* 客戶區段Cookie現在會遵守Cookie的網域設定。 以前，即使工作階段已共用，迷你購物車在包含子網域的存放區中也不會如預期更新。

<!-- AC-9340 -->

* 將訂單運送至多個地址時，區域ID處理期間不會再觸發錯誤。

<!-- AC-8853 -->

* 在購物車層級套用的固定折扣金額現在是正確的。[GitHub-37496](https://github.com/magento/magento2/issues/37496)

<!-- AC-2044 -->

* 現在，當購物者在選取固定運費送貨方式（其送貨方式設定為條件的購物車價格規則適用）後套用優惠券時，優惠券將成功套用至訂單。 以前，購物車頁面顯示「優惠券無效」錯誤，且未套用優惠券。 [GitHub-34866](https://github.com/magento/magento2/issues/34866)

<!-- AC-2044 -->

* 現在，當購物者在選取固定運費送貨方式（其送貨方式設定為條件的購物車價格規則適用）後套用優惠券時，優惠券將成功套用至訂單。 以前，購物車頁面顯示「優惠券無效」錯誤，且未套用優惠券。 [GitHub-34866](https://github.com/magento/magento2/issues/34866)

<!-- AC-8596 -->

* 此 **[!UICONTROL My billing and shipping address are the same]** 當購物者使用Chrome自動完成填寫其送貨地址然後按一下時，核取方塊現在預設保持勾選狀態 **下一個** 重新載入送貨方法區塊之前。 [GitHub-33725](https://github.com/magento/magento2/issues/33725)

<!-- ACP2E-2005 -->

* 此 `applied_rule_ids` 中的值 `quote_item` 表格現在包含已套用規則ID的正確清單。 過去，此值僅包含最後套用的規則ID。

<!-- ACP2E-2025 -->

* 現在當工作階段從伺服器移除時，會重設本機儲存空間中的迷你購物車和客戶資料。 先前，移除工作階段檔案時，此資料仍會顯示。

<!-- ACP2E-1763 -->

* 啟用永久購物車時，不再錯誤地從管理員合併分散式購物車。

<!-- ACP2E-1580 -->

* 購物車稅和運送估算程式現在會正確反映預設目的地設定。 先前，當您設定預設稅捐目的地計算設定並指定州/地區和ZIP時，購物車下方僅會顯示ZIP值 **[!UICONTROL Estimate Tax and Shipping]**. 這是由於在從管理員叫用設定預設地區ID的條件陳述式之前，Magento Open Source將地區ID設定為undefined所導致。

<!-- ACP2E-1547 -->

* 啟用永久購物車時，Magento Open Source在結帳期間不再擲回此錯誤： `Invalid state change requested`. 先前，擲回此錯誤時，有多份訂單具有相同的 `quote_id` 偶爾會建立。

<!-- ACP2E-1456 -->

* 迷你購物車現在會顯示反映購物車稅務組態設定的套裝產品價格。 之前，迷你購物車一律會將稅金納入套裝產品的價格中。

<!-- AC-7503 -->

* 從購物車頁面提供的運費估計現在準確。 `collectShippingRates` 現在僅設定一次。 先前是重複送貨預估。 [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* 此 `cart` 指定購物車中的產品無存貨時，查詢不再傳回錯誤。 以往，使用此查詢進行購買的購物者，在專案無庫存，且結帳頁面為空白時，無法完成購買。

<!-- ACP2E-1459 -->

* 訪客API請求至 `POST V1/guest-carts/<cartId>/shipping-information` 不再傳回 `cancel` 如果頁面在登入行動環境期間重新載入，則為狀態。 之前，Magento Open Source擲回500錯誤並記錄此例外狀況： `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* 免費送貨資格現在會依照預期計算，當 **[!UICONTROL Subtotal (Excl. Tax)]** 已套用購物車規則的條件。 [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* 此 `cart` query現在會傳回產品的正確層級定價。 [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- AC-1162 -->

* 已將資訊性錯誤訊息新增至結帳頁面，以在出貨頁面上套用優惠券與所選出貨方法衝突時引導購物者。 之前，系統會傳送一條訊息要求購物者返回上一頁。

<!-- ENGCOM-8387 -->

* 驗證快顯視窗現在僅在需要時初始化，而非在啟用訪客簽出時。 現在，當訪客購物者嘗試繼續結帳，且訪客結帳停用時，它會初始化。 [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### 購物車價格規則

<!-- AC-2054 -->

* 購物車價格規則產品子選取條件現在包含 `total (incl.tax)` 選項。 [GitHub-34871](https://github.com/magento/magento2/issues/34871)

<!-- ACP2E-2029 -->

* 此 `If an item is FOUND/NOT FOUND in the cart with ALL/ANY of these conditions true` 目錄價格規則條件現在可正確搭配類別和SKU屬性運作。 之前，此條件未正確套用至購物車價格優惠券邏輯，且無效的優惠券套用至訂單。 [GitHub-37660](https://github.com/magento/magento2/issues/37660)

<!-- ACP2E-1932 -->

* 您現在可以使用成功儲存新的購物車價格規則 `Magento_OfflineShipping` 擴充功能已停用。 之前，Magento Open Source擲回此錯誤： `report.ERROR: Warning: Undefined array key "simple_free_shipping"`. [GitHub-37580](https://github.com/magento/magento2/issues/37580)

<!-- ACP2E-1516 -->

* 當為商店設定與某個配送方式相關的購物車價格規則，且在結帳期間此配送方式變更為另一個配送方式時，購物車價格規則現在可如預期套用。 先前， `applied_rule_ids` 值從未在 `sales_order_item` 資料表，且購物車價格規則未套用至訂單。

<!-- AC-2044 -->

* 現在，當購物者在選取固定運費送貨方式（其送貨方式設定為條件的購物車價格規則適用）後套用優惠券時，優惠券將成功套用至訂單。 之前，購物車頁面會顯示 `Coupon is Not valid` 錯誤，且未套用抵用券。 [GitHub-34866](https://github.com/magento/magento2/issues/34866)

### 目錄

<!-- AC-10746 -->

* 執行中 `bin/magento cache:clean` 或 `bin/magento cache:flush` 除非另有指定，否則不再排清整個內建或Varnish全頁快取。 [GitHub-38301](https://github.com/magento/magento2/issues/38301)

<!-- ACP2E-2257 -->

* 商家現在可以使用產品輪播在下列情況下建立CMS區塊： `catalog_product_price dimensions-mode` 設為 `website`. 之前，Magento Open Source未儲存區塊，並擲回此SLQ錯誤： `report.CRITICAL: PDOException: SQLSTATE[42S02]: Base table or view not found: 1146 Table`.

<!-- AC-6847 -->

* 產品詳細資料頁面上的產品顏色變更時，Magento Open Source不再顯示重複影像。  [GitHub-36243](https://github.com/magento/magento2/issues/36243)

<!-- ACP2E-2504 -->

* 在大型多商店環境中新增商店或變更現有商店後，針對同步網站特定值最佳化演演算法。

<!-- ACP2E-2631 -->

* 已改善快取影像檔案的清理程式，以避免在中建立隱藏目錄。 `pub/media/catalog/product` 資料夾。 以前，隱藏的目錄在清理操作期間會導致磁碟空間問題。 操作可以終止，這會留下永遠未刪除的暫時隱藏目錄。

<!-- AC-10316 -->

* 組合產品價格現在已正確計算，且計算價格時的作業順序問題已解決。 [GitHub-35665](https://github.com/magento/magento2/issues/35665)

<!-- AC-6996 -->

* 已移除不必要的子句 `catalog_product_price` 索引查詢，這已改善此索引子在擁有大型目錄之存放區上的效能。 [GitHub-32382](https://github.com/magento/magento2/issues/32382)

<!-- ACP2E-2522 -->

* Magento Open Source不再將產品說明文字插入產品詳細資料頁面 **[!UICONTROL Meta Description]** 此欄位留空時的欄位。 先前，當產品說明包含頁面產生器或其他HTML編輯器產生的HTML程式碼時，HTML會顯示在中繼中 **[!UICONTROL Description]** 欄位，因此您無法將此欄位留空。

<!-- ACP2E-2308 -->

* 可設定產品PDP頁面上可設定的產品選項不再受頁面上其他可設定產品選項的影響。 以前，當產品詳細資料頁面上出現產品輪播時，具有下拉式屬性的可設定產品不再觸發例外狀況。 當頁面上出現其他具有色票選項的可設定產品時，無法選取可設定產品選項。

<!-- ACP2E-2260 -->

* 最近檢視的產品資訊現在會根據商店檢視設定而顯示。 之前，最近檢視的產品資料不會根據商店檢視而更新，包括名稱和偏好的語言。

<!-- ACP2E-2296 -->

* Vimeo影片現在可在Chromium架構網頁瀏覽器的行動檢視中，依預期在產品頁面上播放。

<!-- ACP2E-1959 -->

* 此 `bin/magento catalog:images:resize` 命令現在會正確針對指派給具有自訂主題之自訂網站的產品產生產品影像。

<!-- ACP2E-1982 -->

* 中繼資料與 `NULL` 或 `NOT NULL` 現在會根據 **使用預設值** 核取方塊。 先前，使用中繼資料 `NULL` 取消核取此核取方塊時，值未儲存。

<!-- ACP2E-2093 -->

* 商家現在可以從產品詳細資料頁面成功刪除現有影像，然後上傳具有相同名稱的新影像。 先前在這些情況下，店面產品頁面不會顯示正確的影像。

<!-- ACP2E-2128 -->

* 此 `productDetail` 當產品影像時，查詢現在會傳回產品名稱而不是null `alt` 屬性已設定為空白。

<!-- ACP2E-2215 -->

* 現在，包含可下載產品與實體產品的訂單，會在訂單完成後立即包含可下載產品的作用連結。 以前，在同一訂單的實體產品出貨之前，無法取得可下載產品的連結。

<!-- ACP2E-2343 -->

* 當類別從一個存放區/根類別移至另一個存放區/根類別時，URL重寫現在會更新。 現在，當子類別轉移到新的父類別時，系統會移除過時的資料庫專案。 資料庫現在僅包含相關專案。 先前， `url_path` 未使用正確的存放區ID更新。

<!-- ACP2E-2152 -->

* 其餘的 `V1/products/<sku>/media` 端點現在可以處理多個媒體影像的同時上傳。 先前，當同時處理多個請求時，會建立不一致的資料，而當此資料儲存至資料庫時，Magento Open Source會擲回錯誤。

<!-- ACP2E-2219 -->

* 已改善類別產品和產品類別索引器的部分重新索引效能。 先前， `indexer_update_all_views` cron工作會針對單一產品或類別執行多次重新索引器。

<!-- ACP2E-2043 -->

* 當產品庫存狀態根據庫存組態（數量）自動更新為無庫存，庫存狀態隨後將在庫存數量更新時更新為庫存。 先前， `stock_status_changed_auto` 產品的庫存設定更新為庫存時，會忽略設定。

<!-- AC-8904 -->

* 工具列排序現在可在搜尋頁面上如預期運作，當 **[!UICONTROL Remember Category Pagination]** 設定已啟用。 [GitHub-33220](https://github.com/magento/magento2/issues/33220)

<!-- ACP2E-1640 -->

* 現在多選屬性會如預期儲存，當 **[!UICONTROL Use Default Value]** 已選取存放區檢視範圍中的核取方塊。 先前，編輯產品並儲存預設值時，此核取方塊會取消勾選。

<!-- ACP2E-1878 -->

* 具有網站限制存取權的管理員使用者現在可以將影像新增至其範圍內的產品。 如果管理員使用者沒有產品的存取權，Magento Open Source會顯示資訊訊息。 以前，具有網站限制存取權的管理員使用者無法將影像新增至他們有權存取的產品。

<!-- AC-6761 -->

* 在「管理員>」中依名稱排序產品後，Magento Open Source現在會顯示正確名稱 **[!UICONTROL Category]** > **[!UICONTROL Products in category]** 產品名稱會因商店而異的多商店部署中。 [GitHub-36208](https://github.com/magento/magento2/issues/36208)

<!-- ACP2E-1975 -->

* 此 `addProductsToCart` 突變現在會傳回包含資料的可自訂選項。 以前只傳回空白的可自訂選項。 [GitHub-37599](https://github.com/magento/magento2/issues/37599)

<!-- ACP2E-1943 -->

* 現在，店面可正確顯示產品延期交貨狀態。 以前，可供出貨的產品被錯誤地識別為延期交貨。

<!-- ACP2E-1994 -->

* 匯出的產品現在具有正確的值 `manage_stock` 值，當 `use_config_manage_stock` 值等於 `1`. 之前，此預設值不正確。

<!-- ACP2E-1948 -->

* 從管理員存取可下載的產品不再會導致錯誤，當管理員使用者將商店檢視從產品建立期間使用的檢視變更為另一個商店檢視。 現在，當管理員使用者將商店檢視從所有商店檢視切換為預設商店檢視時，產品價格已成功轉換為浮點數。 之前，Magento Open Source擲回錯誤。 [GitHub-37519](https://github.com/magento/magento2/issues/37519)

<!-- ACP2E-1479 -->

* 當您儲存使用自訂選項建立的產品時（在刪除其影像後），Magento Open Source不再顯示警告訊息。

<!-- ACP2E-1419 -->

* 當產品重新補充庫存時，所傳送的產品庫存警示電子郵件現在會如預期般顯示產品縮圖影像。 以前，此影像不會顯示在警報電子郵件中

<!-- AC-3003 -->

* 類別樹狀結構中的產品計數（管理員） **[!UICONTROL Catalog]** > **[!UICONTROL Category]**)現在準確。 之前，無法從 `catalog_category_product_index` 表格。 已修正觸發此錯誤的錯字。 [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* 產品詳細資料頁面上的主要產品影像在頁面載入期間不再明顯向下移轉，當 `product_image_white_borders` 佈景主題中 `view.xml` 已停用。 之前，由於Fotorama JS中的高度設定不正確，產品影像在頁面載入期間會明顯向下位移。

<!-- ACP2E-1361 -->

* 客戶訂閱降價警示時，現在會收到產品價格下降的通知。 以往，由於應用程式層級的快取，系統不會一律傳送降價通知。

<!-- ACP2E-1422 -->

* 透過網頁API建立產品屬性的程式已新增伺服器端驗證。 您無法啟用 **[!UICONTROL Use in Layered Navigation Catalog]** 欄位當 **[!UICONTROL Catalog Input Type for Store Owner]** 欄位值為 `Text Field`， `Text Area`， `Text Editor`， `Date`，或 `Date and Time`. 以前，類別和搜尋結果中會忽略產品。

<!-- ACP2E-1413 -->

* 現在，當購物者開啟頁面、變更分頁、導覽至產品頁面，然後返回類別頁面後，類別頁面會以正確的分頁重新載入。 [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* 沒有庫存的簡單產品如果是可供設定之產品的選項，現在會在下列情況下，在店面顯示為停用 **[!UICONTROL Display Out of Stock Products]** 設為 **是**. 以前，所有選項都會顯示為可用，無論其狀態和實際可用性為何。

<!-- ACP2E-1384 -->

* 更新特定存放區檢視中的網站範圍屬性，不再覆寫全域範圍中該屬性的值。 先前，當同一SKU和可使用多個資料列時匯入產品價格 `store_view_code` 導致預設和所有存放區檢視範圍的價格不正確。

<!-- ACP2E-1632 -->

* 商戶現在可以從Admin將GIF影像新增至產品的影像庫。 之前，Magento Open Source會顯示此錯誤： `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* 已新增檢查以處理未定義陣列索引鍵造成的錯誤。 先前，產生宣告式結構描述白名單時發生錯誤。

<!-- ACP2E-1749 -->

* Magento Open Source現在會傳回自訂日期的有效結果 `01/01/1970`. 以前，自訂屬性傳回此錯誤： `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` 使用片段的查詢現在會如預期傳回類別資訊。 之前，類別頁面上發生內部伺服器錯誤。 [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* 的問題 `cataloginventory_stock` 部分重新索引程式已解決，且索引器效能已改善。 以前，庫存和產品類別無法準確更新。

<!-- AC-8226 -->

* Magento Open Source現在會在產品所屬的類別已移至新父項時，為產品產生301重新導向。 [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### 目錄規則

<!-- ACP2E-1834 -->

* 現在當由排程更新啟用時，目錄規則可正確索引。 因此，現在可以正確產生折扣價格並編制索引。 先前，如果有兩個目錄規則可用，且在第一個規則的目錄規則索引作業完成之前，於第一個規則之後啟動一個規則時，系統不會為第二個目錄規則產生目錄規則折扣價格。

<!-- ACP2E-1579 -->

* 現在，目錄規則可如預期般套用於多網站環境。

### 可設定的產品

<!-- ACP2E-1881 -->

* 商家現在可以選擇 **[!UICONTROL Skip quantity at this time]** 和 **[!UICONTROL Skip image uploading at this]** 在設定可設定的產品時不影響相關簡單產品的來源。 先前，選取 **[!UICONTROL Skip quantity at this time]** 導致產品來源消失。

<!-- AC-7099 -->

* 此 **[!UICONTROL As low as]** 當所有選項的價格都相同時，標籤不再針對可設定產品價格顯示。

<!-- ACP2E-2464 -->

* 具有網站許可權的管理員使用者現在可以將屬於可設定產品一部分的子產品儲存在不同的商店內容中。 重新索引程式現在會跳過這種可設定產品的型別。

<!-- ACP2E-2003 -->

* 排程更新停用一個子產品時，不再將具有兩個子產品的可設定產品標示為無庫存。 這是2.4.7-beta1的已知問題。

<!-- AC-8060 -->

* 針對具有多個選項之可設定產品，其儲存操作的效能已有所改善。 以前，在產品儲存操作期間可能會發生逾時。 [GitHub-36928](https://github.com/magento/magento2/issues/36928)

<!-- ACP2E-1764 -->

* 當購物者選取產品選項時，可設定產品價格的店面顯示現在會如預期變更。 [GitHub-37378](https://github.com/magento/magento2/issues/37378)

### 優惠券

<!-- ACP2E-2495 -->

* 現在當先前使用優惠券的訂單失敗時，可再次使用每位客戶有限數量的優惠券代碼。 先前，取消先前的訂單時，促銷代碼不會發行。

<!-- ACP2E-2428 -->

* 包含空格字元的優惠券代碼不再失效。 先前，如果抵用券代碼包含空格字元（在實際代碼之前或之後），驗證會失敗。 [GitHub-38048](https://github.com/magento/magento2/issues/38048)

<!-- ACP2E-1551 -->

* 現在，當購物者的單次使用優惠券套用至的訂單取消時，其單次使用優惠券值會如預期般還原。

<!-- ACP2E-1195 -->

* 此 `GET V1/coupons/<couponId>` 端點現在會傳回手動建立之優惠券的完整預期回應，就像自動產生優惠券一樣。 以前會忽略一些欄位(例如 `usage_limit`， `usage_per_customer`、和 `created_at`)。

### cron

<!-- ACP2E-2457 -->

* 此 `aggregate_sales_report_bestsellers_data` cron工作不再建立非常大型的臨時MySQL表格，現在可以成功完成。 此cron作業現在會在每個存放區插入資料，而非一次為所有存放區插入資料。 之前，此cron工作可能會導致 `No space left on device` 錯誤。

<!-- ACP2E-2427 -->

* 中的擱置記錄數 `cron_schedule` 已藉由防止cron工作嘗試取得不必要的cron工作鎖定而減少資料表。 以前，cron工作嘗試在太晚而無法執行工作時取得鎖定。 中的Cron工作 `cron_schedule` 未標籤為已錯過，即使他們已超過其排程時間。 Magento Open Source也在錯誤記錄中重複顯示此錯誤： `report.WARNING: Could not acquire lock for cron job: indexer_update_all_views`.

<!-- AC-9207 -->

* 修正cron運算式中除以零的嚴重錯誤。 [GitHub-37804](https://github.com/magento/magento2/issues/37804)

<!-- ACP2E-1792 -->

* 此 `sales_clean_quotes` 透過新增複合索引，cron流程已最佳化以更快執行。 `store_id` 和 `updated_at columns` 在報價表中。 這項變更可改善處理許多報價時的cron工作效能。

<!-- AC-7987 -->

* 管理員使用者現在可以檢視 `bin/magento cron:run` 處理目前正在執行。 目前執行中的程式標題現在會列出群組和工作名稱。 [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### 客戶

<!-- AC-6748 -->

* Magento Open Source現在會顯示 **[!UICONTROL Date of Birth]**， **[!UICONTROL Tax/VAT Number]**， **[!UICONTROL Gender]**， **[!UICONTROL Telephone]**， **[!UICONTROL Company]**、和 **[!UICONTROL Fax]** 根據組態設定在「編輯客戶」頁面上的欄位。 [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### 電子郵件

<!-- ACP2E-2125 -->

* 包含變音符號或重音符號的電子郵件（即utf8電子郵件）現在支援客戶和公司，以及來賓和註冊客戶的訂單下單。 之前，Magento Open Source不會儲存包含變音符號的客戶記錄並顯示此錯誤： `Something went wrong while saving the customer`.

<!-- ACP2E-2503 -->

* 電子郵件寄件者名稱不再包含冒號字元。 現在，新的驗證規則可防止從「管理員」的「存放區電子郵件地址」區段中儲存包含冒號字元的寄件者名稱 **[!UICONTROL Stores]** > **[!UICONTROL General]**. 以前，商家可能會儲存包含冒號字元的寄件者名稱，這會導致郵件伺服器錯誤。

<!-- AC-2903 -->

* 客戶電子郵件地址現在可以包含變音符號。 以前，前端驗證禁止在電子郵件地址中建立變音符號的使用者。 [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* 庫存和價格警示電子郵件現在會根據為網站預設商店檢視設定的語言進行翻譯。 以前，這些電子郵件不會翻譯。

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` 現在會傳送電子郵件，提醒客戶訂單已準備好提貨。 現在僅當無一例外履行請求時，才會觸發電子郵件。

### 框架

<!-- AC-10873 -->

* 已透過新增 `UNCACHEABLE` 使用Varnish輸出HTTP標頭時的值。 先前，僅限 `HIT` 或 `MISS` 已輸出值。 [GitHub-37912](https://github.com/magento/magento2/issues/37912)

<!-- AC-10884 -->

* 新增程式碼以支援預設的Varnish壓縮處理。 [GitHub-38309](https://github.com/magento/magento2/issues/38309)

<!-- AC-8502 -->

* 此 `varnish:vcl:generate` 命令現在包含 `input-file argument`. 這可支援新增自訂VCL至Git存放庫（相對於Commerce根目錄）。 [GitHub-37363](https://github.com/magento/magento2/issues/37363)

<!-- AC-10739 -->

* 已從程式碼基底中移除對Varnish 4.x和5.x的支援。 [GitHub-38304](https://github.com/magento/magento2/issues/38304)

<!-- AC-8023 -->

* `phpcodesniffer-composer-installer` 在 `composer.json` 已升級至v1.0.0。 [GitHub-36913](https://github.com/magento/magento2/issues/36913)

<!-- AC-10858 -->

* 不符合的字元 [RFC3986](https://www.rfc-editor.org/rfc/rfc3986.html)  已從程式碼基底中移除。 [GitHub-38355](https://github.com/magento/magento2/issues/38355)

<!-- AC-10692 -->

* 修正PHP doc標籤錯誤(在 `Magento\Reports\Block\Adminhtml\Shopcart\Product\Grid` 類別。 [GitHub-38186](https://github.com/magento/magento2/issues/38186)

<!-- AC-10865 -->

* 在整個程式碼基底中重構程式碼，該程式碼基底是在程式碼實務中要求任何包含在中的快取區段時建立的。 `app/etc/env.php` 檔案會包含前端區段。 此重構可解決升級2.4.4之前版本的Magento Open Source部署時的潛在問題。 [GitHub-38363](https://github.com/magento/magento2/issues/38363)

<!-- AC-8005 -->

* 釐清與關聯的錯誤訊息 `StockItemValidator.php` 在API呼叫期間提供值為0的存貨ID時。 [GitHub-31107](https://github.com/magento/magento2/issues/31107)

<!-- AC-10583 -->

* 新增預設空陣列至 `$tagGenerators` 在 `CompositeTagGenerator` 以防止在相依性插入編譯期間發生錯誤。 之前，請執行 `bin/magento setup:upgrade` 命令，當 `Magento_DirectoryGraphQl` 和 `Magento_StoreGraphQl` 模組已停用，導致錯誤。 [GitHub-38165](https://github.com/magento/magento2/issues/38165)

<!-- AC-9232 -->

* 未使用的 `AlgorithmProviderFactory` 類別以及此類別在類別中的相依性已移除，包括 `JweAlgorithmManagerFactory.php`， `JweContentAlgorithmManagerFactory.php`、和 `JwsAlgorithmManagerFactory`. [GitHub-37783](https://github.com/magento/magento2/issues/37783)

<!-- AC-9776 -->

* 此 `var/log/system.log` 檔案不再包含 `main.INFO` 錯誤訊息。 功能表專案記錄檔已從INFO層級移至DEBUG。 先前， `var/log/system.log` 檔案中滿是類似以下的訊息： `Add of item with id Magento_Theme::design_config was processed … `.

<!-- AC-8809 -->

* Redis預先載入不再失敗，當 `exec()` 傳回false。 已將驗證新增至預先載入程式，以防止 `array_combine` 從接收 `false` 作為第二個引數。 因此，在以下情況下，預先載入將繼續執行： `exec()` 傳回 `false`. [GitHub-37509](https://github.com/magento/magento2/issues/37509)

<!-- AC-8220 -->

* 已重構 `Magento_CatalogWidget` 要取代的模組 `$block` 逸出函式 `$escaper` 逸出函式。 [GitHub-37107](https://github.com/magento/magento2/issues/37107)

<!-- AC-9336 -->

* `Swaziland` 已更新至 `Eswatini` 整個程式碼基底。 [GitHub-37873](https://github.com/magento/magento2/issues/37873)

<!-- ACP2E-2638 -->

* 將新的尼加拉瓜貨幣(NIO)新增到可用貨幣清單中。

<!-- AC-10591 -->

* 更正中的變數名稱 `CatalogRule/Controller/Adminhtml/Promo/Catalog/NewConditionHtml.php`. [GitHub-38093](https://github.com/magento/magento2/issues/38093)

<!-- AC-9221 -->

* 解決已啟用小數數量之產品的異動中發生的小計舍入錯誤。 [GitHub-37817](https://github.com/magento/magento2/issues/37817)

<!-- ACP2E-2127 -->

* 「管理員」客戶格線的日期篩選器現在會根據指定的地區設定如預期運作。

<!-- AC-9027 -->

* 此 `bin/magento setup:upgrade` 命令不再失敗，因為 `$schemaPatch` 變數資料型別。 之前，字串值會傳遞至 `get_class` 函式中，而造成錯誤。 [GitHub-37545](https://github.com/magento/magento2/issues/37545)

<!-- ACP2E-2345 -->

* 現在，如果您設定時，連線在交易期間逾時，就會還原與MySQL資料庫的連線 `max_messages = 0` 適用於消費者。 之前，連線已終止。

<!-- ACP2E-2121 -->

* 此 `magento/module-release-notification` 在2.4-develop程式碼中，核心模組已標籤為已過時，並附有下列註解： `Starting from Magento 2.4.7, Magento_ReleaseNotification module is deprecated in favor of another in-product messaging mechanism`.

<!-- AC-9388 -->

* Proxy程式碼產生現在會產生Proxy和Factory檔案，以在生產模式執行的部署中如預期運作。 [GitHub-35252](https://github.com/magento/magento2/issues/35252)

<!-- AC-1477 -->

* 印度拉達克州現在列為管理地址中的選項 **[!UICONTROL State]** 下拉式功能表。 [GitHub-33698](https://github.com/magento/magento2/issues/33698)

<!-- AC-8388 -->

* 事件倒數計時器現在會如預期般顯示在類別頁面上。

<!-- AC-8369 8368 8365 8317 8351 8357 8377 8357 8351 8323-->

* 已禁止 `@author` 標籤已從程式碼基底中移除，包括下列模組： `Magento_user-variable-wee`， `Magento_Catalog`、和 `Magento_Customer`， `Magento_Wishlist`， `Magento_Review` `Tax`、及整個框架。 [GitHub-37245](https://github.com/magento/magento2/issues/37245)， [GitHub-37246](https://github.com/magento/magento2/issues/37246)， [GitHub-37249](https://github.com/magento/magento2/issues/37249)， [GitHub-37263](https://github.com/magento/magento2/issues/37263)

<!-- AC-9489 -->

* 中的JSON序列化程式 `User` 模組已更換為更精確的新序列化程式(`JsonHexTag`)。 以前，當包含未逸出的元素時，嘗試使用由規則序列化程式序列化的資料時，Magento Open Source有時會當機。 [GitHub-31377](https://github.com/magento/magento2/issues/31377)

<!-- ACP2E-2138 -->

* 執行完整重新索引時不再發生中斷的管線錯誤(`bin/magento indexer:reindex`)。 AMPQ連線現在會在程式管理員分叉程式之前關閉。

<!-- ACP2E-2244 -->

* 佇列訊息驗證器現在會驗證所有陣列元素的子型別。 之前，Magento Open Source擲回例外狀況。

<!-- ACP2E-2066 -->

* 中每個主題的佇列連線設定 `app/etc/env.php` 現在可正常運作。 先前，使用自訂交換建立新訊息佇列時，產品警報佇列無法正確產生。 如果主題的佇列連線設定於 `app/etc/env.php` 使用自訂交換時，已為該自訂交換的所有主題建立新的繫結。 商家無法處理產品警示。

<!-- ACP2E-2144 -->

* 附有標籤的時間格式 `/* mariadb-5.3 */` 註解於執行期間不再導致錯誤 `bin/magento setup:install` 將MariaDB伺服器升級至10.5.1版或更新版本時。

<!-- ACP2E-2147 -->

* AwsS3驅動程式現在可如預期般運作，取代基本預設檔案儲存實作。 以前，當這個驅動程式設定為檔案儲存時，資料可能會損毀。 [GitHub-37844](https://github.com/magento/magento2/issues/37844)

<!-- ACP2E-1999 -->

* `bin/magento config:show` 和 `set` 使用的命令 `$_ENV` 變數現在支援使用包含駝峰式大小寫或大寫字元的網站和商店程式碼。

<!-- AC-8923 -->

* 新增的類別具有 `!important` 如用於Tailwind 3以支援CSS版面。 [GitHub-37568](https://github.com/magento/magento2/issues/37568)

<!-- AC-9115 -->

* 遺失 `jQuery` 相依性已新增至 `trim-input.js` 檔案。 [GitHub-37683](https://github.com/magento/magento2/issues/37683)

<!-- AC-9387 -->

* 事件特定詳細資料現在會作為第二個屬性傳遞(`context`的) `log` 方法。 [GitHub-37879](https://github.com/magento/magento2/issues/37879)

<!-- AC-9109 -->

* 外觀比例值已新增至目錄影像，且已從UI架構中移除不必要的指令碼。 [GitHub-37691](https://github.com/magento/magento2/issues/37691)

<!-- AC-9188 -->

* 修訂無效XML設定所觸發的錯誤訊息，以提供更多資訊。 [GitHub-37788](https://github.com/magento/magento2/issues/37788)

<!-- AC-9335 8817-->

* 已重構的已棄用程式碼，與在整個程式碼基底中建立動態屬性有關。

<!-- AC-7009 -->

* 對於擁有極活躍產品資料庫的大型商店，索引器的效能已有所改善。 索引器現在會為每個索引編制一次最新產品資訊的索引，而非多次。 以前，產品會從網站上消失，而網站上的產品資料可能會過期。 [GitHub-30012](https://github.com/magento/magento2/issues/30012)

<!-- ACP2E-1971 -->

* `mview_state` 現在，當從屬資料庫連線可用時，記錄狀態會根據變更記錄檔活動準確地指出狀態。 之前，這些記錄會保留在 `waiting` 即使changelog中沒有新專案，雲端部署中的狀態。

<!-- ACP2E-2022 -->

* 新增對 `precision` 貨幣格式的選項，用於保留與已棄用的同位功能 `ZendCurrency` 類別。

<!-- AC-8854 -->

* Cookie訊息已轉換為可觀察屬性，開發人員現在可以控制狀態，這可能會觸發UI變更。 之前，Cookie是唯讀狀態且無法操控。 [GitHub-37308](https://github.com/magento/magento2/issues/37308)

<!-- AC-6325 -->

* 現在，當管理員使用者的Magento Open Source執行個體連線至S3儲存空間時，管理員使用者可以產生發票。 之前，Magento Open Source會顯示此錯誤： `Cannot create image resource. File not found`. [GitHub-35706](https://github.com/magento/magento2/issues/35706)

<!-- AC-6906 -->

* 當VIES驗證服務的VAT編號驗證失敗時，Magento Open Source現在會如預期記錄例外訊息。 [GitHub-36065](https://github.com/magento/magento2/issues/36065)

<!-- AC-8146 -->

* 此 `Administrators` 在建立管理員角色期間，名稱已從用來擷取管理員角色的查詢中移除。 [GitHub-36998](https://github.com/magento/magento2/issues/36998)

<!-- AC-8607 -->

* 此 `bin/magento setup:config:set` 當無效的資料庫使用者名稱包含在時，命令不再失敗 `app/etc/env.php` 檔案。 [GitHub-37409](https://github.com/magento/magento2/issues/37409)

<!-- AC-8595 -->

* 依預設管理員UI元件中保留文字的欄排序時，不再導致以下專案出現SQL錯誤： `var/log/exception.log`. [GitHub-37423](https://github.com/magento/magento2/issues/37423)

<!-- AC-8562 -->

* 已新增 `AddDataForCostaRica.php` 為哥斯大黎加提供國家資訊。 [GitHub-37382](https://github.com/magento/magento2/issues/37382).

<!-- AC-8577 -->

* 改善使用者嘗試從管理員存取無效URL的案例的錯誤訊息。 [GitHub-35682](https://github.com/magento/magento2/issues/35682).

<!-- ACP2E-1841 -->

* `Param $options[`position`]` 貨幣符號現在可如預期運作，並支援自訂貨幣符號位置。 先前，從Zend Framework 1移轉之後， `toCurrency` 方法已忽略 `position` 引數。 此問題在整個管理員介面中發生。

<!-- ACP2E-1492 -->

* 已對訂單實作Mutex，以防止在並行請求更新期間出現競爭條件。 以前，訂單取消的並行請求（競爭條件）會導致 `inventory_reservation` 表格。

<!-- ACP2E-1381 -->

* 此 `populateWithArray` 函式現在將物件屬性正確轉換為Snake大小寫，使其與 `AbstractModel` getter和setter。 先前，當資料屬性名稱連續包含數個大寫字母時，Snake大小寫格式不正確。

<!-- ACP2E-1522 -->

* 中的自動增量值 `catalog_product_entity_varchar` 現在表格會在儲存產品後正確增加。 以前此值會增加十。

<!-- ACP2E-1701 -->

* 當您嘗試清除JavaScript/CSS快取時，Magento Open Source不再擲回此檔案系統例外狀況： `No such file or directory`.

<!-- ACP2E-1358 -->

* 的值 `value_id` 在 `customer_entity_int` 現在已正確增加。 會執行更新查詢，而不是 `insert on duplicate key update` 更新合併這些屬性的實體時。 因此，EAV模型中使用的自動增加欄現在會以線性方式增加。 先前，欄的自動遞增程式會略過由於失敗的插入查詢而略過的值。 [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* 移除不必要的空白字元 `id` 不需要的屬性。 (此錯誤是由Magento Open Source2.4.6程式碼變更所造成。)

<!-- AC-7923 -->

* 當存放區處於單一存放區模式時，存放區代碼不再出現在存放區URL中。 [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* 已進行微幅更新 `around` 外掛程式。 [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* 色票 `Helper` 已重構為移除誤導性的匯入別名。 [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* 管理員使用者現在可以刪除或重新命名 `sitemap.xml` 檔案（如預期）。 以前，管理員使用者可以從管理員中刪除檔案，但檔案會保留在檔案系統中。 [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* 當已套用優惠券的訂單付款失敗時，不再將優惠券標示為已使用。 佇列訊息現在會依消費者啟動時的發佈順序進行處理。 先前，系統會從佇列中提取第一個訊息，僅檢查訊息是否已加入佇列，之後系統會拒絕第一個訊息，導致第一個訊息最後經過處理。

<!-- ACP2E-1627 -->

* 當使用者嘗試列印出貨標籤時，Magento Open Source不會再在記錄檔中擲回例外狀況。 先前，如果擴充功能修改包含附件的回應標頭，系統會在記錄檔中擲回例外狀況。

<!-- AC-7986 -->

* 已新增對更多HTML類別的支援 `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)

### 一般修正

<!-- AC-10591 -->

* 已變更的名稱 `reponseBody` 變數至 `responseBody` 在 `app/code/Magento/CatalogRule/Controller/Adminhtml/Promo/Catalog/NewConditionHtml.php`.[GitHub-38093](https://github.com/magento/magento2/issues/38093)

<!-- ACP2E-2647 -->

* 排程產品更新不再清除多選屬性資料。 先前，當排程產品的更新時，產品的複選屬性資料會被錯誤清除。 [GitHub-37675](https://github.com/magento/magento2/issues/37675)

<!-- AC-2904 -->

* 使用載入時，以非預設存放區範圍儲存產品不再導致未變更的屬性變成存放區範圍 `ProductRepository`. [GitHub-8897](https://github.com/magento/magento2/issues/8897)

<!-- ACP2E-2404 -->

* 資訊性錯誤訊息已新增到產品詳細資料頁面上的自訂欄位驗證。 [GitHub-38006](https://github.com/magento/magento2/issues/38006)

<!-- ACP2E-2511 -->

* 名稱欄位現在可以使用特殊字元。 先前，&amp;字元在名稱驗證器中受到限制，當客戶名稱包含&amp;時，這會封鎖客戶新增或編輯操作。 [GitHub-38080](https://github.com/magento/magento2/issues/38080)

<!-- ACP2E-2469 -->

* 對特定商店具有受限存取權的管理員使用者現在可以使用大量更新動作來更新產品評論。 之前，Magento Open Source擲回此例外狀況： `report.CRITICAL: TypeError: array_intersect(): Argument #1 ($array) must be of type array, null given in app/code/Magento/AdminGws/Model/Models.php:439`.

<!-- AC-8600 -->

* 店面登入頁面的顯示密碼功能現在會如預期顯示密碼。 以前不會顯示密碼。 [GitHub-37432](https://github.com/magento/magento2/issues/37432)

<!-- ACP2E-2062 -->

* 產品比較清單現在一律為訪客購物者設定網站專用，不包含從其他網站新增的產品，包括指派給兩個網站的產品。

<!-- ACP2E-2087 -->

* 儲存至資料庫時，包含表情符號的CMS內容區塊在表情符號之後不再截斷。 以前，由於預設資料庫設定不支援四位元組字元，因此在emoji後面會截斷內容。

<!-- AC-8823 -->

* 密碼現在會如預期顯示，當 **[!UICONTROL Show Password]** 「登入」頁面上的核取方塊為作用中。

<!-- ACP2E-2037 -->

* 客戶實體(`rp_token`)驗證功能在建立客戶帳戶期間已從屬性驗證中移除，且變音符號驗證僅包含在產生的客戶電子郵件中。 之前，Magento Open Source不會儲存客戶記錄並顯示此錯誤： `Something went wrong while saving the customer`.

<!-- AC-8826 -->

* 刪除欄之後，您現在可以成功將編輯儲存至「管理頁面」和「區塊」格線。 [GitHub-37525](https://github.com/magento/magento2/issues/37525)

<!-- ACP2E-1972 -->

* 客戶現在可以在其他裝置上重設密碼後，使用新密碼從一部裝置成功登入。

<!-- ACP2E-1609 -->

* 管理員客戶地址 **州/省** 欄位現在會如預期保留上次儲存的值。 先前，當您從此欄位移除值時，Magento Open Source會繼續在 **州/省** 欄位。 [GitHub-36846](https://github.com/magento/magento2/issues/36846)

<!-- ACP2E-1508 -->

* 在以下情況下請求類別的RSS摘要期間不再發生錯誤： **[!UICONTROL RSS Feed Top Level Category]** 已啟用。 之前，瀏覽RSS摘要類別頁面會導致Elasticsearch `CRITICAL` 發生下列情況時，記錄檔中發生錯誤： **[!UICONTROL RSS Feed Top Level Category]** 已啟用。

<!-- ACP2E-1490 -->

* 現在已儲存正確的值 `gws_store_groups` 使用者角色建立期間角色範圍變更時。 先前，當角色範圍選取為 `All`，則 `gws_store_groups` 值在使用者建立期間儲存為Null，但在角色編輯期間則未儲存。 此外，如果角色範圍被選取為 `Custom`，然後 `gws_store_groups` 值一律儲存為null。

<!-- ACP2E-1446 -->

* 現在，在下列情況下，按一下管理員登入頁面上的管理員重設密碼連結，即可存取重設密碼頁面： **[!UICONTROL Add Store Code to Urls]** 設定已啟用。 管理員重設密碼連結先前會開啟登入頁面或404頁面。

<!-- ACP2E-1274 -->

* 「管理員統計資料」控制面板中的日期範圍現在會根據組態設定中所設定的時區進行計算，然後轉換為UTC從資料庫擷取資料。

<!-- ACP2E-1665 -->

* CMS階層篩選在您篩選存放區檢視，然後按一下 **[!UICONTROL Save]** 在管理員上 **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. 先前，按一下 **[!UICONTROL Save]** 已重新整理頁面，但內容已遺失，且選取的存放區檢視不再顯示。

<!-- ACP2E-1631 -->

* 按一下 **[!UICONTROL Send invitation]** 按鈕（管理員） **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]** > **[!UICONTROL Invitation]**)現在會連同表單金鑰一起提交POST要求，並成功傳送邀請。 之前，當您按一下此按鈕時，HTTPPOST方法和表單索引鍵都不會出現。

<!-- ACP2E-1608 -->

* 現在可以使用AWS S3成功將零位元組檔案複製到遠端儲存體。

<!-- AC-7402 -->

* 現在，當為其他網站（其商店ID與網站ID不符）建立該客戶時，管理員使用者可以從管理員新增客戶地址。 Magento Open Source之前會顯示此快顯訊息： `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* CMS區塊編輯器頁面現在會顯示正確的Widget `block_id` 值。 [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### GraphQL

<!-- AC-8964 -->

* 此 `getCustomerWishlist` 查詢包含可設定產品的清單時，查詢不再導致內部伺服器錯誤。

<!-- AC-8966 -->

* 此 `customerCart` query現在會如預期傳回套件組合產品的所有套用折扣。 之前，套用至套件組合產品的總折扣會傳回為零。

<!-- AC-8964 -->

* 此 `getCustomerWishlist` 查詢包含可設定產品的清單時，查詢不再導致內部伺服器錯誤。

<!-- AC-9147 -->

* 的宣告 `is_subscribed` 標幟、其解析器、快取和相關測試已從 `CustomerGraphQl` 模組至 `NewsletterGraphQl` 模組。

<!-- AC-9362 -->

* 此 `addProductsToCart` 突變不再回報中不相關的錯誤 `user_errors`. 以前，與購物車相關的錯誤包含在 `user_errors` 以及預期的作業錯誤。 [GitHub-37908](https://github.com/magento/magento2/issues/37908)

<!-- ACP2E-2119 -->

* 此 `products` 查詢產品篩選器現在可以傳回部分比對結果以及完全比對。 新的 `match_type` (PARTIAL， FULL)屬性支援指定比對型別。 以前，查詢只傳回完全相符項。

<!-- ACP2E-2155 -->

* 互斥體已新增至 `addConfigurableProductsToCart` 查詢，以防止並行請求進行更新期間出現競爭條件。 先前，當商家傳送兩個平行請求以將相同的可設定產品新增到購物車時，會新增兩個具有相同產品SKU的單獨專案。 [GitHub-37847](https://github.com/magento/magento2/issues/37847)

<!-- ACP2E-2201 -->

* GraphQL回應中的產品彙總現在包含下列情況下的非零屬性值： **[!UICONTROL Use in Layered Navigation]** 設為 **[!UICONTROL Filterable (no results)]**. 以前，只傳回非零值。

<!-- ACP2E-2141 -->

* 改善的效能 `setShippingAddressForEstimate` 查詢與購物車相關的作業，其中涉及自訂產品屬性。 以前，當引數以變數形式傳送時，查詢會載入所有產品屬性。

<!-- ACP2E-2255 -->

* 此 `products` 查詢 `ConfigurableProduct.configurable_options` 欄位現在只會傳回至少有一個已啟用產品的值。 之前，此欄位會傳回已停用的簡單產品。

<!-- ACP2E-2151 -->

* 改善的效能 `GetCategories query` 減少它產生的不必要的SQL查詢數目。

<!-- AC-8623 -->

* GraphQL程式庫元件的位址錯誤處理現在可如預期運作。

<!-- AC-9058 -->

* 此 `products` 當「動態訂價」設為「否」且套用折扣時，「查詢」現在會傳回所有相關店面訂價明細。 以前不會傳回產品的價格範圍。 [GitHub-35649](https://github.com/magento/magento2/issues/35649)

<!-- ACP2E-1744 -->

* GraphQL交易名稱現在僅包含在New Relic記錄檔中的最上層查詢名稱。 以前，交易名稱還包括次要查詢名稱。

<!-- AC-8623 -->

* GraphQL程式庫元件的位址錯誤處理現在可如預期運作。

<!-- AC-7430 -->

* 當產品的「可見性」設定設為 `Catalog`， `products` 對該產品的查詢現在可以正確解析設定。 之前，提供的任何篩選器都會切換至 `Visibility: Catalog` 設定。 [GitHub-36591](https://github.com/magento/magento2/issues/36591)

<!-- ACP2E-1769 -->

* 此 `customer` 查詢現在會傳回 `product_sale_price` 當產品價格已設定為包含稅捐時，包含訂單稅捐的欄位。 [GitHub-36946](https://github.com/magento/magento2/issues/36946)

<!-- ACP2E-1584 -->

* 型別的產品屬性 `DateTime` 現在將對應至 `FilterRangeTypeInput` 在產品查詢中篩選。 以前，這些屬性對應至 `FilterMatchTypeInput`. 由於此變更，查詢將篩選於 `DateTime` 屬性需要 `from` 和 `to` 值而非相符的值。

<!-- ACP2E-1552 -->

* 此 `customer` query現在會依商店ID篩選時，如預期，只傳回與特定商店檢視相關的客戶評論。

<!-- AC-7544 -->

* 此 `categories` 查詢不再傳回錯誤，當 `items.redirect_code` 回應值包含null值。 [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1486 -->

* 此 `changeCustomerPassword` 在成功重設密碼後，突變現在會如預期觸發電子郵件。

<!-- ACP2E-1494 -->

* `urlResolver` 和 `route` 現在，當以下情況時，查詢會傳回結果： `Target Path` 的URL重寫是絕對URL。 先前， `urlResolver` 當您使用查詢來擷取重新導向資料時，查詢傳回NULL。

<!-- AC-7979 -->

* 此 `products` 查詢現在會傳回正確的標籤。 [GitHub-29635](https://github.com/magento/magento2/issues/29635)

<!-- ACP2E-1315 -->

* 此 `categoryList` 查詢現在會傳回已填入的 `product` 的區段 `options` 如預期封鎖捆綁產品的子產品。 之前，系統不會傳回任何有關套件組合產品子產品的資訊。

<!-- AC-7114 -->

* 此 `route` query現在會如預期傳回類別和產品的路由，而不會發生內部伺服器錯誤。 [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* 此 `products` 查詢現在已擷取 `url_key` 選取多個類別時的值。

<!-- LYNX-17 -->

* `products` 查詢現在只會傳回指派給指定共用目錄之產品的彙總。

<!-- AC-7974 -->

* 交易名稱已新增至New Relic GraphQL交易。 [GitHub-36874](https://github.com/magento/magento2/issues/36874)

<!-- AC-6680 -->

* 此 `OptionValueProvider` 類別 `get()` 方法現在會根據指定的傳回屬性選項值 `option_id` 如預期。 之前，它會傳回錯誤。 [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* 此 `products` 查詢現在會傳回所有可用的彙總（篩選器）及其正確轉譯的標籤。 之前，價格和類別彙總標籤並未如預期般轉譯。 [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* 您現在可以使用片段 `ProductCard` 查詢時 `related_products`， `upsell_products`、和 `crossell_products` 於 `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* 此 `products` query現在會依照儲存順序，傳回相關的、向上銷售和交叉銷售產品。 [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* GraphQL查詢現在會傳回依位置排序的相關產品資料。 [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` 已新增至 `ProductAttributeFilterInput`，可支援在單一查詢中要求某個類別的所有產品。 [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* 修正了以下錯誤：設定GraphQL突變中目前存放區的方法在執行處理驗證的方法之前執行。 [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### 影像

<!-- ACP2E-1353 -->

* 「管理員Favicon」圖示上傳表單現在支援 `.ico` 檔案型別。 [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### 匯入/匯出


<!-- ACP2E-2261 -->

* 產品匯入程式現在會使用正確的分隔符號來剖析值。 先前，匯入程式使用直立線符號(「|」)運運算元來剖析多重選取值，直到確定的值分隔符號不等於預設值為止。 匯入程式隨後失敗。

<!-- ACP2E-2490 -->

* 301重新導向現在會在以下情況下自動建立： `URL Key` 值會透過CSV匯入進行更新。

<!-- ACP2E-2129 -->

* 出貨表格費率現在會依預期在表格費率匯入CSV檔案中更新。 表格速率上傳檔案會暫時儲存，直到非同步設定處理器cron作業執行為止。 此cron工作會擷取檔案的新位置，並據此處理檔案。 以前，由於非同步處理器在錯誤位置尋找檔案，導致資料表速率未如預期更新。

<!-- ACP2E-2298 -->

* 「匯出檔案」格線現在會顯示所有匯出的檔案，無論時間戳記為何。 以往，格線不會顯示具有相同時間戳記的所有匯出檔案。 [GitHub-36951](https://github.com/magento/magento2/issues/36951)

<!-- ACP2E-2028 -->

* 現在可以成功匯入具有自訂選項的產品。 先前，匯入期間會遺失選項資料。 [GitHub-37598](https://github.com/magento/magento2/issues/37598)

<!-- ACP2E-2214 -->

* 匯出的CSV檔案中的特殊字元現在會如預期在Excel中顯示。 [GitHub-37921](https://github.com/magento/magento2/issues/37921)

<!-- ACP2E-2301 -->

* 使用匯入庫存來源與客戶地址 **[!UICONTROL Customers and Addresses (single file)]**  選項現在已成功完成。

<!-- ACP2E-1930 -->

* 由於記憶體不足，產品匯入不再失敗。 先前，將任意數量的產品匯入已包含約一千萬個產品的資料庫時，會因為記憶體不足而失敗。

<!-- AC-9116 -->

* 當沒有有效的資料可匯入時，驗證檢查現在會如預期般停止匯入程式，而Magento Open Source現在會顯示此錯誤： `There are no valid rows to import`. 之前，驗證在這些條件下通過，但匯入程式失敗，並顯示以下訊息： `entity values are mixed`. [GitHub-32905](https://github.com/magento/magento2/issues/32905)

<!-- ACP2E-1754 -->

* 使用相同產品匯入URL金鑰不再覆寫或刪除現有的預設存放區檢視金鑰。 現在，只有當沒有覆寫時，才會為存放區檢視重新產生URL覆寫 `url_key` 值。 先前，使用相同URL金鑰匯入URL會覆寫現有的預設存放區檢視URL金鑰。 (`key_store` URL重寫已刪除，但產品預設存放區檢視層級上的URL重寫仍設為 `key_store`.)

<!-- ACP2E-1875 -->

* 匯入期間，產品計數不再意外變更。 快取排清現在會延後，直到匯入程式之後。

<!-- ACP2E-1813 -->

* 已排程匯入動作的狀態現在能正確代表匯入作業的成敗。 過去，所有動作都會記錄為成功。

<!-- AC-7039 -->

* Magento Open Source現在會考量 **[!UICONTROL Disable Automatic Group Change Based on VAT ID]** 在匯入客戶記錄期間設定。 先前， `disable_auto_group_change` 已忽略匯入檔案中的值。 [GitHub-36409](https://github.com/magento/magento2/issues/36409)

<!-- AC-965 -->

* `Magento\Framework\Convert\Excel` 現在已成功處理前面有空格的數字。 Excel XML現在會將欄位編碼為 `String`. 之前，Excel編寫器會將這些值編碼為 `number`，導致檔案無效。 [GitHub-33422](https://github.com/magento/magento2/issues/33422)

<!-- ACP2E-1641 -->

* 商戶現在可以指定顯示匯入資料的區域設定，以及資料驗證器剖析此資料的方式。 如果未指定地區設定值，Magento Open Source會使用預設設定地區設定（而非預設存放區檢視）來剖析資料。 在管理員中，匯入和匯出程式會繼續使用管理員使用者介面地區設定來分別匯入、剖析和格式化資料。

<!-- ACP2E-1847 -->

* 使用匯入產品 `country_of_manufacture` 由語言環境設定與匯入產品的管理員使用者不同的管理員使用者建立的屬性不會再擲回驗證錯誤。 以前，此匯入操作可能會導致 `country_of_manufacture` 屬性。

<!-- ACP2E-1994 -->

* 匯出的產品現在具有正確的值 `manage_stock` 值，當 `use_config_manage_stock` 值等於 `1`. 之前，此預設值不正確。

<!-- ACP2E-1620 -->

* 當在排定的匯入作業期間未成功匯入影像時，Magento Open Source現在會在排定的匯入格線中顯示資訊性錯誤訊息。 以前不顯示錯誤訊息。

<!-- ACP2E-1565 -->

* 產品影像遺失時，產品匯入程式不再中斷。 先前，在使用CSV檔案匯入協力廠商服務期間遺失產品影像時，Magento Open Source會顯示此錯誤： `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1391 -->

* 當中的屬性值時，產品匯入程式不再擲回驗證錯誤 `configurable_variations` 欄包含逗號。

<!-- ACP2E-1377 -->

* 已從匯出程式中排除解碼。 匯入後，CSV匯出檔案文字保持不變。 因此，重新匯入後，說明不會變更。 先前，產品匯出和匯入後，頁面產生器編輯器中的HTML標籤會遭到移除。

<!-- ACP2E-1451 -->

* 新增為環境變數的非預設設定（網站或存放區範圍）不再中斷 `app:config:import` 處理序發生遞回錯誤。

<!-- ACP2E-1569 -->

* 在匯入後，「儲存時更新」模式中的目錄搜尋和價格索引子不再失效。 先前，Elasticsearch索引器檔案版本會在新產品和現有產品匯入時變更版本。

<!-- ACP2E-1482 -->

* 產品報告現在會匯出至 `var` 目錄。 之前，這些報告會匯出至檔案根目錄，在雲端例項中為唯讀目錄。

<!-- ACP2E-1736 -->

* 清空的多重選取客戶位址列位不再中斷或停止匯出程式。

### 索引

<!-- AC-10911 -->

* 改善的效能  `catalogrule_product` 未設定目錄規則時的索引子。 [GitHub-34784](https://github.com/magento/magento2/issues/34784)

<!-- ACP2E-2204 -->

* 價格索引器效能的問題已解決。 索引器效能不再逐漸降低。 索引器已重構，以透過變更建立臨時表格的方式，提高索引器處理速度。 這些臨時表格現在會重新建立，而非由更耗時的DELETE陳述式處理。

<!-- ACP2E-2033 -->

* 價格索引器效能已改善。 價格索引器已新增索引提示，可改善索引期間引發的MySQL查詢的執行時間。

<!-- AC-9223 -->

* 現在，所有索引器都使用相同的顏色來表示索引器狀態。 [GitHub-34648](https://github.com/magento/magento2/issues/34648)

<!-- ACP2E-1697 -->

* 在未將規則指派給所有網站的部署中，已改善目錄規則產品索引器的效能。

<!-- ACP2E-1401 -->

* 當索引子設定為時建立自訂產品型別 **[!UICONTROL Update on schedule]** 不再導致索引更新 `cron` 任務失敗。 [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` 當客戶格線包含新建立的自訂客戶屬性時，不再因MySQL錯誤而失敗。 [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* 變更多個索引器的索引器模式（亦即，大量動作索引器模式變更）現在只會在目前模式與正在套用的模式不同時，變更索引器的模式。 這可防止不必要地前往資料庫，進而改善效能。 [GitHub-36823](https://github.com/magento/magento2/issues/36823)

<!-- AC-6934 -->

* 已改善對具有許多屬性選項的產品編制索引。 [GitHub-36386](https://github.com/magento/magento2/issues/36386)

### 基礎架構

<!-- AC-10866 -->

* 已新增遺漏的專案 `return` 陳述式至管理員使用啟用控制器。 之前， `return` 陳述式及中的控制器 `FrontendController` 類別的處理不正確。 [GitHub-31374](https://github.com/magento/magento2/issues/31374)

<!-- AC-9390 -->

* 已取代MySQL `CREATE TEMPORARY TABLE ... LIKE` 已重構 `CREATE TEMPORARY TABLE` 以符合MySQL 8.x。 [GitHub-37926](https://github.com/magento/magento2/issues/37926)

<!-- ACP2E-1462 -->

* 當格式錯誤的HTTP請求傳送至伺服器時，Magento Open Source會顯示的錯誤訊息中，不再包含伺服器根目錄的完整路徑。 現在只有字串會傳遞至 `explode` 作為第二個引數的方法。

<!-- AC-8384 -->

* `restricted_classes.php` 已取代 `Zend_Validate_File_Upload`. 之前，在上傳大於中設定的值的匯入檔案時，驗證器會當機 `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- AC-7093 -->

* 電子郵件範本引擎現在可以正確處理某些巢狀指令(例如 `{{if}}{{depend}}...{{/depend}}{{/if}}`)。 [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` 具有彙總資料的查詢現在會傳回布林型別產品屬性的正確標籤值。 [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- AC-2618 -->

* 將烏克蘭地區新增至 `directory_country_region` 表格。 [GitHub-35187](https://github.com/magento/magento2/issues/35187)

<!-- https://github.com/magento/magento2/pull/29173 -->

* 合併時CSS檔案不再損毀， `var/tmp` 和 `pub/static` 位於不同的檔案系統和 **[!UICONTROL CSS Merging Enabled]** 已啟用。 暫存檔已經建立在與目標檔案相同的靜態目錄中，以確保兩個檔案都在相同的檔案系統上。 因此，將其重新命名的呼叫是原子性的。 [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* 修正呼叫成員函式時的潛在錯誤 `getId()` 於 `int`，偶爾會在Admin中檢視客戶時觸發例外狀況。

<!-- https://github.com/magento/magento2/pull/34092 -->

* 設計主題設定處理器中的陣列型別現在會強制進行型別檢查。 [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Inventory management

<!-- ACP2E-1883 -->

* 在包含產品數量退貨的銷退折讓單之後，產品現在會自動回覆為庫存狀態。 先前，如果產品無庫存，但銷退折讓單傳回此產品的庫存，商家必須手動變更產品庫存狀態。

<!-- ACP2E-2123 -->

* 透過移除重新索引預設來源專案的多餘請求，改善非同步模式中庫存索引器的效能。

<!-- AC-7023 -->

* 修正庫存索引器影響可設定產品店面庫存計數準確性的問題。 [GitHub-36421](https://github.com/magento/magento2/issues/36421)

<!-- ACP2E-2082 -->

* 透過REST更新存貨來源料號 `V1/inventory/source-items` 現在運作速度更快。 呼叫不再觸發對未變更庫存產品的重新索引或清除快取操作。

<!-- ACP2E-1842 -->

* REST `V1/products/<sku>` 現在會在更新產品的庫存狀態時觸發自動庫存重新索引。 之前，系統不會針對要更新的產品觸發股票重新索引。

<!-- ACP2E-1653 -->

* 當子產品更新時，可設定的產品庫存狀態現在會依預期在店面上更新 `V1/inventory/source-items`.

<!-- ACP2E-2114 -->

* 此 `POST <store_code>/V1/inventory/source-items` REST呼叫現在會驗證傳回之庫存來源專案中之空白的裝載，並視需要傳送有關驗證的錯誤訊息。

<!-- ACP2E-2072 -->

* 商戶現在可以通知購物者，訂單已準備好提貨，當 **[!UICONTROL No Manage Stock]** 已為產品啟用設定。 之前，啟用此設定時，Magento Open Source會顯示此錯誤訊息： `Your order is not ready for pickup`.

<!-- ACP2E-2227 -->

* 商戶現在可以為訂單建立銷退折讓單，其中已刪除與可設定產品相關聯的簡單產品。 之前，商家無法建立銷退折讓單，Magento Open Source擲回 `TypeError` 例外。

<!-- ACP2E-2310 -->

* 套用篩選器後，管理網格來源計數現在會傳回有效記錄。 先前， `getSourcesCount` 方法一律會傳回套用篩選器後的來源總數。

<!-- ACP2E-1364 -->

* 當您使用「從庫存移至底部」選項排序產品時，「類別」頁面不再重新導向至管理員儀表板。 問題已解決，方法是先確定條件陳述式尚未包含SQL聯結陳述式，再將SQL聯結陳述式放在條件陳述式內。 以前，頁面會重新導向至管理員控制面板，並顯示訊息：`Invalid security or form key. Please refresh the page`.

<!-- ACP2E-1488 -->

* `AUTO_INCREMENT` 的 `inventory_source_item` 表格不再隨著 `UPDATE` 作業。 之前，每次更新都會增加 `AUTO_INCREMENT` 最終導致 `AUTO_INCREMENT` 將新記錄新增至時超出範圍的值 `inventory_source_item table`. 因此，管理員使用者嘗試從管理員建立新產品時，會收到下列錯誤： `Numeric value out of range...`.

<!-- ACP2E-1378 -->

* 管理員使用者現在可以透過Inventory management，從管理員將特定商店檢視範圍內的產品新增到客戶購物車。 以往，庫存ID無法正確判定，且管理員使用者無法將產品新增至客戶購物車。

<!-- ACP2E-1399 -->

* 存貨與目錄之間的同步化不再依賴 **[!UICONTROL Synchronize with Catalog]** 組態設定。 過去，只有在啟用此設定時，才會正確同步產品。

<!-- ACP2E-1382 -->

* 當購物者從訂單中扣除產品數量時（該訂單位於選取出貨來源時可用的產品範圍內），頁面重新載入後，Magento Open Source不再擲回錯誤。

<!-- ACP2E-1259 -->

* 現在當可配置產品及其子產品時，可配置產品庫存狀態會正確更新 `Stock Availability` 值會透過整批存貨更新來更新。 以前，無法透過大量更新將可配置產品及其子產品返回到庫存中。

<!-- ACP2E-2096 -->

* 非預設來源的資料型別已更新為 `DECIMAL (12, 4)` 最多可支援8個整數位數，與預設庫存的限制相同。 此值現在與管理員新增和編輯產品頁面同步，這支援對所有型別的詳細目錄來源進行最多八位數的輸入驗證。 先前， **[!UICONTROL Quantity]** 欄位（適用於非預設來源）最多只支援六個數字。

<!-- ACP2E-2054 -->

* 現在，當從店面訂購的非預設來源處理為出貨時，預設與非預設來源都會顯示產品可銷售數量的正確資訊。 以前，Magento Open Source對產品來源顯示不正確的庫存狀態。

<!-- ACP2E-1950 -->

* `\Magento\Catalog\Model\Product::getIsSalable()` 現在會根據產品物件中定義的範圍(`\Magento\Catalog\Model\Product::getStoreId()`)。 先前， `getIsSalable()` 不論產品物件為何，都會根據目前範圍傳回庫存狀態。

### 記錄

<!-- ACP2E-1385 -->

* 管理員使用者現在可以在管理員的大量動作記錄區段中，檢視整合所建立的大量動作的記錄。

### 登入

<!-- ACP2E-1521 -->

* 在單一瀏覽器中重設密碼，接著透過不同瀏覽器登入時，不會再產生例外狀況。 [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* 客戶現在會在如預期般啟動帳戶後，重新導向至登入頁面。 客戶之前會自動登入。

### 電子報

<!-- AC-10806 -->

* Commerce現在會先檢查是否已啟用電子報訂閱功能，再接受電子報的新訂閱者。 [GitHub-33040](https://github.com/magento/magento2/issues/33040)

### 訂購

<!-- AC-8857 -->

* 從管理員購物車移至要訂購專案清單的產品，現在會如預期從購物車中刪除。 [GitHub-37538](https://github.com/magento/magento2/issues/37538)

<!-- ACP2E-2535 -->

* 商戶現在可以如預期建立部份退貨的銷退折讓單，而部份退貨是由獎勵點數所支付。 先前，當商家建立部分退貨時，訂單狀態錯誤地識別為「已關閉」，並且「管理訂單」頁面未顯示銷退折讓單選項。

<!-- ACP2E-2583 -->

* Magento Open Source現在會將正確的折扣金額套用至部份取消的訂單。 以前，在中計算的折扣金額 `base_discount_cancelled` 變更訂單時欄計算不正確。 折扣訂單的商業發票已新增對負值的支援。

<!-- ACP2E-2412 -->

* Magento Open Source現在會根據管理員使用者在管理員中建立訂單時提供的排序順序，來排序自訂客戶地址屬性。

<!-- ACP2E-2400 -->

* 當商家從此頁面起始搜尋時，「管理銷售訂單網格」頁面現在會如預期般載入。 先前，當商家嘗試搜尋此表格中的訂單時，頁面會凍結，且Magento Open Source會顯示 `Request-URI Too Long` 瀏覽器主控台中的錯誤。

<!-- ACP2E-2213 -->

* 改善的效能 `OrderRepository::get()` 方法，減少從資料庫載入訂單的次數。 以前，此方法會載入多次訂單。 [GitHub-36636](https://github.com/magento/magento2/issues/36636)

<!-- ACP2E-1918 -->

* 商戶現在可以針對包含部份料號且總計為零的訂單，產生銷退折讓單，而其他訂單料號可以退款。 以前，當客戶對訂單中的某些料號有100%折扣時，商家無法執行多重退款。

<!-- AC-8254 -->

* 從「管理員」重新排序子產品時，子產品與父產品之間的連結現在會顯示在訂購頁面上。 [GitHub-37028](https://github.com/magento/magento2/issues/37028)

<!-- ACP2E-1341 -->

* 模擬現在於以下期間開始： `send()` 模擬完成時呼叫 `getInfoBlockHtml()` 呼叫，且不會記錄任何錯誤。 先前， `system.log` 檔案已因下列錯誤而泛濫： `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1918 -->

* 商戶現在可以針對包含部份料號且總計為零的訂單，產生銷退折讓單，而其他訂單料號可以退款。 以前，當客戶對訂單中的某些料號有100%折扣時，商家無法執行多重退款。

<!-- AC-8254 -->

* 從「管理員」重新排序子產品時，子產品與父產品之間的連結現在會顯示在訂購頁面上。 [GitHub-37028](https://github.com/magento/magento2/issues/37028)

<!-- AC-1756 -->

* 訂單頁面的表頭區段現在包含已傳送商業發票、銷退折讓單及出貨的預期資訊。 [GitHub-27474](https://github.com/magento/magento2/issues/27474)

<!-- AC-7632 -->

* 只包含一個可設定產品之訂單的銷退折讓單，現在可正確產生。 先前， `isLast()` 函式未傳回 `true` 如預期。 [GitHub-36722](https://github.com/magento/magento2/issues/36722)

<!-- ACP2E-1961 -->

* 改善的效能 `aggregate_sales_report_bestsellers_data` 最佳化主要資料查詢以完成cron工作。

<!-- ACP2E-1714 -->

* 當針對包含搭售產品的訂單進行部分退款時，訂單狀態現在為正確。 以前，即使剩餘的訂單尚未完成，訂單狀態在發出部分退款後仍會列為完成。 [GitHub-37377](https://github.com/magento/magento2/issues/37377)

<!-- ACP2E-1514 -->

* 首次從管理員使用一次性自訂價格產生訂單時，購物者無法再使用自訂價格訂購產品。 以前，如果訂單包含具有自訂價格的專案，則此自訂價格會套用至具有再訂購功能的其他訂單。

<!-- ACP2E-1421 -->

* 購物者無法再於訂購頁面上儲存不正確的訂購狀態。 當料號出貨時，訂單狀態不再從「完成」變更為「處理」。 以前，在購物者輸入評論後，Magento Open Source在儲存訂單狀態之前不會檢查目前的訂單狀態。 [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1367 -->

* 銷售訂單網格現在會如預期以非同步方式與所有訂單同步。 [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* 訂單頁面的客戶訂單區段中的依購買日期篩選功能現在可如預期運作。 先前，當向方法提供相同時區時，時區轉換邏輯擲回錯誤，便會發生JavaScript錯誤。

<!-- ACP2E-1294 -->

* 「管理員」儀表板現在會在首次載入時顯示正確的訂單統計資料。 以前，儀表板顯示不正確的訂單資訊，但一旦更新時段，就會顯示正確的資訊。

<!-- ACP2E-1762 -->

* 管理員使用者在從管理員建立新訂單期間選取商店檢視後，現在會依預期重新導向至訂單頁面。

<!-- ACP2E-1418 -->

* 此 `GET V1/orders/<OrderID>` 端點現在會依順序傳回可設定和簡單產品的資訊，無論簡單產品的庫存狀態為何。 只有當選取的專案（產品）有庫存或可供銷售時，管理員使用者現在才能下訂單。 以前，此API只傳回已有產品的相關資訊。

<!-- AC-7901 -->

* 當出貨價格包含稅捐，且稅捐計算是在折扣後套用時，啟用免運費時，銷退折讓單頁面不再損毀。 之前，Magento Open Source擲回 `Division by zero` 例外。 [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* 使用 `rest/V1/orders/{id}/comments` 端點在不提供訂單狀態的情況下張貼訂單相關註解，不再影響訂單的顯示。 之前，訂單狀態在 `sales_order` 和 `sales_order_grid` 表格，且「我的訂單」頁面或「管理訂單」格線皆未顯示訂單。 [GitHub-34180](https://github.com/magento/magento2/issues/34180)

### 頁面產生器

<!-- AC-8777 -->

* 現在當在Page Builder中調整大小時，影像會維持正確的外觀比例。 [GitHub-37493](https://github.com/magento/magento2/issues/37493)

<!-- AC-10919 -->

* 當您嘗試上傳的影像大於指定的檔案大小上限時，Page Builder現在會視需要顯示錯誤訊息。 以前，對於小於指定最大值的已上傳影像檔案，Commerce會顯示警報快顯訊息。

<!-- ACP2E-1992 -->

* CMS頁面產品滑桿現在會包含任何已選取要包含在滑桿中的子產品的父產品。 過去，上層產品會從滑桿中排除。

<!-- ACP2E-2115 -->

* HTML轉換的內容現在會如預期顯示在電子郵件範本中，當 `Magento_AsyncConfig` 模組已停用。 以前，電子郵件範本僅包含原始HTML。

<!-- AC-9128 -->

* Chrome瀏覽器中頁面產生器儲存操作的效能已改善。

<!-- ACP2E-1564 -->

* 從「頁面產生器」轉盤新增產品至購物車時，不再重複來自頁面的專案數量，因為有兩個不同的Widget顯示相同的產品。

<!-- ACP2E-1542 -->

* 頁面產生器不再新增 `tabindex` 將屬性HTML至超連結標籤 `a` 當您編輯超連結時，請儲存範本。

<!-- ACP2E-1444 -->

* 產品Widget和頁面產生器預覽現在可正確處理HTML特殊字元。 之前，產品Widget無法正確顯示包含 `&` 字元。

<!-- ACP2E-1441 -->

* 當您在預覽模式中選取並更新完整內容區塊時，頁面產生器文字元素內容現在會如預期更新。

<!-- ACP2E-1362 -->

* 現在，從一個Page Builder文字編輯器複製文字並貼上文字到另一個編輯器可以如預期運作。 之前，您嘗試貼上文字的頁面無法儲存，且Magento Open Source會顯示此主控台錯誤： `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* 頁面產生器 `column-block` 在舊版Page Builder中建立的內容型別現在可以正確顯示。

<!-- ACP2E-1234 -->

* 改善從管理員建立產品期間篩選產品中繼資料說明的功能。 以往，如果啟用「頁面產生器」，系統會根據預設值產生產品中繼資料說明` {{name}} {{description}}` 遮色片。 預設的產品中繼說明遮罩現在由以下專案組成 `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* 新增不含內容的動態區塊不再觸發錯誤。

<!-- AC-6645 -->

* 頁面產生器內容中的欄顯示問題已解決。 先前， `column-line` 未轉譯內容型別內容。 [GitHub-3949](https://github.com/magento/pwa-studio/issues/3949)

### 付款

<!-- ACP2E-2533 -->

* Magento Open Source現在會防止在此錯誤發生時建立訂單，以正確處理PayPal的502錯誤。 以往，儘管PayPal發生502錯誤，導致Magento Open Source記錄和PayPal記錄不一致，訂單仍會建立。

<!-- AC-9142 -->

* PayPal Express結帳交易現在包含子產品SKU和完整產品標題。 此 `Magento/Paypal/Model/Cart.php` 檔案現在會收集具有父產品標題的子產品SKU，以識別具有子SKU的產品標題。 [GitHub-36808](https://github.com/magento/magento2/issues/36808)

<!-- ACP2E-1964 -->

* 此 **[!UICONTROL Card Security Code Does Not Match]** 組態設定現在會在Payflow Pro付款處理期間依預期處理。 以前，此評估流程永遠不會完成，這會阻止簽出。

<!-- ACP2E-1215 -->

* 當購物者沒有儲存庫權杖時，管理簽出工作流程中不再顯示儲存庫付款方法選項。 [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* 此 **[!UICONTROL Venmo]** 啟用PayPal按鈕後，按鈕現在可以隱藏。 先前， **[!UICONTROL Venmo]** 按鈕無法從購物車、迷你購物車、產品詳細資料或結帳頁面中移除。

<!-- BUNDLE-3313 -->

* 購物者現在可以在結帳時套用優惠券代碼，同時選擇配送方式。 之前，在這些條件下，Magento Open Source會擲回錯誤，並將統一運費指派給訂單。

<!-- BUNDLE-3310 -->

* 已解決PayPal和PayPal信用付款方法的店面處理問題。

<!-- BUNDLE-3273 -->

* 解決當本機付款啟用時，Ideal payments所支付訂單的遞補URL問題。

<!-- BUNDLE-3253 -->

* 購物者無法再建立PayPal訂單而不新增姓氏。

#### Braintree

<!-- AC-2901 -->

* 現在，每個商店都會儲存Braintree付款資訊，而購物者現在只會看到儲存在商店中的卡片資訊。 過去，購物者在結帳時可以看到所有商店儲存的卡片資訊。 [GitHub-34253](https://github.com/magento/magento2/issues/34253)

<!-- BUNDLE-3304 -->

* 當卡付款的儲存庫停用時，購物者現在可以使用Braintree付款方式，將訂單出貨至多個地址。 [GitHub-37615](https://github.com/magento/magento2/issues/37615)

<!-- BUNDLE-3244 -->

* 部分開立商業發票的訂單現在會如預期擷取部署中正確帳戶的訂單，其中商戶在其Braintree帳戶中具有兩個相同貨幣的不同商戶帳戶ID。

<!-- BUNDLE-3250 -->

* 當Braintree支付訂單時，為訂單建立第二張部份商業發票時，Magento Open Source不再擲回錯誤。 **[!UICONTROL Enable Vault for Card Payments]** 已啟用。 先前，當商家嘗試建立第二張商業發票時，Magento Open Source擲回此錯誤： `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

<!-- ACP2E-1229 -->

* 當購物者更新其帳單地址時，結帳工作流程中不再自動取消選取「Braintree儲存庫付款方式」選項。 以前，當購物者取消選取 **[!UICONTROL My billing and shipping address are the same]** 按鈕。

<!-- BUNDLE-3248 -->

* 解決從Adobe Commerce 2.4.5-p2升級後，透過Braintree與PayPal結帳的問題。 [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* 電話號碼現在會如預期般轉譯，並包含Google付款模式快顯送貨位址列位中的地址。 過去，您會遺漏電話號碼。

<!-- BUNDLE-3228 -->

* 現在，當Braintree回應包含空白值時，訂單可透過Braintree成功下達 `threeDSecureInfo/eciFlag`. 以前，當此值為空時，在簽出期間發生PHP錯誤。

<!-- BUNDLE-3243 -->

* 當購物者從迷你購物車結帳Google Pay時在訂單稽核頁面上套用優惠券時，Magento Open Source不再擲回錯誤。 之前，購物者被重新導向至404頁。

<!-- BUNDLE-3245 -->

* 購物者現在可以使用「Braintree付款」和Magento Open Source2.4.6 （具有隱藏的ReCAPTCHA v2或v3）完成結帳。 [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* 購物者無法再按一下 **[!UICONTROL PayPal]** 按鈕來購買可設定的產品，而不需先選取必要的選項。 過去，購物者可按一下 **[!UICONTROL PayPal]** 按鈕，之後被重新導向回產品頁面，出現錯誤：

<!-- BUNDLE-3148 -->

* 此 **[!UICONTROL PayPal]** 按鈕現在會如預期顯示在購物車和迷你購物車頁面上。 之前，此按鈕不會顯示在購物車頁面上，且會在迷你購物車頁面上複製。

### 效能

<!-- AC-9753 -->

* 中的多次點按 **銷售** > **訂購** 頁面的「整批動作」下拉式功能表不再產生多個POST請求。  [GitHub-37997](https://github.com/magento/magento2/issues/37997)

<!-- AC-10944 -->

* 僅限 `200` 或 `404` 購物者導覽至觸發301重新導向的頁面時，除非頁面的Cache-Control標頭包含 `private `. 之前，具有的HTTP狀態200 `private` 已快取Cache-Control標頭中的HTTP狀態301 （除非包含） `private` 在其Cache-Control標頭中。 [GitHub-36492](https://github.com/magento/magento2/issues/36492)

<!-- AC-9302 -->

* 已移除未使用的 `Magento\Catalog\Controller\Adminhtml\Product\Initialization\Helper` 從 `Magento\Catalog\Model\ProductRepository`. 先前， `ProductRepository` 已載入此協助程式，也就是 `Adminhtml` 控制器。 [GitHub-37864](https://github.com/magento/magento2/issues/37864)

<!-- AC-9127 -->

* 改善將許多選項新增至套件產品時的頁面載入速度效能。 [GitHub-29409](https://github.com/magento/magento2/issues/29409)

<!-- ACP2E-2069 -->

* 從將產品指派至類別的過程 **[!UICONTROL Products in Category]** 索引標籤已最佳化。 此 **[!UICONTROL Assign]** 和 **[!UICONTROL Remove]** 中的按鈕 **[!UICONTROL Add Product by SKU]** 索引標籤現在會停用，直到產品完全載入格線為止。 之前，管理員使用者無法透過SKU在包含數百萬個已註冊產品的目錄中新增產品。

<!-- ACP2E-2098 -->

* 的效能 `addProductToCart` 使用許多自訂產品屬性執行時的變異已有所改善。 之前，當使用許多產品屬性（約1000）執行此變異時，Magento Open Source會嘗試載入所有產品屬性。

<!-- ACP2E-1965 -->

* 載入購物車規則使用的產品屬性時的效能問題已解決。 現在只會載入作用中購物車規則的產品屬性。

<!-- ACP2E-1864 -->

* 此 `bin/magento setup:perf:generate-fixtures setup/performance-toolkit/profiles/ee/small.xml` 現在，命令會在多次執行時成功執行。 之前，它會在執行多次時擲回此錯誤： `Coupon with the same code already exists`.

### 促銷活動

<!-- ACP2E-1290 -->

* 的影響 **[!UICONTROL Fixed amount discount for whole cart]** 價格規則，套用時 **[!UICONTROL Apply to shipping amount]** 規則，現在會依預期在產品與運費金額之間按比例分配。 過去，折扣計算方式不正確。

<!-- ACP2E-1300 -->

* 此 **[!UICONTROL Discard Subsequent Rules]** 設定現在會如預期套用。 啟用此設定時，其他低優先順序的規則只能套用至不同的產品。 [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### reCAPTCHA

<!-- ACP2E-2509 -->

* 不可見的reCAPTCHA v3現在可如預期般在結帳頁面運作 **[!UICONTROL Sign in]** 按鈕。 之前，購物者無法登入，且商務擲回JavaScript錯誤。

<!-- ACP2E-1539 -->

* 結帳工作流程中的Google reCAPTCHA現在可如預期般用於支票、匯票和自訂付款方法。

<!-- ACP2E-1311 -->

* 在Adobe Commerce ReCAPTCHA核取方塊載入之前，無法再提交Google表單。

<!-- ACP2E-1338 -->

* reCAPTCHA Widget現在位於 **[!UICONTROL Place Order]** 付款頁面上的按鈕。 過去，Widget會顯示在頁面頂端。

### 報表

<!-- ACP2E-1541 -->

* 訂單報表(**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**)現在包含正確的訂單值，前提是使用非預設貨幣的商店產生訂單。 之前，此報表包含不正確的值。 [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* 為了清楚起見，已修訂銷售訂單報表表單中的誤導性資訊。

<!-- ACP2E-1435 -->

* 管理員使用者現在可以搜尋含有以下內容的電子郵件記錄 `+` （加） 「放棄的購物車報告」頁面的符號。 [GitHub-36560](https://github.com/magento/magento2/issues/36560)

### 搜尋 {#search-heading}

<!-- ACP2E-2272 -->

* 標頭的迷你搜尋前端上的自動完成搜尋建議現在可如預期運作。 先前，自動完成在啟用此功能時不會填入此欄位。 [GitHub-37557](https://github.com/magento/magento2/issues/37557)

<!-- ACP2E-2101 -->

* 新增索引器後，從管理員搜尋列進行的查詢效能已有所改善。 先前，愈大 `search_query` 表格中，完成查詢所花的時間越久。

<!-- ACP2E-2279 -->

* 依名稱的字母順序排序產品現在對包含土耳其字元的名稱正確運作。

<!-- ACP2E-1854 -->

* 此 **[!UICONTROL Use in Search Results Layered Navigation]** product attribute屬性現在只在 **[!UICONTROL Use in Search]** 設定已設為 **[!UICONTROL Yes]**.

<!-- ACP2E-1870 -->

* 進階搜尋價格和SKU篩選器現在可在進階搜尋中一起套用時正常運作。 [GitHub-37581](https://github.com/magento/magento2/issues/37581)

<!-- ACP2E-1787 -->

* 不再對空白搜尋欄位執行搜尋。 這樣會縮減 `search_query` 表格。 以前，不正確的查詢或查詢空白的搜尋欄位會傳回巨大的資料集，這會增加 `search_query` 表格導致下列專案發生問題： `/tmp`.

<!-- ACP2E-1916 -->

* 現在，使用下拉式自訂屬性排序目錄專案時，店面篩選器可如預期運作。

<!-- ACP2E-1499 -->

* 搜尋結果現在會依預期的屬性搜尋權重來顯示相關結果。

<!-- AC-7505 -->

* 底下的資訊文字 `Search Weight` 屬性的 `Storefront Properties` 管理員的輸入欄位 **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** 現在會說明可能的值。 [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### 送貨

<!-- ACP2E-2515 -->

* 停用動態價格屬性時，將套件產品新增到購物車時，購物車價格規則現在會如預期運作。 無論動態屬性是啟用還是停用，都會套用免運費與正確的表格費率。 在過去，免運費並未如預期套用。

<!-- AC-9729 -->

* 在建立訂單的部分出貨後，Magento Open Source現在會如預期轉換為新的出貨頁面。 之前，在建立部份出貨後，Magento Open Source並未針對訂單的其餘產品建立完整的出貨頁面。 [GitHub-38063](https://github.com/magento/magento2/issues/38063)

<!-- AC-8795 -->

* 系統現在會正確計算將訂單運送至多個地址的總金額。 先前，當報價包含多個運送地址時，收集器總計會更新中指定地址的運送金額 `$quote->getShippingAddress()` 而不是傳遞給 `$shippingAssignment` 如預期。 [GitHub-37283](https://github.com/magento/magento2/issues/37283)

<!-- ACP2E-2459 -->

* 當管理員使用者使用登入作為客戶功能時，Magento Open Source不再於結帳時使用多個運送地址時擲回例外狀況。

<!-- ACP2E-2258 -->

* 產品現在會在建立出貨標籤後將產品新增至套件時，正確列在「建立套件」頁面的「產品」格線上。

<!-- ACP2E-2044 -->

* 此 `cart` 查詢現在會傳回分散式出貨折扣，作為具有唯一折扣標籤的個別出貨折扣。 新的 `applied_to` 折扣屬性支援套用至購物車專案的折扣差異。 以前，所有運費折扣都會合併為一個硬式編碼 **[!UICONTROL Shipping Discount]** 值。

<!-- ACP2E-1826 -->

* 當管理員使用者建立重新訂購時，當管理員使用者按一下 **[!UICONTROL Reorder]** 按鈕（管理員） **[!UICONTROL Sales]** > **[!UICONTROL Orders]** > **[!UICONTROL View]** )。 如果購物者的通訊錄中儲存了相同的地址，則重新排序將一律納入這些地址的更新版本。 之前，送貨位址列位會預先填入更新的資料，但帳單位址列位則不會。

<!-- AC-7003 -->

* 此 **[!UICONTROL Shipping Policy]** 出現下列情況時，文字方塊現在會顯示在「管理商店檢視」範圍內 **[!UICONTROL Apply custom Shipping Policy]** 已啟用，並且有自訂送貨原則可用。 [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* 此 `cart` 查詢現在會傳回 `selected_shipping_method` 符合下列任一專案的值： `available_shipping_methods` 電信業者和方法代碼。 先前，當其中一個選取的送貨方法包含底線時，這些電信業者/方法代碼會不相符。 [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* 此 `setShippingAddressesOnCart` 當street陣列中的第二個值為null時，突變不會再擲回錯誤。 之前，系統擲回此例外狀況： `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)

### Sitemap

<!-- AC-2465 -->

* XML Sitemap現在在多層部署中可如預期般運作。 先前，網站地圖不包含每個存放區指派的預設頁面。 [GitHub-35001](https://github.com/magento/magento2/issues/35001)

<!-- AC-2267 -->

* 商戶現在可以在網站建立並儲存產品 `id != 1` 且已啟用單一存放區模式。 之前，儲存動作失敗並顯示以下訊息： `SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails`. [GitHub-35009](https://github.com/magento/magento2/issues/35009)

### 稅金

<!-- ACP2E-2651 -->

* 現在，在設定稅捐且啟用FPT時，商業發票會顯示正確的小計。

<!-- ACP2E-2245 -->

* Magento Open Source現在顯示正確的值 **[!UICONTROL Regular Price]** 當針對具有下列專案的產品選取自訂選項時的值 **[!UICONTROL Special Price]** 值條件 **[!UICONTROL Price Display Settings]** 設為包含稅捐。

<!-- ACP2E-2303 -->

* 稅金現在會依預期納入組態設定所指定的結帳工作流程送貨價格中。

<!-- AC-9758 -->

* 此 `cart` 查詢 `applied_taxes` 回應值現在會依預期納入所有個別稅捐規則。 先前設定多個稅捐規則時，它會傳回總稅捐值。

<!-- ACP2E-2247 -->

* 縮疊/展開圖示 **[!UICONTROL Additional Settings]** 稅捐規則建立期間的「區段」現在可如預期運作。 以前，只有展開圖示有效。 [GitHub-37922](https://github.com/magento/magento2/issues/37922)

<!-- ACP2E-1527 -->

* 您現在可以依照預期，從「稅捐規則」編輯頁面編輯「稅率國家/地區」的值。 之前，不會儲存從該頁面所進行的編輯。

<!-- ACP2E-1143 -->

* 更新送貨方法時，購物車預估區域中的稅捐金額現在會如預期般重新整理。 以前，購物者在結帳期間變更國家/地區後，不會更新稅率。

<!-- AC-8227 -->

* 此 `tax class` 在「商店檢視」範圍中建立現有可設定產品的新變體時，新建立的簡單產品值現在會設定為父產品的值。 此值以前設為none。 因此，購物車中的這些產品未加稅，且客戶的稅金不足。 [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### 測試

<!-- ACP2E-2501 -->

* 改善 `AdminCreateOrderWithVirtualProductFromDefaultSourceWithBackorders` 進行測試以消除過早完成電子郵件欄位所導致的失敗。

<!-- AC-10863 -->

* `StorefrontVerifyProductAfterPartialReindexOnSeveralWebsitesTest` 已重構以提高可靠性。 [GitHub-38359](https://github.com/magento/magento2/issues/38359)

<!-- ACP2E-2501 -->

* 已修正 `AdminSimpleProductwithTextandVisualSwatch` 測試方法是引入一個額外步驟，明確設定要用於搜尋的屬性。

<!-- AC-9194 -->

* 已更正以下專案中的拼寫錯誤： `SortbyTest` 單元測試。 [GitHub-37792](https://github.com/magento/magento2/issues/37792)

<!-- AC-9035 -->

* 已移除對單元測試中不存在的類別的參照。 [GitHub-37636](https://github.com/magento/magento2/issues/37636)

<!-- ACP2E-2604 -->

* 改善 `AdminCreateOrderWithVirtualProductFromDefaultSourceWithBackorders` 進行測試以消除過早完成電子郵件欄位所導致的失敗。

<!-- ACP2E-2202 -->

* 已重構 `Magento\GraphQl\Catalog\ProductSearchTest::testFilterProductsBySingleCategoryId` 測試以處理中的隨機類別順序 `products` 查詢回應。

<!-- AC-6842 -->

* `\Magento\Test\Integrity\Di\CompilerTest::testConstructorIntegrity` test現在會驗證所登入模組中的所有PHP類別 `ComponentRegistrar()`.

<!-- AC-7098 -->

* 中大型陣列的效能問題 `TableNameSniff` 已解決。

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` 現在計入日光節約時間。

### UI框架

<!-- AC-8039 -->

* 此 `crossorigin` 屬性已新增至 `linkTypes` 的 `HEAD` 元素。[GitHub-32509](https://github.com/magento/magento2/issues/32509)

<!-- AC-9604 -->

* 影像上傳程式現在可在動態列中如預期般運作。 以跨國陣列傳送影像時，現在可以正確上傳影像。 [GitHub-37957](https://github.com/magento/magento2/issues/37957)

<!-- AC-10877 -->

* 檔案上傳樣式在Luma主題中不再重複。 [GitHub-32373](https://github.com/magento/magento2/issues/32373)

<!-- AC-9984 -->

* 街道欄位客戶帳戶編輯地址表單中的街道欄位現在已正確儲存。 這些欄位現在會依表單中提供的索引鍵正確排序。 [GitHub-37973](https://github.com/magento/magento2/issues/37973)

<!-- AC-3001 -->

* 產品詳細資料頁面的Cumulative Layout Shift (CLS)值已有所改善。 （此量度可量化頁面配置的視覺穩定性。）[GitHub-35410](https://github.com/magento/magento2/issues/35410)

<!-- AC-10567 -->

* 改善範本轉譯期間發生錯誤的傳訊功能。 Magento Open Source現在會顯示資訊訊息。 以前，當發生PHP錯誤時，Magento Open Source顯示的HTML洩漏。

<!-- ACP2E-2595 -->

* 自訂客戶屬性(型別 `File attached`)現在可正確處理已刪除的影像，然後上傳。 先前上傳的自訂屬性之後遭到刪除，最後又重新上傳，但無法從店面儲存。

<!-- AC-9125 -->

* 修正行事曆範本檔案中的語法錯誤。 [GitHub-37725](https://github.com/magento/magento2/issues/37725)

<!-- AC-6445 -->

* 現在，當單一商店模式啟用時，管理員使用者可以變更店面標誌。 之前，Magento Open Source會顯示預設的遞補標誌。 [GitHub-35952](https://github.com/magento/magento2/issues/35952)

<!-- ACP2E-2045 -->

* Mixin設定值不再空白，jQuery mixin現在不論載入位置為何，都能運作。 以往，jQuery mixin無法一致地跨瀏覽器載入。

<!-- AC-8823 -->

* 密碼現在會如預期顯示，當 **[!UICONTROL Show Password]** 「登入」頁面上的核取方塊為作用中。

<!-- ACP2E-2034 -->

* Magento Open Source現在會顯示具有特殊價格的固定套件產品的正確價格。

<!-- AC-8285 -->

* 更新店面頁尾範本檔案中GitHub問題清單頁面的連結。 [GitHub-37214](https://github.com/magento/magento2/issues/37214)

<!-- AC-6282 -->

* 「最近檢視的Widget」現在會在已分組的產品價格中顯示正確的稅捐金額。 [GitHub-35881](https://github.com/magento/magento2/issues/35881)

<!-- AC-6636 -->

* 管理員使用者現在可以如預期拖放針對簡單產品建立的可自訂選項。 [GitHub-36051](https://github.com/magento/magento2/issues/36051)

<!-- AC-8345 -->

* 產品下拉式清單屬性型別的順序現在與可設定產品頁面上的影像順序相符。 [GitHub-37285](https://github.com/magento/magento2/issues/37285)

<!-- ACP2E-1969 -->

* 系統訊息現在載入得更快。 只會載入正在顯示的訊息。 以前，所有訊息都是從資料庫載入，非常耗時。

<!-- ACP2E-1804 -->

* 透過設定移除階層連結節點 `remove=true` 透過版面XML不再導致類別頁面上的頁面標題移除。 之前，以這種方式移除階層連結會從類別頁面中移除頁面標題。

<!-- ACP2E-171 -->

* 現在，當客戶登錄檔單包含多選客戶屬性時，會如預期載入。 之前，Magento Open Source擲回此例外狀況： `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* 包含單引號的歡迎訊息現在會在店面上正確轉譯，不會出現主控台錯誤。 先前，如果歡迎訊息包含單引號，則在店面呈現期間不會載入歡迎訊息。 Magento Open Source也會顯示主控台錯誤。

<!-- ACP2E-1369 -->

* 當您嘗試在「管理員順序」頁面中的評論歷程記錄與傳回之間快速變更檢視時，Magento Open Source不再擲回錯誤。 以前，Magento Open Source顯示此一般錯誤： `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* 管理員使用者如果只有一個網站的許可權，現在可以將特定網站的產品屬性集更新為 `all stores view` 範圍。

<!-- ACP2E-1648 -->

* 放大鏡Widget現在會在產品頁面上如預期般載入。

<!-- ACP2E-1216 -->

* 多明細行可自訂選項現在會在商業發票、出貨及銷退折讓單PDF檔案中正確呈現。 以前，多行文字前面會出現非預期的分頁符號，如果文字超出頁面，文字會被截斷。

<!-- AC-7402 -->

* 現在，當為其他網站（其商店ID與網站ID不符）建立該客戶時，管理員使用者可以從管理員新增客戶地址。 Magento Open Source之前會顯示此快顯訊息： `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1775 -->

* 與在訂單詳細資訊頁面上提交評論相關的錯誤訊息，現在可提供更多資訊。 先前，當購物者按一下 **[!UICONTROL Submit comment]** 在不變更訂單狀態或在註解區輸入文字的情況下，Magento Open Source會顯示以下訊息： `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* 行事曆圖示現在按預期顯示在管理員的日期範圍欄位中 **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** 為一個欄位選取日期之後。 先前，您為一個欄位選取日期後，其他欄位不再顯示行事曆圖示，並Magento Open Source顯示預留位置文字。 [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* 包含多選欄位的客戶登錄檔單現在已成功載入。 以前，此表單包含多選欄位時未載入，並觸發以下錯誤： `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* 按一下Product Gallery全熒幕模式中的視訊縮圖，現在會如預期顯示視訊。 以前不顯示視訊，且瀏覽器主控台顯示JavaScript錯誤。 [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* 在每年自動更新的版權行中新增變數。 [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* 產品頁面上的影像滑桿現在可在行動檢視中正常運作。 以前，只成功顯示第一個影像。 [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### URL重新寫入

<!-- ACP2E-2549 -->

* 現在會根據多存放區部署中的存放區層級可見度設定產生URL重寫。 之前，當產品可見度設為時，不會為非預設商店產生URL重寫 **不可見** 在預設存放區範圍下。

<!-- AC-10464 -->

* `Category::getUrl()` 不再擷取301重新導向。 [GitHub-38152](https://github.com/magento/magento2/issues/38152)

<!-- ACP2E-2629 -->

* Magento Open Source不再為根類別和設為的產品產生產品URL重寫 **[!UICONTROL Not Visible Individually]** 多存放區設定中，產生自訂存放區遺失URL重寫時。

<!-- ACP2E-2481 -->

* 標準URL標籤現在會反映類別URL索引鍵屬性更新後所預期的變更。 以前使用過時的類別URL，這會立即觸發重新導向至新URL。

<!-- AC-6728 -->

* 當產品新增到類別時，類別產品URL重寫現在會如預期產生所有商店檢視。 [GitHub-32910](https://github.com/magento/magento2/issues/32910)

<!-- ACP2E-1783 -->

* 當您嘗試在下列情況下為產品URL建立301/302重新導向，Magento Open Source不再擲回錯誤 **產生類別/產品URL重寫** 已啟用。 建立產品並指派給類別時，就會建立自動化URL重新寫入：一個用於直接URL，另一個用於透過類別路徑的產品。 建立新產品URL重寫時，會檢查產品、類別和商店之間的關聯。 此檢查現在以關聯的實體屬性（類別和產品）為基礎。 之前，這項檢查會對預先存在的URL重寫執行。

<!-- ACP2E-1737 -->

* 現在從CSV檔案匯入新類別時，會為所有存放區檢視產生類別URL重寫。

<!-- ACP2E-1700 -->

* 產品URL尾碼和類別URL尾碼設定現在符合 `url_rewrite` 表格。 先前，更新URL尾碼設定時發生競爭條件，且已設定的URL尾碼和 `url_rewrite` 資料表不符。

<!-- ACP2E-1703 -->

* 現在，在建立類別URL重寫時，Magento Open Source會在所有層級轉譯類別樹狀結構。 以前，只顯示類別的前三個層級。 [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1737 -->

* 匯入新類別期間，CSV檔案中現在會出現類別URL重新寫入。

<!-- ACP2E-1668 -->

* 沒有URL重寫的多重儲存CMS頁面現在會如預期般轉送。 先前，系統會將要求的多存放區CMS頁面（不含URL重新寫入）重新導向至存放區首頁，但不會導向原始CMS頁面。

### Web API框架

<!-- AC-6980 -->

* Magento Open Source不再顯示 `Integration not secure` 管理員中的警告 **[!UICONTROL System]** > **[!UICONTROL Extensions]** > **[!UICONTROL Integrations]** 當 **[!UICONTROL Callback URL]** 和 **[!UICONTROL Identity link URL]** 欄位是空的。 [GitHub-36407](https://github.com/magento/magento2/issues/36407)

<!-- ACP2E-2483 -->

* 已新增 `taxes`， `itemized_taxes`、和 `additional_itemized_taxes` 擴充功能屬性至  `Magento\Sales\Api\Data\OrderInterface`. 這些屬性可讓您使用Order REST呼叫儲存套用的稅捐。

<!-- ACP2E-2610 -->

* 階層價格REST API現在支援小數數量。 之前，此API不允許小數數量，即使在 **[!UICONTROL Use Decimal Quantity]** 已啟用設定。

<!-- AC-8998 -->

* 其餘的 `V1/orders/{id}/comments` 端點不再變更訂單狀態當嘗試新增評論到擱置訂單的狀態。 它現在會提供資訊錯誤。 之前，此端點會在新增評論時變更順序狀態。

<!-- ACP2E-2275 -->

* REST API `GET` 和 `POST V1/products/attributes` 端點不再為 `is_filterable` 兩者的屬性 `Filterable(with results)` 和 `Filterable(no results)` 的選項 **[!UICONTROL Use in Layered Navigation]** 選項。 之前，此端點會傳回相同的值，因為 `is_filterable` 屬性屬性屬於型別 `Boolean`，不允許將此屬性設為 `Filterable(no results)`. [GitHub-37979](https://github.com/magento/magento2/issues/37979)

<!-- AC-9117 -->

* 遺失的 `media_gallery_entries` 欄位已新增至REST `V1/configurable-products/sku/children` 端點。 之前，此函式遺漏儲存和顯示所需的程式碼 `media_gallery_entries`. [GitHub-37607](https://github.com/magento/magento2/issues/37607)

<!-- ACP2E-1986 -->

* 其餘的 `V1/carts/mine/estimate-shipping-methods` 方法現在會驗證所有層級的裝載欄位資料，並傳回400個HTTP程式碼中的無效資料。 之前，僅驗證第一層的API裝載，如果以未驗證的裝載層級傳回無效的資料，Magento Open Source會傳回500狀態代碼。

<!-- ACP2E-2053 -->

* 非同步大量REST API作業，以更新具有層級價格和不同屬性集的產品，現已順利完成。 之前，無法以這種方式更新具有不同屬性集的產品，且Magento Open Source會顯示此錯誤： `The product was unable to be saved. Please try again`.

<!-- AC-7002 -->

* 此 `POST /V1/products/tier-prices` 端點現在會在層級價格建立期間使用無效的客戶群組名稱時，傳回資訊更豐富的錯誤訊息。 之前，Magento Open Source傳回類似以下的錯誤： `Notice: Undefined index: XXXXX in ~/public_html/vendor/magento/module-catalog/Model/Product/Price/Validation/TierPriceValidator.php on line 474"`. [GitHub-36431](https://github.com/magento/magento2/issues/36431)

<!-- ACP2E-1776 -->

* 您現在可以執行授權的非同步大量API請求，以使用非預設群組ID建立客戶。 以前，這些請求會將群組ID重設為預設值。

<!-- ACP2E-1543 -->

* 使用大量API建立的客戶現在會收到在其指派的網站中設定的語言的客戶註冊電子郵件。 以前，所有電子郵件都會傳送到預設地區設定，而不是客戶被指派的網站的地區設定。

<!-- ACP2E-1339 AC-7577-->

* 此 `POST V1/guest-carts` 以下情況時，呼叫不再提交訪客訂單： **[!UICONTROL Allow Guest Checkout]** 已停用。

<!-- ACP2E-1526 -->

* Magento Open Source現在已成功傳回 `content` 中的屬性（base64影像代碼） `GET V1/products/sku/media` 產品媒體API回應。 此 `content` 屬性先前未出現在回應中。

## 系統需求

我們的技術棧疊是以PHP和MySQL為基礎所建置。 如需詳細資訊，請參閱 [系統需求](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## 安裝和升級指示

您可以使用以下專案安裝Magento Open Source2.4.7： [作曲者](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
